<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
    <title>[9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 - 신홍준 | 항해플러스 프론트엔드 6기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 6기] 신홍준님이 제출한 [9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 신홍준, [9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 - 신홍준 | 항해플러스 프론트엔드 6기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 6기] 신홍준님이 제출한 [9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 - 신홍준 | 항해플러스 프론트엔드 6기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 6기] 신홍준님이 제출한 [9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_6th/assets/index-DtEqFcg_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><link rel="preload" as="image" href="https://github.com/user-attachments/assets/95e16831-6a86-4802-a1bd-d30bb69cb140"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/0943d125-699e-44de-b7fa-dcc941c4eeb9"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@jun17183/" data-discover="true">jun17183<!-- --> 님의 상세페이지</a> ＞ <!-- -->[9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-2/pull/1" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[9팀 신홍준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍🦍</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jun17183</span><span>2025. 8. 2.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="배포-링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포-링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포 링크</h2>
<p><a href="https://jun17183.github.io/front_6th_chapter2-2/">https://jun17183.github.io/front_6th_chapter2-2/</a></p>
<h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<br/>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>재사용 가능한 Custom UI 컴포넌트를 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 라이브러리 Hook을 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 유틸 함수를 만들어 보기</p>
</li>
<li>
<p>그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p>항해에서 종종 듣는 말이 있습니다. <strong>재밌겠다.</strong>
...?;;
이건 네트워킹이나 보드게임 모임을 보고 하는 말이 아닙니다. 과제를 보고 하는 말입니다. 과제가 재밌겠다니요.
물론 저도 개발자란 직업을 택한 사람으로서 무슨 느낌인지는 압니다.
하지만 그건 어디까지나 일 치고, 과제 치고 재밌다는 거지, 저는 당연히 넷플릭스 보고 게임 하는 게 더 재밌습니다.</p>
<p><strong>놀랍게도 이번 과제를 하면서 느낀 점은,,, 재밌었습니다.</strong>
&#x27;애니 봐야지~&#x27;, &#x27;게임 한 판 해야지~&#x27; 보다 &#x27;빨리 과제 해야지~&#x27; 라는 생각이 들었습니다.
이유를 떠올려 보자면 이전 과제들과 달리 주체적으로 작업했고, 그에 따른 결과물도 스스로 만족스러웠기 때문이라고 생각합니다.</p>
<p>우선 AI를 사용하지 않았습니다. Agent는 물론 Ask도 거의 사용하지 않았습니다.
4주차를 포함하여 그동안 AI의 명암을 많이 느껴왔지만, 그 중에서도 어두운 면에 대한 피로감이 쌓였던 것 같습니다.
하지만 직접 코드를 치고 결과를 확인하니 내가 확실히 알고 있다는 느낌, 100퍼 내 코드라는 느낌이 곧 즐거움으로 이어졌습니다.</p>
<p>이전 주차 과제들도 큰 도움이 되었습니다. 커스텀 훅과 친해지고, 폴더 구조를 나누는 것도 익숙해지고, 리팩토링도 적응이 되었습니다.
그동안 AI를 통해 많은 코드를 제공 받았고, 다른 분들의 코드도 보고, 솔루션도 얻으며 나만의 방향이 생긴 느낌입니다.
물론 고칠 부분, 아직 배워야 할 점도 많겠지만 어떻게 작업해야 할지 방황하던 지난 주차들과 달리 방향이 생겼으니 나아갈 생각만 하면 되었습니다.</p>
<p>이 밖에도 도움 주신 많은 분들 덕분에 너무 많은 인사이트를 얻은 주차가 아니었나 생각합니다.</p>
<p>(샤라웃)
<img width="1271" height="611" alt="image" src="https://github.com/user-attachments/assets/95e16831-6a86-4802-a1bd-d30bb69cb140"/></p>
<br/>
<hr/>
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<h4 id="1-기본-과제에서-심화로-쉽게-넘어갈-수-있도록-baisc-프로젝트-구성하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-기본-과제에서-심화로-쉽게-넘어갈-수-있도록-baisc-프로젝트-구성하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. 기본 과제에서 심화로 쉽게 넘어갈 수 있도록 baisc 프로젝트 구성하기</h4>
<p>props drilling은 피할 수 없겠지만 상태는 한 군데서 관리하고자 했습니다. <code>useAppState</code>라는 훅을 만들어 cart, product와 같은 state를 담았습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// useAppState.tsx</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>products<span class="token punctuation">,</span> setProductsState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>cart<span class="token punctuation">,</span> setCartState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>coupon<span class="token punctuation">,</span> setCouponState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>isAdmin<span class="token punctuation">,</span> setIsAdmin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>selectedCoupon<span class="token punctuation">,</span> setSelectedCoupon<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Coupon <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>searchTerm<span class="token punctuation">,</span> setSearchTerm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>debouncedSearchTerm<span class="token punctuation">,</span> setDebouncedSearchTerm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">return</span> <span class="token punctuation">{</span> products<span class="token punctuation">,</span> setProductsState<span class="token punctuation">,</span> cart<span class="token punctuation">,</span> setCartState<span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// useAppState.tsx
const [products, setProductsState] = useState&lt;Product[]&gt;(() =&gt; { ... });
const [cart, setCartState] = useState&lt;Product[]&gt;(() =&gt; { ... });
const [coupon, setCouponState] = useState&lt;Product[]&gt;(() =&gt; { ... });
const [isAdmin, setIsAdmin] = useState(false);
const [selectedCoupon, setSelectedCoupon] = useState&lt;Coupon | null&gt;(null);
const [searchTerm, setSearchTerm] = useState(&#x27;&#x27;);
const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(&#x27;&#x27;);

return { products, setProductsState, cart, setCartState, ... }
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>그리고 각 커스텀 훅에서 이를 인자로 받아 사용하였으며, 이를 App에서 한 번만 호출한 뒤 Action 단위로 관리하여 props로 전달하였습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> appState <span class="token operator">=</span> <span class="token function">useAppState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> notificationActions <span class="token operator">=</span> <span class="token function">useNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartActions <span class="token operator">=</span> <span class="token function">useCart</span><span class="token punctuation">(</span>appState<span class="token punctuation">,</span> notificationActions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> productsActions <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span>appState<span class="token punctuation">,</span> notificationActions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> couponActions <span class="token operator">=</span> <span class="token function">useCoupon</span><span class="token punctuation">(</span>appState<span class="token punctuation">,</span> notificationActions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token spread operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">{</span>isAdmin <span class="token operator">?</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AdminPage</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">productsActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productsActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">couponActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>couponActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">notificationActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>notificationActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserPage</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">appState</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>appState<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">productsActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productsActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">couponActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>couponActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">cartActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>cartActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">notificationActions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>notificationActions<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="const App = () =&gt; {
  const appState = useAppState();
  const notificationActions = useNotification();
  const cartActions = useCart(appState, notificationActions);
  const productsActions = useProducts(appState, notificationActions);
  const couponActions = useCoupon(appState, notificationActions);

  ...

  return (
    {isAdmin ? (
      &lt;AdminPage
        productsActions={productsActions}
        couponActions={couponActions}
        notificationActions={notificationActions}
      /&gt;
    ) : (
      &lt;UserPage
        appState={appState}
        productsActions={productsActions}
        couponActions={couponActions}
        cartActions={cartActions}
        notificationActions={notificationActions}
      /&gt;
    )}
  );
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>위와 같은 구성을 통해 개별 props를 난잡하게 보낼 필요가 없고, 심화 과제에선 action 대신 전역 상태 라이브러리를 사용하고 있는 커스텀 훅으로 변경만 해 주면 되었습니다.</p>
<br/>
<hr/>
<h4 id="2-우선-나부터-납득할-만한-코드-짜기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-우선-나부터-납득할-만한-코드-짜기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 우선 나부터 납득할 만한 코드 짜기</h4>
<p>이 파일에 있는 게 맞을까 싶은 코드를 최대한 줄이고 싶었습니다. 물론 정답은 없고 의견은 다르겠지만 적어도 자신의 코드에는 의문이 없도록 작업했습니다.</p>
<p>(의문 제거 과정)
<img width="1252" height="333" alt="image" src="https://github.com/user-attachments/assets/0943d125-699e-44de-b7fa-dcc941c4eeb9"/></p>
<p>제일 헷갈렸던 부분은 역시 <code>formatPrice</code> 함수였습니다. 처음에는 되게 유틸 함수 같은데 <code>isAdmin</code>이나 <code>product</code> 같은 상태를 참조하고 있고, 그래서 상품 훅 <code>useProducts</code>으로 빼려고 하니 <code>getRemainingStock</code>에선 <code>cart</code>를 바라보고 있었습니다.</p>
<p>고민하다 결국 디스코드 채널에 질문을 남기게 되었고 <strong>&quot;cart, product 등 엔티티만을 다루는 계층이 존재한다면 두 함수는 존재해선 안되는 함수&quot;</strong>,  <strong>&quot;모듈 내에서 암묵적으로 값을 가져와서 부수효과가 일어나고 있다. 이를 분리하는 것이 순수 함수&quot;</strong> 라는 감사한 조언들 들었습니다.</p>
<p>(참고)
<a href="https://bbakjun.notion.site/2-2025-02-03-18d42b6fc4ab807e8a07f3f3631c9415?source=copy_link">https://bbakjun.notion.site/2-2025-02-03-18d42b6fc4ab807e8a07f3f3631c9415?source=copy_link</a>
(준형님 최고)</p>
<p>이를 바탕으로 다음과 같이 계산 부분은 유틸로 분리하고 나머지 부분은 각 사용처에서 인자로 전달하였습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// utils.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Product<span class="token punctuation">,</span> <span class="token constant">SOLD_OUT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getRemainingStock <span class="token operator">=</span> <span class="token punctuation">(</span>stock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> quantity<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> stock <span class="token operator">-</span> <span class="token punctuation">(</span>quantity <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatAdminPrice <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span>stock<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token constant">SOLD_OUT</span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">원</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatUserPrice <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span>stock<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token constant">SOLD_OUT</span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// utils.ts
import { Product, SOLD_OUT } from &#x27;./types&#x27;;

export const getRemainingStock = (stock: number, quantity?: number): number =&gt; {
  return stock - (quantity || 0);
};

export const formatAdminPrice = (product: Product): string =&gt; {
  return getRemainingStock(product.stock) &lt;= 0 ? SOLD_OUT : `${product.price.toLocaleString()}원`;
};

export const formatUserPrice = (product: Product): string =&gt; {
  return getRemainingStock(product.stock) &lt;= 0 ? SOLD_OUT : `₩${product.price.toLocaleString()}`;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<br/>
<hr/>
<h4 id="3-배보다-배꼽이-커지지-않기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-배보다-배꼽이-커지지-않기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. 배보다 배꼽이 커지지 않기</h4>
<p>어디서 FSD라는 말을 주워 들어서 흉내 내 보기로 하였습니다.</p>
<pre><code class="code-highlight"><span class="code-line">src/
</span><span class="code-line">├── pages/
</span><span class="code-line">│   ├── admin/
</span><span class="code-line">│   │   └── index.ts
</span><span class="code-line">│   ├── user/
</span><span class="code-line">│        └── index.ts
</span><span class="code-line">├── features/
</span><span class="code-line">│   ├── cart/
</span><span class="code-line">│   │   ├── components/
</span><span class="code-line">│   │   ├── hooks/
</span><span class="code-line">│   │   └── util/
</span><span class="code-line">│   ├── coupon/
</span><span class="code-line">│   │   ├── components/
</span><span class="code-line">│   │   ├── hooks/
</span><span class="code-line">│   │   └── util/
</span><span class="code-line">│   ├── notification/
</span><span class="code-line">│   │   ├── components/
</span><span class="code-line">│   │   ├── hooks/
</span><span class="code-line">│   │   └── util/
</span><span class="code-line">│   └── products/
</span><span class="code-line">│        ├── components/
</span><span class="code-line">│        ├── hooks/
</span><span class="code-line">│        └── util/
</span><span class="code-line">└── shared/
</span><span class="code-line">     ├── components/
</span><span class="code-line">     ├── constants/
</span><span class="code-line">     ├── hooks/
</span><span class="code-line">     └── util/
</span></code><div class="copied" data-code="src/
├── pages/
│   ├── admin/
│   │   └── index.ts
│   ├── user/
│        └── index.ts
├── features/
│   ├── cart/
│   │   ├── components/
│   │   ├── hooks/
│   │   └── util/
│   ├── coupon/
│   │   ├── components/
│   │   ├── hooks/
│   │   └── util/
│   ├── notification/
│   │   ├── components/
│   │   ├── hooks/
│   │   └── util/
│   └── products/
│        ├── components/
│        ├── hooks/
│        └── util/
└── shared/
     ├── components/
     ├── constants/
     ├── hooks/
     └── util/
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>막상 이렇게 구조를 만들고 나니 너무 과하다고 느껴졌습니다. 관리자 페이지와 사용자 페이지에서 함께 쓰는 컴포넌트가 없어 각 feature 마다 AdminCartList, UserCartList 처럼 접두어를 달아야 했으며, 폴더 아래에 하나의 파일만 있는 경우가 대부분이었습니다.</p>
<p>차라리 관리자-사용자로 나누는 편이 응집도가 높지 않을까 라고 생각하였기에 다음과 같이 폴더 구조를 수정하였습니다.</p>
<pre><code class="code-highlight"><span class="code-line">src/
</span><span class="code-line">├── admin/
</span><span class="code-line">│   ├── components/
</span><span class="code-line">│   ├── pages/
</span><span class="code-line">│   └── index.ts
</span><span class="code-line">├── user/
</span><span class="code-line">│   ├── components/
</span><span class="code-line">│   └── index.ts
</span><span class="code-line">└── shared/
</span><span class="code-line">     ├── components/
</span><span class="code-line">     ├── hooks/
</span><span class="code-line">     ├── constants.ts
</span><span class="code-line">     ├── types.ts
</span><span class="code-line">     └── utils.ts
</span></code><div class="copied" data-code="src/
├── admin/
│   ├── components/
│   ├── pages/
│   └── index.ts
├── user/
│   ├── components/
│   └── index.ts
└── shared/
     ├── components/
     ├── hooks/
     ├── constants.ts
     ├── types.ts
     └── utils.ts
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>훨씬 직관적인 폴더 구조라고 생각합니다. 만약 다른 사람이 유지보수를 하게 된다면 이 폴더 구조가 더 파악하기 쉽지 않을까 생각합니다.</p>
<p>이 밖에도 jotai를 사용하는 과정에서 atom, reducer, selector로 기능을 분리했다가, 각 feature 당 reducer로 구성된 atom 파일 하나만 구성하는 등 최대한 직관적이고 가벼운 구조로 구성하려 노력했습니다.</p>
<br/>
<hr/>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<p>프로젝트의 규모를 생각하여 폴더 구조나 파일 분리를 가벼운 단위로 가져갔습니다. 적절한 선택이라고 생각합니다.
다만 이건 과제이기 때문에 이 정도 규모인 거지, 만약 훨씬 큰 규모의 프로젝트라면 그에 맞는 폴더 구조와 파일 분리를 잘 할 수 있을까 하는 의문이 듭니다.</p>
<p>form 컴포넌트가 너무 무거운 점 또한 아쉽습니다. 다른 분들은 핸들러를 훅으로 분리하는 방안을 말씀하시던데 거기까진 고민의 깊이가 닿지 못했습니다.</p>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<h2 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문</h2>
<h4 id="1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1.</h4>
<p>아래와 같이 포맷 함수나 계산 함수를 utils 파일로 분리하긴 했는데 적절하다고 생각하진 않습니다. 당장 인자 값도 product와 같은 엔티티를 쓰고 있으며, utils로만 묶기엔 여러 역할의 함수가 있다고 생각합니다.</p>
<p>다만 나눈다면 어떻게 나눠야 할까? 라는 생각이 듭니다. 각 도메인마다 util 파일이 존재해야 하는 건지, 그렇다면 그건 util 이라고 부르는 건 적절한지 모르겠습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Coupon</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Product</span><span class="token punctuation">,</span> <span class="token constant">SOLD_OUT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 재고 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getRemainingStock <span class="token operator">=</span> <span class="token punctuation">(</span>stock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> quantity<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> stock <span class="token operator">-</span> <span class="token punctuation">(</span>quantity <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 관리자 가격 포맷</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatAdminPrice <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> <span class="token maybe-class-name">Product</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token property-access">stock</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token constant">SOLD_OUT</span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">원</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 사용자 가격 포맷</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatUserPrice <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> <span class="token maybe-class-name">Product</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token property-access">stock</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token constant">SOLD_OUT</span> <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 대량 구매 여부 확인</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> hasBulkPurchase <span class="token operator">=</span> <span class="token punctuation">(</span>cart<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> cart<span class="token punctuation">.</span><span class="token method function property-access">some</span><span class="token punctuation">(</span>cartItem <span class="token arrow operator">=&gt;</span> cartItem<span class="token punctuation">.</span><span class="token property-access">quantity</span> <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 최대 적용 가능한 할인 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getMaxApplicableDiscount <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">,</span> cart<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> discounts <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token property-access">product</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> quantity <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> baseDiscount <span class="token operator">=</span> discounts<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>maxDiscount<span class="token punctuation">,</span> discount<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> quantity <span class="token operator">&gt;=</span> discount<span class="token punctuation">.</span><span class="token property-access">quantity</span> <span class="token operator">&amp;&amp;</span> discount<span class="token punctuation">.</span><span class="token property-access">rate</span> <span class="token operator">&gt;</span> maxDiscount
</span><span class="code-line">      <span class="token operator">?</span> discount<span class="token punctuation">.</span><span class="token property-access">rate</span>
</span><span class="code-line">      <span class="token operator">:</span> maxDiscount<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">hasBulkPurchase</span><span class="token punctuation">(</span>cart<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span>baseDiscount <span class="token operator">+</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">:</span> baseDiscount<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 아이템 총 가격 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateItemTotal <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">,</span> cart<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> price <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token property-access">product</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> quantity <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> discount <span class="token operator">=</span> <span class="token function">getMaxApplicableDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">round</span><span class="token punctuation">(</span>price <span class="token operator">*</span> quantity <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> discount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 카트 총 가격 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateCartTotal <span class="token operator">=</span> <span class="token punctuation">(</span>cart<span class="token operator">:</span> <span class="token maybe-class-name">CartItem</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> selectedCoupon<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Coupon</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  totalBeforeDiscount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  totalAfterDiscount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalBeforeDiscount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalAfterDiscount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  cart<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span>item <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    totalBeforeDiscount <span class="token operator">+=</span> item<span class="token punctuation">.</span><span class="token property-access">product</span><span class="token punctuation">.</span><span class="token property-access">price</span> <span class="token operator">*</span> item<span class="token punctuation">.</span><span class="token property-access">quantity</span><span class="token punctuation">;</span>
</span><span class="code-line">    totalAfterDiscount <span class="token operator">+=</span> <span class="token function">calculateItemTotal</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedCoupon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedCoupon<span class="token punctuation">.</span><span class="token property-access">discountType</span> <span class="token operator">===</span> <span class="token string">&#x27;amount&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      totalAfterDiscount <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">        totalAfterDiscount <span class="token operator">-</span> selectedCoupon<span class="token punctuation">.</span><span class="token property-access">discountValue</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      totalAfterDiscount <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">round</span><span class="token punctuation">(</span>
</span><span class="code-line">        totalAfterDiscount <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> selectedCoupon<span class="token punctuation">.</span><span class="token property-access">discountValue</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    totalBeforeDiscount<span class="token operator">:</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">round</span><span class="token punctuation">(</span>totalBeforeDiscount<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    totalAfterDiscount<span class="token operator">:</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">round</span><span class="token punctuation">(</span>totalAfterDiscount<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="import { CartItem, Coupon, Product, SOLD_OUT } from &#x27;./types&#x27;;

// 재고 계산
export const getRemainingStock = (stock: number, quantity?: number): number =&gt; {
  return stock - (quantity || 0);
};

// 관리자 가격 포맷
export const formatAdminPrice = (product: Product): string =&gt; {
  return getRemainingStock(product.stock) &lt;= 0 ? SOLD_OUT : `${product.price.toLocaleString()}원`;
};

// 사용자 가격 포맷
export const formatUserPrice = (product: Product): string =&gt; {
  return getRemainingStock(product.stock) &lt;= 0 ? SOLD_OUT : `₩${product.price.toLocaleString()}`;
};

// 대량 구매 여부 확인
export const hasBulkPurchase = (cart: CartItem[]): boolean =&gt; {
  return cart.some(cartItem =&gt; cartItem.quantity &gt;= 10);
};

// 최대 적용 가능한 할인 계산
export const getMaxApplicableDiscount = (item: CartItem, cart: CartItem[]): number =&gt; {
  const { discounts } = item.product;
  const { quantity } = item;

  const baseDiscount = discounts.reduce((maxDiscount, discount) =&gt; {
    return quantity &gt;= discount.quantity &amp;&amp; discount.rate &gt; maxDiscount
      ? discount.rate
      : maxDiscount;
  }, 0);

  return hasBulkPurchase(cart) ? Math.min(baseDiscount + 0.05, 0.5) : baseDiscount;
};

// 아이템 총 가격 계산
export const calculateItemTotal = (item: CartItem, cart: CartItem[]): number =&gt; {
  const { price } = item.product;
  const { quantity } = item;
  const discount = getMaxApplicableDiscount(item, cart);

  return Math.round(price * quantity * (1 - discount));
};

// 카트 총 가격 계산
export const calculateCartTotal = (cart: CartItem[], selectedCoupon?: Coupon): {
  totalBeforeDiscount: number;
  totalAfterDiscount: number;
} =&gt; {
  let totalBeforeDiscount = 0;
  let totalAfterDiscount = 0;

  cart.forEach(item =&gt; {
    totalBeforeDiscount += item.product.price * item.quantity;
    totalAfterDiscount += calculateItemTotal(item, cart);
  });

  if (selectedCoupon) {
    if (selectedCoupon.discountType === &#x27;amount&#x27;) {
      totalAfterDiscount = Math.max(
        0,
        totalAfterDiscount - selectedCoupon.discountValue
      );
    } else {
      totalAfterDiscount = Math.round(
        totalAfterDiscount * (1 - selectedCoupon.discountValue / 100)
      );
    }
  }

  return {
    totalBeforeDiscount: Math.round(totalBeforeDiscount),
    totalAfterDiscount: Math.round(totalAfterDiscount),
  };
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h4 id="2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2.</h4>
<p>Form 컴포넌트의 코드 수를 줄일 수 있는 방법이 있을까요? 아무래도 입력할 부분이 많고 그만큼 jsx 코드 길이도, 핸들러 수도 많아 Form 컴포넌트 만큼은 코드 라인 수가 길어지더라구요.</p>
<p>각 input 단위로 컴포넌트를 나누기엔 최소 컴포넌트 단위가 프로젝트 규모에 비해 너무 작다고 생각이 들더라구요. 핸들러 또한 다른 분들은 훅으로 분리하는 분들도 계시던데, 어차피 이 Form 안에서만 사용할 기능을 훅으로 분리하는 게 맞나 싶기도 합니다. 좋은 방법이 있을까요?</p>
<p>@@장문(코드) 주의@@</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Product</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../shared/types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> initialProductForm <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../shared/constants&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ProductDiscountItem</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;./ProductDiscountItem&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useProducts <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../shared/hooks/useProducts&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useNotification <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../shared/hooks/useNotification&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ProductForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  setShowProductForm<span class="token punctuation">,</span>
</span><span class="code-line">  productForm<span class="token punctuation">,</span>
</span><span class="code-line">  setProductForm<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function-variable function">setShowProductForm</span><span class="token operator">:</span> <span class="token punctuation">(</span>show<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line">  productForm<span class="token operator">:</span> <span class="token maybe-class-name">Product</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function-variable function">setProductForm</span><span class="token operator">:</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> <span class="token maybe-class-name">Product</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> addProduct<span class="token punctuation">,</span> updateProduct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> addNotification <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상품 제출</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleProductSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">FormEvent</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    e<span class="token punctuation">.</span><span class="token method function property-access">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>productForm<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">updateProduct</span><span class="token punctuation">(</span>productForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addProduct</span><span class="token punctuation">(</span>productForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span>initialProductForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setShowProductForm</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상품 변경</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleProductChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// #region 상품 정보 변경</span>
</span><span class="code-line">  <span class="token comment">// 가격 변경</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">changePrice</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token char-set class-name">\d</span><span class="token quantifier number">+</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span>
</span><span class="code-line">        price<span class="token operator">:</span> value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 가격 포커스 아웃</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handlePriceBlur</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">FocusEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;가격은 0보다 커야 합니다&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;error&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 재고 변경</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">changeStock</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">ChangeEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">||</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token anchor function">^</span><span class="token char-set class-name">\d</span><span class="token quantifier number">+</span><span class="token anchor function">$</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span>
</span><span class="code-line">        stock<span class="token operator">:</span> value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 재고 포커스 아웃</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleStockBlur</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">FocusEvent</span></span><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> stock<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;재고는 0보다 커야 합니다&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;error&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> stock<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">9999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;재고는 9999개를 초과할 수 없습니다&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;error&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> stock<span class="token operator">:</span> <span class="token number">9999</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 할인 추가</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">addDiscount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span>
</span><span class="code-line">      discounts<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>productForm<span class="token punctuation">.</span><span class="token property-access">discounts</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> quantity<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> rate<span class="token operator">:</span> <span class="token number">0.1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 할인 제거</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">removeDiscount</span> <span class="token operator">=</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span>
</span><span class="code-line">      discounts<span class="token operator">:</span> productForm<span class="token punctuation">.</span><span class="token property-access">discounts</span><span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> i <span class="token operator">!==</span> index<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 할인 퍼센트 변경</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">changeDiscountRate</span> <span class="token operator">=</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newDiscounts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>productForm<span class="token punctuation">.</span><span class="token property-access">discounts</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    newDiscounts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">rate</span> <span class="token operator">=</span> <span class="token punctuation">(</span>percent <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> discounts<span class="token operator">:</span> newDiscounts <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 할인 수량 변경</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">changeDiscountQuantity</span> <span class="token operator">=</span> <span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newDiscounts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>productForm<span class="token punctuation">.</span><span class="token property-access">discounts</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    newDiscounts<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">quantity</span> <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setProductForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>productForm<span class="token punctuation">,</span> discounts<span class="token operator">:</span> newDiscounts <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// #endregion</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p-6 border-t border-gray-200 bg-gray-50<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleProductSubmit<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>space-y-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-lg font-medium text-gray-900<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">?</span> <span class="token string">&#x27;상품 수정&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;새 상품 추가&#x27;</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grid grid-cols-1 gap-4 sm:grid-cols-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token punctuation">{</span><span class="token comment">/* 상품명 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>block text-sm font-medium text-gray-700 mb-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">              상품명
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleProductChange<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">required</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token punctuation">{</span><span class="token comment">/* 설명 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>block text-sm font-medium text-gray-700 mb-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">              설명
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">description</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleProductChange<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token punctuation">{</span><span class="token comment">/* 가격 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>block text-sm font-medium text-gray-700 mb-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">              가격
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">price</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">:</span> productForm<span class="token punctuation">.</span><span class="token property-access">price</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changePrice<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handlePriceBlur<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>숫자만 입력<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">required</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token punctuation">{</span><span class="token comment">/* 재고 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>block text-sm font-medium text-gray-700 mb-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">              재고
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stock<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">stock</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#x27;&#x27;</span> <span class="token operator">:</span> productForm<span class="token punctuation">.</span><span class="token property-access">stock</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeStock<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleStockBlur<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>숫자만 입력<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">required</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span><span class="token comment">/* 할인 정책 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mt-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>block text-sm font-medium text-gray-700 mb-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            할인 정책
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>space-y-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">discounts</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>discount<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductDiscountItem</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">discount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>discount<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">index</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">changeDiscountQuantity</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeDiscountQuantity<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">changeDiscountRate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeDiscountRate<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">                <span class="token attr-name">removeDiscount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>removeDiscount<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addDiscount<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-sm text-indigo-600 hover:text-indigo-800<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">              + 할인 추가
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span><span class="token comment">/* 버튼 */</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex justify-end gap-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript">              <span class="token function">setProductForm</span><span class="token punctuation">(</span>initialProductForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript">              <span class="token function">setShowProductForm</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript">            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            취소
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token punctuation">{</span>productForm<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">?</span> <span class="token string">&#x27;수정&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;추가&#x27;</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="import { Product } from &#x27;../../../shared/types&#x27;;
import { initialProductForm } from &#x27;../../../shared/constants&#x27;;
import { ProductDiscountItem } from &#x27;./ProductDiscountItem&#x27;;
import { useProducts } from &#x27;../../../shared/hooks/useProducts&#x27;;
import { useNotification } from &#x27;../../../shared/hooks/useNotification&#x27;;

export const ProductForm = ({
  setShowProductForm,
  productForm,
  setProductForm,
}: {
  setShowProductForm: (show: boolean) =&gt; void;
  productForm: Product;
  setProductForm: (product: Product) =&gt; void;
}) =&gt; {
  const { addProduct, updateProduct } = useProducts();
  const { addNotification } = useNotification();

  // 상품 제출
  const handleProductSubmit = (e: React.FormEvent) =&gt; {
    e.preventDefault();
    if (productForm.id) {
      updateProduct(productForm);
    } else {
      addProduct(productForm);
    }
    setProductForm(initialProductForm);
    setShowProductForm(false);
  };

  // 상품 변경
  const handleProductChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
    const { name, value } = e.target;
    setProductForm({ ...productForm, [name]: value });
  };

  // #region 상품 정보 변경
  // 가격 변경
  const changePrice = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
    const value = e.target.value;
    if (value === &#x27;&#x27; || /^\d+$/.test(value)) {
      setProductForm({
        ...productForm,
        price: value === &#x27;&#x27; ? 0 : parseInt(value),
      });
    }
  };

  // 가격 포커스 아웃
  const handlePriceBlur = (e: React.FocusEvent&lt;HTMLInputElement&gt;) =&gt; {
    const value = e.target.value;
    if (value === &#x27;&#x27;) {
      setProductForm({ ...productForm, price: 0 });
    } else if (parseInt(value) &lt; 0) {
      addNotification(&#x27;가격은 0보다 커야 합니다&#x27;, &#x27;error&#x27;);
      setProductForm({ ...productForm, price: 0 });
    }
  };

  // 재고 변경
  const changeStock = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
    const value = e.target.value;
    if (value === &#x27;&#x27; || /^\d+$/.test(value)) {
      setProductForm({
        ...productForm,
        stock: value === &#x27;&#x27; ? 0 : parseInt(value),
      });
    }
  };

  // 재고 포커스 아웃
  const handleStockBlur = (e: React.FocusEvent&lt;HTMLInputElement&gt;) =&gt; {
    const value = e.target.value;
    if (value === &#x27;&#x27;) {
      setProductForm({ ...productForm, stock: 0 });
    } else if (parseInt(value) &lt; 0) {
      addNotification(&#x27;재고는 0보다 커야 합니다&#x27;, &#x27;error&#x27;);
      setProductForm({ ...productForm, stock: 0 });
    } else if (parseInt(value) &gt; 9999) {
      addNotification(&#x27;재고는 9999개를 초과할 수 없습니다&#x27;, &#x27;error&#x27;);
      setProductForm({ ...productForm, stock: 9999 });
    }
  };

  // 할인 추가
  const addDiscount = () =&gt; {
    setProductForm({
      ...productForm,
      discounts: [...productForm.discounts, { quantity: 10, rate: 0.1 }],
    });
  };

  // 할인 제거
  const removeDiscount = (index: number) =&gt; {
    setProductForm({
      ...productForm,
      discounts: productForm.discounts.filter((_, i) =&gt; i !== index),
    });
  };

  // 할인 퍼센트 변경
  const changeDiscountRate = (index: number, percent: number) =&gt; {
    const newDiscounts = [...productForm.discounts];
    newDiscounts[index].rate = (percent || 0) / 100;
    setProductForm({ ...productForm, discounts: newDiscounts });
  };

  // 할인 수량 변경
  const changeDiscountQuantity = (index: number, quantity: number) =&gt; {
    const newDiscounts = [...productForm.discounts];
    newDiscounts[index].quantity = quantity;
    setProductForm({ ...productForm, discounts: newDiscounts });
  };
  // #endregion

  return (
    &lt;div className=&quot;p-6 border-t border-gray-200 bg-gray-50&quot;&gt;
      &lt;form onSubmit={handleProductSubmit} className=&quot;space-y-4&quot;&gt;
        &lt;h3 className=&quot;text-lg font-medium text-gray-900&quot;&gt;
          {productForm.id ? &#x27;상품 수정&#x27; : &#x27;새 상품 추가&#x27;}
        &lt;/h3&gt;
        &lt;div className=&quot;grid grid-cols-1 gap-4 sm:grid-cols-2&quot;&gt;
          {/* 상품명 */}
          &lt;div&gt;
            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;
              상품명
            &lt;/label&gt;
            &lt;input
              name=&quot;name&quot;
              type=&quot;text&quot;
              value={productForm.name}
              onChange={handleProductChange}
              className=&quot;w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border&quot;
              required
            /&gt;
          &lt;/div&gt;

          {/* 설명 */}
          &lt;div&gt;
            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;
              설명
            &lt;/label&gt;
            &lt;input
              name=&quot;description&quot;
              type=&quot;text&quot;
              value={productForm.description}
              onChange={handleProductChange}
              className=&quot;w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border&quot;
            /&gt;
          &lt;/div&gt;

          {/* 가격 */}
          &lt;div&gt;
            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;
              가격
            &lt;/label&gt;
            &lt;input
              name=&quot;price&quot;
              type=&quot;text&quot;
              value={productForm.price === 0 ? &#x27;&#x27; : productForm.price}
              onChange={changePrice}
              onBlur={handlePriceBlur}
              className=&quot;w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border&quot;
              placeholder=&quot;숫자만 입력&quot;
              required
            /&gt;
          &lt;/div&gt;

          {/* 재고 */}
          &lt;div&gt;
            &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;&gt;
              재고
            &lt;/label&gt;
            &lt;input
              name=&quot;stock&quot;
              type=&quot;text&quot;
              value={productForm.stock === 0 ? &#x27;&#x27; : productForm.stock}
              onChange={changeStock}
              onBlur={handleStockBlur}
              className=&quot;w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2 border&quot;
              placeholder=&quot;숫자만 입력&quot;
              required
            /&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        {/* 할인 정책 */}
        &lt;div className=&quot;mt-4&quot;&gt;
          &lt;label className=&quot;block text-sm font-medium text-gray-700 mb-2&quot;&gt;
            할인 정책
          &lt;/label&gt;
          &lt;div className=&quot;space-y-2&quot;&gt;
            {productForm.discounts.map((discount, index) =&gt; (
              &lt;ProductDiscountItem
                key={index}
                discount={discount}
                index={index}
                changeDiscountQuantity={changeDiscountQuantity}
                changeDiscountRate={changeDiscountRate}
                removeDiscount={removeDiscount}
              /&gt;
            ))}
            &lt;button
              type=&quot;button&quot;
              onClick={addDiscount}
              className=&quot;text-sm text-indigo-600 hover:text-indigo-800&quot;
            &gt;
              + 할인 추가
            &lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        {/* 버튼 */}
        &lt;div className=&quot;flex justify-end gap-3&quot;&gt;
          &lt;button
            type=&quot;button&quot;
            onClick={() =&gt; {
              setProductForm(initialProductForm);
              setShowProductForm(false);
            }}
            className=&quot;px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50&quot;
          &gt;
            취소
          &lt;/button&gt;
          &lt;button
            type=&quot;submit&quot;
            className=&quot;px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700&quot;
          &gt;
            {productForm.id ? &#x27;수정&#x27; : &#x27;추가&#x27;}
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>수고했어요! 홍준</p>
<p>&quot;놀랍게도 이번 과제를 하면서 느낀 점은,,, 재밌었습니다.
&#x27;애니 봐야지~&#x27;, &#x27;게임 한 판 해야지~&#x27; 보다 &#x27;빨리 과제 해야지~&#x27; 라는 생각이 들었습니다.
이유를 떠올려 보자면 이전 과제들과 달리 주체적으로 작업했고, 그에 따른 결과물도 스스로 만족스러웠기 때문이라고 생각합니다.&quot;</p>
<p>출제자로써 너무나 만족스러운 내용이네요ㅎ 코드를 정리정돈하면서 이해도가 선명해져가는 기분은 뭔가 만들어가는 코딩에 비해 또 새로운 즐거움이죠. 그렇게 직접 해보면서 능동적인 도움을 구해가며 AI와 함께 코딩을 해보는 경험도 좋아보여요. 아주 아주 잘했습니다. 도움이 되었다니 기쁘네요!</p>
<p>Q)
아래와 같이 포맷 함수나 계산 함수를 utils 파일로 분리하긴 했는데 적절하다고 생각하진 않습니다. 당장 인자 값도 product와 같은 엔티티를 쓰고 있으며, utils로만 묶기엔 여러 역할의 함수가 있다고 생각합니다.</p>
<p>다만 나눈다면 어떻게 나눠야 할까? 라는 생각이 듭니다. 각 도메인마다 util 파일이 존재해야 하는 건지, 그렇다면 그건 util 이라고 부르는 건 적절한지 모르겠습니다.</p>
<p>=&gt; 과제의 의도는 도메인에 쓰이는 순수함수와 도메인과 무관한 유틸함수의 경계를 구분하기를 바랬습니다. 도메인을 중심으로 코드를 정리하면 자연스레 비즈니스 로직과 그렇지 않은 로직을 구분할 수 있거든요. 순수함수 vs 부수효과, 도메인 vs 비도메인은 다른 관점이니까요.</p>
<p>=&gt; 모든 도메인에 모든 유틸이 있어야 할 필요는 없습니다. 그리고 같은 유틸스러운 코드라 하더라도 도메인이 엮이고 안 엮이고의 차이를 느껴보기를 바랬습니다. 굳이 나눈다면 도메인을 기준으로 나누는게 좋습니다. 도메인이 포함되지 않은 코드여야 라이브러리로써 다른 데서도 재사용이 가능하니까요.</p>
<p>2
Form 컴포넌트의 코드 수를 줄일 수 있는 방법이 있을까요? 아무래도 입력할 부분이 많고 그만큼 jsx 코드 길이도, 핸들러 수도 많아 Form 컴포넌트 만큼은 코드 라인 수가 길어지더라구요.</p>
<p>=&gt; 그래서 react-hook-form과 같은 form 전용 훅을 사용하게 되죠. 홍준과 같은 고민을 이미 많은 사람들이 해봤을 거에요. 다양한 form을 다루는 hook 라이브러리들을 살펴보면서 이런식으로도 해볼 수 있구나 하는걸 느껴보면 좋겠어요.</p>
<p>ps. 과제 채점 빼먹어서 미안해요!! ^^;</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
