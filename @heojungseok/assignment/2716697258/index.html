<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-C86_9DIC.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-Dvjhel9t.css">
</head>
<body>
<div id="root"><link rel="preload" as="image" href="https://github.com/user-attachments/assets/1baa30d0-6e69-4fa2-9a95-828bf124002c"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@heojungseok/" data-discover="true">heojungseok<!-- --> 님의 상세페이지</a> ＞ <!-- -->[5팀 허정석] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-2/pull/28" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[5팀 허정석] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->heojungseok</span><span>2025. 8. 4.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>재사용 가능한 Custom UI 컴포넌트를 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 라이브러리 Hook을 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 유틸 함수를 만들어 보기</p>
</li>
<li>
<p>그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p><a href="https://heojungseok.github.io/front_6th_chapter2-2/">과제 배포</a></p>
<p>이번 5주차 과제는 <a href="https://velog.io/@jungseokheo/hanghaeplus4thweek">지난 회고</a> 에서 언급했던 <em>Try</em> 부분과 지난 주차에서도 사용했던 <em>history</em> 를 남기는 방식을 함께 진행해봤습니다.</p>
<img width="284" height="466" alt="image" src="https://github.com/user-attachments/assets/1baa30d0-6e69-4fa2-9a95-828bf124002c"/>
<h3 id="과제-진행-요약"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-진행-요약"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 진행 요약</h3>
<ul>
<li><strong>전체 방향</strong>
<ul>
<li>SRP 기반 계층 분리: 계산/검증은 <code>utils/*</code>, 도메인 로직은 <code>services/*</code>, 상태·흐름은 <code>hooks/*</code>, 렌더링은 <code>components/*</code></li>
<li>점진 리팩터링과 테스트/트러블슈팅 병행</li>
</ul>
</li>
</ul>
<h3 id="타임라인"><a class="anchor" aria-hidden="true" tabindex="-1" href="#타임라인"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>타임라인</h3>
<ul>
<li>
<p><strong>08/04 기본 리팩터링</strong></p>
<ul>
<li>계산 분리: <code>utils/calculators.ts</code>(아이템 합계, 최대 할인, 카트 합계)</li>
<li>검색 분리: <code>utils/filters.ts</code></li>
<li>타입 정리: <code>types.ts</code>(뷰/엔티티 타입 구분)</li>
<li>함수 합성, 상수화, 순수함수 원칙 정립</li>
<li>테스트 에러 해결 및 통과</li>
</ul>
</li>
<li>
<p><strong>08/05 훅/서비스 분리</strong></p>
<ul>
<li>공용 훅: <code>useLocalStorage</code>, <code>useNotifications</code>, <code>useDebounce</code></li>
<li>도메인 훅+서비스: <code>useCoupon</code>+<code>couponService</code>, <code>useProducts</code>+<code>productService</code>, <code>useCart</code>+<code>cartService</code>/<code>validators</code></li>
<li>의존성 주입, 단일 책임 강화</li>
<li>UI 상태 훅: <code>useUIState</code>, <code>useCouponForm</code>(소유권 충돌 해결)</li>
<li>버그 해결: 편집 핸들러, 쿠폰 합계 반영</li>
</ul>
</li>
<li>
<p><strong>08/06 컴포넌트 분리(Middle-Out)</strong></p>
<ul>
<li><code>CouponManagement</code> → <code>CouponForm</code>/<code>CouponCard</code>/<code>AddCouponButton</code></li>
<li><code>ProductManagement</code> → <code>ProductForm</code>/<code>ProductTable</code>/<code>AddProductButton</code></li>
<li>디렉터리 도메인화: <code>components/pages/admin/*</code>, <code>components/pages/shopping/*</code></li>
<li><code>App.tsx</code> 간소화 계획 수립</li>
</ul>
</li>
<li>
<p><strong>08/08 고급 단계(Jotai)</strong></p>
<ul>
<li>전역 상태 일원화: <code>atoms/*</code>(cart/product/coupon/ui/notification)</li>
<li>파생 atom 도입(예: <code>cartTotalsAtom</code>), 액션 atom 적용</li>
<li>Props Drilling 대폭 감소, 포맷/검색 관련 버그 수정</li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="https://yozm.wishket.com/magazine/detail/3231/">AI시대 개발자가 인간 클립보드 되지 않는 법</a></p>
</blockquote>
<details>
<summary>내가 설정한 커서 룰</summary>
<div markdown="1">
<hr/>
<h2 id="description-ai-강사-역할-및-프로그래밍-가이드라인---react-typescript-클린코드-교육을-위한-7가지-원칙globs-srctsx-srctsalwaysapply-true"><a aria-hidden="true" tabindex="-1" href="#description-ai-강사-역할-및-프로그래밍-가이드라인---react-typescript-클린코드-교육을-위한-7가지-원칙globs-srctsx-srctsalwaysapply-true"><span class="icon icon-link"></span></a>description: &#x27;AI 강사 역할 및 프로그래밍 가이드라인 - React, TypeScript, 클린코드 교육을 위한 7가지 원칙&#x27;
globs: [&#x27;src/<strong>/*.tsx&#x27;, &#x27;src/</strong>/*.ts&#x27;]
alwaysApply: true</h2>
<h1 id="ai-instructor-role-and-programming-guidelines"><a aria-hidden="true" tabindex="-1" href="#ai-instructor-role-and-programming-guidelines"><span class="icon icon-link"></span></a>AI Instructor Role and Programming Guidelines</h1>
<h2 id="role"><a aria-hidden="true" tabindex="-1" href="#role"><span class="icon icon-link"></span></a>Role</h2>
<ul>
<li>You are an instructor who systematically teaches React, TypeScript, and Clean Code to students.</li>
<li>Prioritize student learning and growth, providing clear and easy-to-understand explanations step by step.</li>
</ul>
<h2 id="7-principles-of-ai-programming"><a aria-hidden="true" tabindex="-1" href="#7-principles-of-ai-programming"><span class="icon icon-link"></span></a>7 Principles of AI Programming</h2>
<ol>
<li>
<p><strong>Verification and Understanding</strong>: Don&#x27;t blindly trust AI results. Always verify them. Ask yourself: &quot;Why does this solution work? What are its limitations?&quot;</p>
</li>
<li>
<p><strong>Maintain Fundamentals</strong>: Don&#x27;t lose basic coding skills. Set aside one &quot;No-AI Day&quot; per week for manual coding mode.</p>
</li>
<li>
<p><strong>Self-Directed Learning</strong>: Try on your own before depending on AI. Spend 15-30 minutes researching and planning solutions before seeking AI help.</p>
</li>
<li>
<p><strong>Quality Management</strong>: Review AI code like human code. Foster a culture where &quot;AI creates drafts, but ownership belongs to us.&quot;</p>
</li>
<li>
<p><strong>Active Learning</strong>: Don&#x27;t just receive answers, understand them. Explain complex concepts in simple terms or ask &quot;Why don&#x27;t other approaches work?&quot;</p>
</li>
<li>
<p><strong>Knowledge Management</strong>: Record and improve areas where AI helped. Follow the principle that &quot;AI should be the last resort.&quot;</p>
</li>
<li>
<p><strong>Collaborative Relationship</strong>: Treat AI as a partner while maintaining control. Use AI as a pair programming partner, not just a query tool.</p>
</li>
</ol>
<h2 id="educational-principles"><a aria-hidden="true" tabindex="-1" href="#educational-principles"><span class="icon icon-link"></span></a>Educational Principles</h2>
<h3 id="react-education"><a aria-hidden="true" tabindex="-1" href="#react-education"><span class="icon icon-link"></span></a>React Education</h3>
<ul>
<li>Teach component-based thinking systematically</li>
<li>Clearly explain the importance and patterns of state management</li>
<li>Focus on performance optimization and best practices in real-world scenarios</li>
</ul>
<h3 id="typescript-education"><a aria-hidden="true" tabindex="-1" href="#typescript-education"><span class="icon icon-link"></span></a>TypeScript Education</h3>
<ul>
<li>Explain the importance of type safety with concrete examples</li>
<li>Teach gradual type application methods step by step</li>
<li>Present methods for improving development productivity using the type system</li>
</ul>
<h3 id="clean-code-education"><a aria-hidden="true" tabindex="-1" href="#clean-code-education"><span class="icon icon-link"></span></a>Clean Code Education</h3>
<ul>
<li>Explain the Single Responsibility Principle (SRP) with practical examples</li>
<li>Emphasize functional programming and the importance of pure functions</li>
<li>Systematically teach the necessity and methods of refactoring</li>
</ul>
<h2 id="conversationexplanationfeedbackcode-review-standards"><a aria-hidden="true" tabindex="-1" href="#conversationexplanationfeedbackcode-review-standards"><span class="icon icon-link"></span></a>Conversation/Explanation/Feedback/Code Review Standards</h2>
<ul>
<li>Emphasize step-by-step approach, practical examples, visual explanations, and interaction</li>
<li>Provide specific and constructive feedback with positive reinforcement and growth motivation</li>
<li>Focus code reviews on readability, maintainability, type safety, performance, and testability</li>
<li>Delivers information following the principles of functional programming</li>
</ul>
<h2 id="my-coding-style"><a aria-hidden="true" tabindex="-1" href="#my-coding-style"><span class="icon icon-link"></span></a>My Coding Style</h2>
<p>My coding style favors simplicity and clarity.<br/>
I prefer not to over-abstract functionality—keeping abstractions meaningful but not excessively granular.<br/>
I also prefer to modularize code that is reused across multiple parts of the application.</p>
</div>
</details>
<!-- -->
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<h4 id="파일-함수-컴포넌트가-딱-한-가지-역할만-하도록-나누자"><a class="anchor" aria-hidden="true" tabindex="-1" href="#파일-함수-컴포넌트가-딱-한-가지-역할만-하도록-나누자"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>파일, 함수, 컴포넌트가 딱 한 가지 역할만 하도록 나누자!!!</h4>
<p><strong>UI(컴포넌트) ↔ 상태/이벤트(훅) ↔ 도메인 로직(서비스/유틸)의 경계를 명확히 하고, 전역 상태는 Jotai로 일원화해 Props Drilling을 제거</strong></p>
<ul>
<li>순수함수/유틸 분리: 계산, 검증, 포맷을 utils/* 하위로 생성하여 테스트와 재사용성에 용이하게 만들었습니다.</li>
<li>도메인 서비스 추출: <code>productService</code>, <code>cartService</code>, <code>couponService</code> 로 비즈니스 로직을 컴포넌트 밖으로 이동 시켰습니다.</li>
<li>Custom Hook 설계: <code>useProduct</code>, <code>useCart</code> 등으로 상태.절차 캡슐화를 하고 의존성 주입으로 결합도를 축소했습니다.</li>
<li>Middle-Out 컴포넌트 분리: <code>CouponManagement</code>, <code>ProductManagement</code> 처럼 복잡한 영역부터 점진적으로 분리했습니다.</li>
<li>Jotai 전환: atmos/* 와 파생 atom 으로 전역 상태 단일 소스화를 하여 Props Drilling 을 제거하고 Hook 독립성을 강화시켰습니다.</li>
<li>테스트/트러블슈팅 중심: 실패 케이스의 원인 분석을 하여 요구사항에 맞는 프로젝트를 구현했습니다.</li>
</ul>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">SRP: “한 파일/함수 = 한 역할”
</span><span class="code-line">재사용성: “한 번 만들면 여러 곳에서”
</span><span class="code-line">레이어: entities(순수함수/서비스) → features(훅) → UI(컴포넌트)
</span></code><div class="copied" data-code="SRP: “한 파일/함수 = 한 역할”
재사용성: “한 번 만들면 여러 곳에서”
레이어: entities(순수함수/서비스) → features(훅) → UI(컴포넌트)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<p>다음에는 <code>services</code>를 행동(use-case) 기준으로 재구성하고, 중복되는 도메인 규칙은 정책(policy)으로 상향 분리해 훅/컴포넌트의 책임을 줄여보는 방향으로 해보고 싶습니다.</p>
<p>사용자 행동(담기, 적용, 수정) 같은 use-case 단위로 묶으면 여러 컴포넌트·모듈·서비스가 협력하도록 조정하는 과정이 단순해지고, 테스트 부담도 줄어듭니다. 행동 레이어는 입출력과 흐름만 담당하고 로직은 도메인에 집중하므로, 책임 위치가 명확해져 유지보수가 더 용이해집니다.</p>
<p>그리고 아래는 공통 로직을 상위로 만들었을 때의 예시 구조입니다. (AI 활용)</p>
<pre><code class="code-highlight"><span class="code-line">src/
</span><span class="code-line">├─ application/
</span><span class="code-line">│  ├─ cart/
</span><span class="code-line">│  │  ├─ addItemToCart.ts
</span><span class="code-line">│  │  ├─ removeItem.ts
</span><span class="code-line">│  │  └─ updateQuantity.ts
</span><span class="code-line">│  ├─ product/
</span><span class="code-line">│  │  ├─ createProduct.ts
</span><span class="code-line">│  │  └─ updateProduct.ts
</span><span class="code-line">│  └─ coupon/
</span><span class="code-line">│     ├─ applyCoupon.ts
</span><span class="code-line">│     └─ removeCoupon.ts
</span><span class="code-line">├─ domain/
</span><span class="code-line">│  ├─ policies/
</span><span class="code-line">│  │  ├─ cart.ts       # canAddItem, calculateTotals
</span><span class="code-line">│  │  ├─ discount.ts   # getMaxApplicableDiscount
</span><span class="code-line">│  │  └─ validation.ts # validatePrice/Stock/Coupon
</span><span class="code-line">│  └─ models/          # 타입/엔티티
</span><span class="code-line">└─ shared/
</span><span class="code-line">   ├─ money.ts
</span><span class="code-line">   ├─ id.ts
</span><span class="code-line">   └─ date.ts
</span></code><div class="copied" data-code="src/
├─ application/
│  ├─ cart/
│  │  ├─ addItemToCart.ts
│  │  ├─ removeItem.ts
│  │  └─ updateQuantity.ts
│  ├─ product/
│  │  ├─ createProduct.ts
│  │  └─ updateProduct.ts
│  └─ coupon/
│     ├─ applyCoupon.ts
│     └─ removeCoupon.ts
├─ domain/
│  ├─ policies/
│  │  ├─ cart.ts       # canAddItem, calculateTotals
│  │  ├─ discount.ts   # getMaxApplicableDiscount
│  │  └─ validation.ts # validatePrice/Stock/Coupon
│  └─ models/          # 타입/엔티티
└─ shared/
   ├─ money.ts
   ├─ id.ts
   └─ date.ts
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>예시 기준</strong></p>
<ul>
<li>2곳 이상 재사용 + 순수함수 + 도메인 언어로 설명 가능 → <code>domain/policies/*</code></li>
</ul>
<blockquote>
<p>특정 도메인(예: 유저, 주문)에 관련된 로직이지만 여러 군데에서 공유될 수 있는 정책들</p>
</blockquote>
<ul>
<li>완전 범용(도메인 무관) → <code>shared/*</code></li>
</ul>
<blockquote>
<p>유틸함수 모음</p>
</blockquote>
<ul>
<li>입출력이나 사이드이펙트 포함 → <code>application/*</code>에 유지</li>
</ul>
<blockquote>
<p>실제 외부와 연결되는 행동 코드들</p>
</blockquote>
<p><strong>주의점</strong></p>
<ul>
<li>과도한 일반화 금지</li>
<li>사이드이펙트 경계</li>
</ul>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<h2 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문</h2>
<ol>
<li>구조/네이밍
위 예시 구조의 <code>application/cart/addItemToCart.ts</code>처럼 “도메인/동사+목적어” 네이밍과 디렉터리 구조가 적절한지 또는 다른 컨벤션 예시가 궁금합니다.
“한 파일 = 한 행동” 원칙에서 복잡한 행동(검증·계산·여러 정책 조합)의 분기 처리는 어디까지 <code>application/*</code> 에 두는 게 좋을지 의견이 궁금합니다.</li>
<li>정책 상향 기준
“재사용 ≥ 2, 순수성, 화면 무관 설명 가능”이면 <code>domain/policies/*</code>로 승격한다는 기준이 충분할까요? 더 추가/수정할 항목이 있을까요?</li>
</ol></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>안녕하세요 정석님!
이번 과제도 너무 잘 진행해주셨네요 ㅎㅎ 고생하셨습니다!!</p>
<blockquote>
<p>위 예시 구조의 application/cart/addItemToCart.ts처럼 “도메인/동사+목적어” 네이밍과 디렉터리 구조가 적절한지 또는 다른 컨벤션 예시가 궁금합니다.</p>
</blockquote>
<p>지금 모습도 적절하다고 느껴져요 ㅎㅎ
저의 경우 별도의 파일로 분리하기보다 그냥 한 파일에 묶어서 cartUseCase.ts 처럼 표현할 것 같아요!</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useCartUseCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> cart<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const cart = useCartUseCase();
const cart.add();
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>요로코롬!?</p>
<p>아니면 CQRS Pattern 이라고 해서, 조회와 추가/수정/삭제 를 아예 분리하는 방법도 있답니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> cartData <span class="token operator">=</span> <span class="token function">useCartQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> cartCommand <span class="token operator">=</span> <span class="token function">useCartCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">cart<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const cartData = useCartQuery();
const cartCommand = useCartCommands();

cart.add();
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이렇게 분리하는 이유는 &quot;렌더링&quot; 때문인데요, 커맨드는 데이터를 의존하지 않도록 만들 수 있기 때문에 커맨드를 아무데서나 사용해도 리렌더링의 여파가 없어요.</p>
<p>그런데 데이터의 경우 변이되는 순간 렌더링이 전파되어야 하기 때문에, 이 데이터를 쓰는 곳을 명확하게 분리하는거죠.</p>
<blockquote>
<p>“한 파일 = 한 행동” 원칙에서 복잡한 행동(검증·계산·여러 정책 조합)의 분기 처리는 어디까지 application/* 에 두는 게 좋을지 의견이 궁금합니다.</p>
</blockquote>
<p>어디까지라기보단... 한 파일 = 한 행동 이라는 규칙을 만들었다면 그냥 다 한 파일로 만들어서 분리해야한다고 생각해요 ㅎㅎ 그래야 일관성있지 않을까요? 여기에 조건들 두면 더 복잡해진다고 생각해요</p>
<blockquote>
<p>“재사용 ≥ 2, 순수성, 화면 무관 설명 가능”이면 domain/policies/*로 승격한다는 기준이 충분할까요? 더 추가/수정할 항목이 있을까요?</p>
</blockquote>
<p>이정도면 충분하다고 생각해요!
저는 &quot;다른 프레임워크에서 혹은 서버와 공유할 수 있음&quot; 이라는 조건을 하나 더 붙일 것 같아요 ㅎㅎ
순수한 ECMAScript Spec 으로 작성이 되어있다면 충분히 가능하답니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
