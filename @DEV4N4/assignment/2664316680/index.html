<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
    <title>[1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  - 주산들 | 항해플러스 프론트엔드 6기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 6기] 주산들님이 제출한 [1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 주산들, [1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2) , 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  - 주산들 | 항해플러스 프론트엔드 6기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 6기] 주산들님이 제출한 [1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  - 주산들 | 항해플러스 프론트엔드 6기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 6기] 주산들님이 제출한 [1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2)  과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_6th/assets/index-DtEqFcg_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@DEV4N4/" data-discover="true">DEV4N4<!-- --> 님의 상세페이지</a> ＞ <!-- -->[1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2) </h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter1-2/pull/38" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[1팀 주산들] Chapter 1-2. 프레임워크 없이 SPA 만들기 (2) </h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->DEV4N4</span><span>2025. 7. 14.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="배포-링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포-링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포 링크</h3>
<p><a href="https://dev4n4.github.io/front_6th_chapter1-2/">https://dev4n4.github.io/front_6th_chapter1-2/</a></p>
<!-- -->
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<h4 id="가상돔을-기반으로-렌더링하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#가상돔을-기반으로-렌더링하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>가상돔을 기반으로 렌더링하기</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> createVNode 함수를 이용하여 vNode를 만든다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> normalizeVNode 함수를 이용하여 vNode를 정규화한다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> createElement 함수를 이용하여 vNode를 실제 DOM으로 만든다.</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 결과적으로, JSX를 실제 DOM으로 변환할 수 있도록 만들었다.</li>
</ul>
<h4 id="이벤트-위임"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이벤트-위임"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이벤트 위임</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 노드를 생성할 때 이벤트를 직접 등록하는게 아니라 이벤트 위임 방식으로 등록해야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 동적으로 추가된 요소에도 이벤트가 정상적으로 작동해야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 이벤트 핸들러가 제거되면 더 이상 호출되지 않아야 한다</li>
</ul>
<h3 id="심화-과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화-과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화 과제</h3>
<h4 id="diff-알고리즘-구현"><a class="anchor" aria-hidden="true" tabindex="-1" href="#diff-알고리즘-구현"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Diff 알고리즘 구현</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 초기 렌더링이 올바르게 수행되어야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> diff 알고리즘을 통해 변경된 부분만 업데이트해야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로운 요소를 추가하고 불필요한 요소를 제거해야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 요소의 속성만 변경되었을 때 요소를 재사용해야 한다</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 요소의 타입이 변경되었을 때 새로운 요소를 생성해야 한다</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>음.. 설명이 친절해서 과제를 어렵지 않게 진행할 수 있을 줄 알았는데 생각보다 어려웠다.</p>
<p>디버깅을 할 줄 몰라서 초반에 조금 고생을 했고, 디버깅 하는 방법을 배우고 나서도 생각대로 로그가 찍히지 않거나 예상했던 결과가 나오지 않아서 고생을 했다.</p>
<p>과제 초반에는 이런 함수를 왜 구현해야 하는지 의문을 가지고 한참 찾아보면서 이해하려고 애썼고, 조금 공부한 결과 흐름이 이해 되었지만 개념이나 원리를 이해하고 진행을 하더라도 그걸 코드로 녹여내 보여주는 것이 생각보다 까다로웠다. (개념이랑 흐름, 여기서 이 함수가 왜 필요한지나 이 조건문을 왜 넣는지 같은건 알겠는데 그래서 그 다음엔 어떻게 진행해야 할지를 잘 모르겠어서 다른 분들의 PR도 많이 참고하고 많이 물어가면서 개발을 진행했던 것 같다…)</p>
<h2 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h2>
<!-- -->
<p>이번 과제를 수행하면서 Virtual DOM에 대해 깊게 이해하게 된 것 같다.</p>
<p>구현한 각각의 함수의 역할에 대해 간략한 정리 &amp; 설명을 한다면</p>
<h3 id="1-createvnode"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-createvnode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. createVNode</h3>
<p>createVNode 함수는 Virtual Node를 생성하는 함수이다.</p>
<p>각 페이지 파일마다 존재하는 /** @jsx createVNode */ (<strong>JSX 프래그마(pragma)</strong> 주석)을 통해 JSX가 <code>createVNode(...)</code> 함수로 변환되도록 지시해 사용한다.</p>
<p>children을 평탄화하여 사용하였다.</p>
<h3 id="2-normalizevnode"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-normalizevnode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. normalizeVNode</h3>
<p>normalizeVNode 함수는 주어진 가상 노드(vNode)를 표준화된 형태로 변환하는 역할을 한다.</p>
<p>이 함수는 다양한 타입의 입력을 처리하여 일관된 형식의 가상 노드를 반환하여 DOM 조작이나 렌더링 과정에서 일관된 데이터 구조를 사용할 수 있도록 하는 역할을 수행한다.</p>
<h3 id="3-createelement"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-createelement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. createElement</h3>
<p>vNode를 Javascript Element로(가상돔(VirtualDOM)을 돔으로) 변환해주는 함수이다.</p>
<h3 id="4-eventmanager"><a class="anchor" aria-hidden="true" tabindex="-1" href="#4-eventmanager"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4. eventManager</h3>
<ol>
<li>addEvent와 removeEvent를 통해 element에 대한 이벤트 함수를 어딘가에 저장하거나 삭제한다.</li>
<li>setupEventListeners를 이용해서 이벤트 함수를 가져와서 한 번에 root에 이벤트를 등록한다.</li>
</ol>
<p>findParent 함수를 통해 이벤트 위임(버블링) 방식으로 등록하였다.</p>
<h3 id="5-renderelement"><a class="anchor" aria-hidden="true" tabindex="-1" href="#5-renderelement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>5. renderElement</h3>
<p>renderElement 함수는 앞에서 작성된 함수들을 조합하여 vNode를 container에 렌더링하는 작업을 수행한다.</p>
<p>최초 렌더링일 때(container._previousVNode == null 일 때)는 createElement 함수를 사용하여 랜더링이 되고, 리렌더링일 때는 updateElement 함수를 사용한다.</p>
<h3 id="6-updateelement"><a class="anchor" aria-hidden="true" tabindex="-1" href="#6-updateelement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>6. updateElement</h3>
<p>updateElement 함수는 모든 태그를 비교하여 변경된 부분에 대해 수정/추가/삭제 작업을 수행해준다.</p>
<p>이렇게 정리가 될 수 있을 것 같다.</p>
<p>이 함수들의 역할과 서로 각자 무슨 연관관계가 있는지가 처음에는 잘 와닿지 않았고 리액트 내부에서 왜 이런 동작이 필요한지 잘 모르고 진행을 했었는데, 여러 자료들을 찾아보고 코드를 작성해 나가면서 이해가 되었다..</p>
<h2 id="코드-품질"><a class="anchor" aria-hidden="true" tabindex="-1" href="#코드-품질"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>코드 품질</h2>
<!-- -->
<p>updateElement 함수를 구현하면서 고민을 좀 했다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token comment">// 5. 같은 타입의 노드 업데이트</span>
</span><span class="code-line">  <span class="token comment">//   - 속성 업데이트</span>
</span><span class="code-line">  <span class="token comment">//   - 자식 노드 재귀적 업데이트</span>
</span><span class="code-line">  <span class="token comment">//   - 불필요한 자식 노드 제거</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> oldProps <span class="token operator">=</span> oldNode<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> newProps <span class="token operator">=</span> newNode<span class="token punctuation">.</span><span class="token property-access">props</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">updateAttributes</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> newProps <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> oldProps <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> oldChildren <span class="token operator">=</span> oldNode<span class="token punctuation">.</span><span class="token property-access">children</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> newChildren <span class="token operator">=</span> newNode<span class="token punctuation">.</span><span class="token property-access">children</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>newChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span> oldChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">updateElement</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> newChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> oldChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 이 부분!!</span>
</span><span class="code-line"><span class="token comment">// ************************************************ //</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>oldChildren<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> newChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> oldChildren<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> newChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">childNodes</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          target<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">childNodes</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token comment">// ************************************************ //</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="// 5. 같은 타입의 노드 업데이트
  //   - 속성 업데이트
  //   - 자식 노드 재귀적 업데이트
  //   - 불필요한 자식 노드 제거
  if (target) {
    const oldProps = oldNode.props;
    const newProps = newNode.props;
    updateAttributes(target, newProps ?? {}, oldProps ?? {});

    const oldChildren = oldNode.children ?? [];
    const newChildren = newNode.children ?? [];
    for (let i = 0; i &lt; Math.max(newChildren.length, oldChildren.length); i++) {
      updateElement(target, newChildren[i], oldChildren[i], i);
    }

// 이 부분!!
// ************************************************ //
    if (oldChildren.length &gt; newChildren.length) {
      for (let i = oldChildren.length - 1; i &gt;= newChildren.length; i--) {
        if (target.childNodes[i]) {
          target.removeChild(target.childNodes[i]);
        }
      }
    }
  }
// ************************************************ //

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>구현을 끝내고 코드를 다시 점검할 때,
갑자기 주석으로 표시한 부분의 코드를 최적화 할 수 있지 않을까 하는 의문이 생겼었다.</p>
<p>왜냐하면 상단에서 newChildren 혹은 oldChildren 중 length가 긴 쪽을 중심으로 이미 for문이 한번 돌아가면서 node들을 제거 혹은 교체를 한번씩 진행해줄텐데 굳이 아랫부분에서 한번 더 for문을 돌려서 제거를 진행할 필요가 있는지 의문이 들었다.</p>
<p>그래서 GPT에게 더 좋은 방법이 없을지, 저 부분이 꼭 필요한 코드일지 물어보며 답을 얻었다.
결과적으로 저 부분은 최적화를 해야하는 부분이 아니라 정확한 구현을 위해 그대로 필요한 코드였다.</p>
<p>예를 들어서 설명하자면 아래와 같다.</p>
<h3 id="1-초기-상태"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-초기-상태"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. 초기 상태</h3>
<ul>
<li><strong>oldChildren</strong>: [A, B, C, D]</li>
<li><strong>newChildren</strong>: [A, C]</li>
<li>실제 DOM의 <code>parent.childNodes</code>도 <code>A, B, C, D</code> 순이라고 가정을 하자.</li>
</ul>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line">parent
</span><span class="code-line"> ├── <span class="token constant">A</span>
</span><span class="code-line"> ├── <span class="token constant">B</span>
</span><span class="code-line"> ├── <span class="token constant">C</span>
</span><span class="code-line"> └── <span class="token constant">D</span>
</span></code><div class="copied" data-code="parent
 ├── A
 ├── B
 ├── C
 └── D
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="2-재귀-호출재귀-for-루프-진행"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-재귀-호출재귀-for-루프-진행"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 재귀 호출(재귀 for 루프) 진행</h3>
<p><code>for (let i = 0; i &lt; Math.max(...); i++)</code> 루프가 <code>i = 0</code>에서 <code>3</code>까지 돌게 된다.</p>
<ol>
<li>
<p><strong>i = 0</strong></p>
<ul>
<li>oldChildren[0] = A, newChildren[0] = A</li>
<li>타입·키가 같으므로 속성만 업데이트하고 건너뜀</li>
<li>DOM: A, B, C, D</li>
</ul>
</li>
<li>
<p><strong>i = 1</strong></p>
<ul>
<li>oldChildren[1] = B, newChildren[1] = C</li>
<li>타입이 다르므로 <code>parent.replaceChild(createElement(C), targetAtIndex1)</code> 수행</li>
<li>이때 B가 C로 교체되어, DOM이 <code>[A, C, C, D]</code>가 됨.</li>
</ul>
</li>
<li>
<p><strong>i = 2</strong></p>
<ul>
<li>
<p>oldChildren[2] = C, newChildren[2] = <code>undefined</code></p>
</li>
<li>
<p>newNode가 없고 oldNode가 있으므로 <code>removeChild(targetAtIndex2)</code> 수행</p>
</li>
<li>
<p>이때 두 번째 인덱스(0-based)였던 <code>childNodes[2]</code>(원래 교체 후의 두 번째 C)가 삭제되어</p>
<p>DOM이 <code>[A, C, D]</code>가 됨.</p>
</li>
</ul>
</li>
<li>
<p><strong>i = 3</strong></p>
<ul>
<li>
<p>oldChildren[3] = D, newChildren[3] = <code>undefined</code></p>
</li>
<li>
<p><code>removeChild(targetAtIndex3)</code>을 시도하나,</p>
<p>현재 <code>childNodes</code> 길이는 3 (인덱스 0,1,2)라서 아무 일도 일어나지 않아</p>
</li>
<li>
<p>결과적으로 <strong>D가 여전히 남아 있는 문제가 발생</strong>.</p>
</li>
<li>
<p>DOM: <code>[A, C, D]</code></p>
</li>
</ul>
</li>
</ol>
<h3 id="3-클린업cleanup-단계"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-클린업cleanup-단계"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. 클린업(Cleanup) 단계</h3>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>oldChildren<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> newChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// oldChildren.length = 4, newChildren.length = 2</span>
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> oldChildren<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> newChildren<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">childNodes</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      target<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token property-access">childNodes</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="if (oldChildren.length &gt; newChildren.length) {
  // oldChildren.length = 4, newChildren.length = 2
  for (let i = oldChildren.length - 1; i &gt;= newChildren.length; i--) {
    if (target.childNodes[i]) {
      target.removeChild(target.childNodes[i]);
    }
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li><code>i = 3</code> (인덱스 3): <code>childNodes[3]</code>이 없으므로 건너뜀</li>
<li><code>i = 2</code> (인덱스 2): <code>childNodes[2]</code>은 D → 제거</li>
<li>이후 <code>i = 1</code>이면 반복 종료 조건(<code>i &gt;= 2</code>)가 false가 되어 루프 끝</li>
</ul>
<p>최종 <strong>DOM</strong> 구조는 <code>[A, C]</code>가 되어 새로운 자식 배열(newChildren)과 정확히 일치한다.</p>
<p>어차피 newChildren의 length보다 많게 남아있는 요소들은 필요가 없으므로 이 단계에서 삭제해줘야 한다. 그래서 필요한 로직이고 앞에서 for문을 한번 돌리는 것으로 모든것을 해결하기는 어려웠을 것 같다.</p>
<p>결론은 처음 구현한 형태가 최선일 것 같아서 수정하지 않았다 였지만, 최적화를 시도해보려고 다시 한번 고민했던 경험이 좋았다.</p>
<h2 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h2>
<!-- -->
<p>우리가 어떻게 JSX 문법을 쓸 수 있게 되었는지에 대해서 알게 되었고, 디버깅 하는 방법에 대해서도 새로 알게 되었다. 또한 구현을 위해 mdn에 들락날락 하면서 다양한 document 메서드에 대해서 읽어보는 기회도 되었던 것 같다.</p>
<p>막연히 마법처럼 느껴졌던 과정이 좀 더 현실적으로 와닿아서 의의가 있었다는 생각이 들었다.</p>
<p>아직 이러한 과정들을 흐름적으로만 설명할 수 있고 영서님께서 정리해주신 것 처럼 체계적으로 설명하기는 어려운 것 같아서 기회가 된다면 나중에 블로그에 내용을 정리해서 작성하면 더욱 좋을 것 같다는 생각이 들었다.</p>
<h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<!-- -->
<p>과제의 지시사항이나 설명이 친절해서 좋았습니다!!</p>
<p>사실 과제를 진행하면서 초반에는 지시사항을 따라서 함수를 작성하기만 하는건데 개념이 숙지가 될까..? 하는 걱정이 조금 있었지만 주신 자료를 충실히 읽어보고 이행하니 흐름이 다 이해가 되었어요</p>
<p>제공해주신 자료들에 수강생들이 이 과제를 통해 배웠으면 하는 사항들이 잘 설명되어 있어서 편했고
추가적인 자료를 많이 찾아볼 필요가 없이 진행되었던 것 같아 좋았습니다!!</p>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
<h4 id="1-updateelement-함수의-3-텍스트-노드-업데이트-주석-부분-코드-최적화에-대한-질문이-있습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-updateelement-함수의-3-텍스트-노드-업데이트-주석-부분-코드-최적화에-대한-질문이-있습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. updateElement 함수의 “3. 텍스트 노드 업데이트” 주석 부분 코드 최적화에 대한 질문이 있습니다.</h4>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"> <span class="token comment">// 3. 텍스트 노드 업데이트</span>
</span><span class="code-line">  <span class="token keyword">const</span> newEl <span class="token operator">=</span> <span class="token function">createElement</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> oldEl <span class="token operator">=</span> <span class="token function">createElement</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>newNode <span class="token operator">!=</span> <span class="token keyword null nil">null</span> <span class="token operator">&amp;&amp;</span> oldNode <span class="token operator">!=</span> <span class="token keyword null nil">null</span> <span class="token operator">&amp;&amp;</span> newEl<span class="token punctuation">.</span><span class="token property-access">nodeType</span> <span class="token operator">===</span> <span class="token maybe-class-name">Node</span><span class="token punctuation">.</span><span class="token constant">TEXT_NODE</span> <span class="token operator">&amp;&amp;</span> oldEl<span class="token punctuation">.</span><span class="token property-access">nodeType</span> <span class="token operator">===</span> <span class="token maybe-class-name">Node</span><span class="token punctuation">.</span><span class="token constant">TEXT_NODE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>newNode <span class="token operator">!==</span> oldNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> newTextNode <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createTextNode</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        parentElement<span class="token punctuation">.</span><span class="token method function property-access">replaceChild</span><span class="token punctuation">(</span>newTextNode<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">        parentElement<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>newTextNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span></code><div class="copied" data-code=" // 3. 텍스트 노드 업데이트
  const newEl = createElement(newNode);
  const oldEl = createElement(oldNode);
  if (newNode != null &amp;&amp; oldNode != null &amp;&amp; newEl.nodeType === Node.TEXT_NODE &amp;&amp; oldEl.nodeType === Node.TEXT_NODE) {
    if (newNode !== oldNode) {
      const newTextNode = document.createTextNode(String(newNode));
      if (target) {
        parentElement.replaceChild(newTextNode, target);
      } else {
        parentElement.appendChild(newTextNode);
      }
    }
    return;
  }
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>지금은 TEXT_NODE 프로퍼티를 통해 같은 태그끼리 비교를 할 수 있게 하려고 newNode와 oldNode를 createElement 함수를 사용하여 element로 만들어서 사용을 하고 있는데요.
정작 element로 만든 다음에 그 element를 사용하지 않는 게 성능 측면에서 안좋지 않을까 하고 걱정이 되었습니다.
하지만 이 방식이 아니라면 일일히 태그명을 하드코딩해서 비교를 해주는 방식으로 개발을 해야할 것 같은데 그렇다면 코드가 상당히 지저분해 질 것 같다는 생각도 들었습니다.
혹시 다른 더 좋은 구현 방법이 있을까요? 지금 방법이 성능에 많이 안좋은 방향일까요? 태그명으로 하드코딩 하는 방식으로 진행했어야 할까요?</p>
<h4 id="2-eventmanager의-setupeventlisteners-함수-구현에-대해서-더-나은-방법을-얻고-싶습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-eventmanager의-setupeventlisteners-함수-구현에-대해서-더-나은-방법을-얻고-싶습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. eventManager의 setupEventListeners 함수 구현에 대해서 더 나은 방법을 얻고 싶습니다.</h4>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">setupEventListeners</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> allDomEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token comment">// 마우스 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dblclick&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mousedown&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mouseup&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mouseenter&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mouseleave&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;contextmenu&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;auxclick&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 키보드 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;keypress&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 입력/폼 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;reset&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;focus&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;blur&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;focusin&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;focusout&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;invalid&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 터치 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;touchstart&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;touchmove&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;touchend&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;touchcancel&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 포인터 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;pointerdown&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointerup&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointermove&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointercancel&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointerover&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointerout&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointerenter&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pointerleave&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;gotpointercapture&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;lostpointercapture&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 휠 및 스크롤 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;wheel&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;scroll&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 드래그 &amp; 드롭 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;drag&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dragstart&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dragend&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dragenter&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dragleave&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;dragover&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;drop&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 클립보드 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;copy&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;cut&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;paste&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 컴포지션 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;compositionstart&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;compositionupdate&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;compositionend&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 윈도우 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;beforeunload&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;hashchange&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;popstate&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;visibilitychange&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;storage&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 네트워크 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;online&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;offline&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 미디어 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;pause&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;playing&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;waiting&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;ended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;volumechange&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;timeupdate&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;seeking&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;seeked&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;loadeddata&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;loadedmetadata&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;canplay&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;canplaythrough&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 애니메이션/트랜지션 이벤트</span>
</span><span class="code-line">    <span class="token string">&quot;animationstart&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;animationend&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;animationiteration&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;transitionstart&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;transitionend&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;transitionrun&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;transitioncancel&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 오류 및 기타</span>
</span><span class="code-line">    <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;abort&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;close&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> eventType <span class="token keyword">of</span> allDomEvents<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    root<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> events <span class="token operator">=</span> eventList<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> event<span class="token punctuation">.</span><span class="token property-access">eventType</span> <span class="token operator">===</span> eventType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>events<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> event <span class="token keyword">of</span> events<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">element</span> <span class="token operator">===</span> <span class="token function">findParent</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span><span class="token property-access">element</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          event<span class="token punctuation">.</span><span class="token method function property-access">handler</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword control-flow">break</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function setupEventListeners(root) {
  const allDomEvents = [
    // 마우스 이벤트
    &quot;click&quot;,
    &quot;dblclick&quot;,
    &quot;mousedown&quot;,
    &quot;mouseup&quot;,
    &quot;mousemove&quot;,
    &quot;mouseenter&quot;,
    &quot;mouseleave&quot;,
    &quot;mouseover&quot;,
    &quot;mouseout&quot;,
    &quot;contextmenu&quot;,
    &quot;auxclick&quot;,

    // 키보드 이벤트
    &quot;keydown&quot;,
    &quot;keypress&quot;,
    &quot;keyup&quot;,

    // 입력/폼 이벤트
    &quot;input&quot;,
    &quot;change&quot;,
    &quot;submit&quot;,
    &quot;reset&quot;,
    &quot;focus&quot;,
    &quot;blur&quot;,
    &quot;focusin&quot;,
    &quot;focusout&quot;,
    &quot;invalid&quot;,

    // 터치 이벤트
    &quot;touchstart&quot;,
    &quot;touchmove&quot;,
    &quot;touchend&quot;,
    &quot;touchcancel&quot;,

    // 포인터 이벤트
    &quot;pointerdown&quot;,
    &quot;pointerup&quot;,
    &quot;pointermove&quot;,
    &quot;pointercancel&quot;,
    &quot;pointerover&quot;,
    &quot;pointerout&quot;,
    &quot;pointerenter&quot;,
    &quot;pointerleave&quot;,
    &quot;gotpointercapture&quot;,
    &quot;lostpointercapture&quot;,

    // 휠 및 스크롤 이벤트
    &quot;wheel&quot;,
    &quot;scroll&quot;,

    // 드래그 &amp; 드롭 이벤트
    &quot;drag&quot;,
    &quot;dragstart&quot;,
    &quot;dragend&quot;,
    &quot;dragenter&quot;,
    &quot;dragleave&quot;,
    &quot;dragover&quot;,
    &quot;drop&quot;,

    // 클립보드 이벤트
    &quot;copy&quot;,
    &quot;cut&quot;,
    &quot;paste&quot;,

    // 컴포지션 이벤트
    &quot;compositionstart&quot;,
    &quot;compositionupdate&quot;,
    &quot;compositionend&quot;,

    // 윈도우 이벤트
    &quot;load&quot;,
    &quot;beforeunload&quot;,
    &quot;unload&quot;,
    &quot;resize&quot;,
    &quot;hashchange&quot;,
    &quot;popstate&quot;,
    &quot;DOMContentLoaded&quot;,
    &quot;visibilitychange&quot;,
    &quot;storage&quot;,

    // 네트워크 이벤트
    &quot;online&quot;,
    &quot;offline&quot;,

    // 미디어 이벤트
    &quot;play&quot;,
    &quot;pause&quot;,
    &quot;playing&quot;,
    &quot;waiting&quot;,
    &quot;ended&quot;,
    &quot;volumechange&quot;,
    &quot;timeupdate&quot;,
    &quot;seeking&quot;,
    &quot;seeked&quot;,
    &quot;loadeddata&quot;,
    &quot;loadedmetadata&quot;,
    &quot;canplay&quot;,
    &quot;canplaythrough&quot;,

    // 애니메이션/트랜지션 이벤트
    &quot;animationstart&quot;,
    &quot;animationend&quot;,
    &quot;animationiteration&quot;,
    &quot;transitionstart&quot;,
    &quot;transitionend&quot;,
    &quot;transitionrun&quot;,
    &quot;transitioncancel&quot;,

    // 오류 및 기타
    &quot;error&quot;,
    &quot;abort&quot;,
    &quot;close&quot;,
    &quot;open&quot;,
  ];

  for (const eventType of allDomEvents) {
    root.addEventListener(eventType, (e) =&gt; {
      const events = eventList.filter((event) =&gt; event.eventType === eventType);
      if (events.length &lt;= 0) {
        return;
      }

      for (const event of events) {
        if (event.element === findParent(e.target, event.element)) {
          event.handler(e);
          break;
        }
      }
    });
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>현재 allDomEvents 라는 이벤트명들을 모아둔 배열을 만들어서 여기서 이벤트 타입을 찾는 형태로 구현을 해두었습니다.
사실상 하드코딩이고 이 방식이 유지보수 측면에서 좋을 것 같다는 생각이 들진 않았는데..
기본 제공하는 함수들 중에서 이벤트 타입들을 모아서 반환해주는 함수는 없다고 하여 미봉책으로 이렇게 개발하였지만 더 좋은 방법은 없을까 싶어 여쭙게 되었습니다.
코치님께서는 이 함수를 리팩토링 하신다면 어떻게 개선하실지가 궁금합니다.</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>안녕하세요 산들! 수고많았습니다. 이번 과제는 Virtual DOM의 작동 원리를 머리가 아닌 손으로 직접 구현하며 체득하는 것이 목표였습니다. 회고에서 &quot;개념과 흐름은 알겠는데 코드로 녹여내는 것이 까다로웠다&quot;고 했던 부분이 이번 과제의 진짜 의도였죠. 사람은 적당히 이런거겠네 하면서 모호한것도 안다고 착각하고 넘어가는데 컴퓨터는 아니죠. 그렇기에 깊이를 탐구하기 위해서는 지금처럼 직접 구현하고 직접 완성을 해봐야 하는거죠. 아주 잘했습니다.</p>
<p>디버깅하며 고생하셨다고 하셨는데, 특히 <code>updateElement</code>에서 oldChildren.length &gt; newChildren.length일 때 추가 for문이 필요한지 고민하신 과정도 참 좋아보입니다. 특히 이번 회고들이 정말로 경험에서 고민해본게 느껴져서 너무 좋았어요. 이런 세세한 고민들이 Virtual DOM의 원리를 체득하는 과정입니다.</p>
<p>몇 가지 추가로 개선을 시도해보면 좋겠다 하는 부분들은,</p>
<ol>
<li>
<p>텍스트 노드 비교시 createElement로 변환 후 nodeType을 체크하는 현재 방식보다 그냥 <code>typeof newNode === &#x27;string&#x27;</code>으로 직접 체크하는 것이 효율적인거 맞습니다.</p>
</li>
<li>
<p>지금 이벤트 관리를 배열로 관리하고 있는데 key를 string이 아닌 것으로 매칭을 할때에는 Map을 사용하면 findIndex의 O(n) 탐색을 O(1)로 개선할 수 있습니다. 그리고 이때 key가 DOM이 되는 경우에는 WeakMap을 써야합니다. 그래야 key가 더 이상 쓰이지 않을때 자동으로 key를 같이 해제를 해주니까요.</p>
</li>
<li>
<p>setupEventListeners의 경우 당연히 모든 이벤트를 하드코딩을 하는 것보다는 나은 방법이 있겠죠. 이런 경우에는 필요할 때 필요한 만큼 동적으로 만들어 보는 방향으로 고민을 해보면 좋겠죠. addEvent에서 사용된 이벤트만 Set에 모아 동적으로 등록하는 방식을 통해서 확장성있게 만들어 낼 수 있습니다.</p>
</li>
</ol>
<p>수고하셨습니다. 다음 주차도 화이팅입니다! :)</p>
<p>BP 선정이유: 사실 정답이 이미 있는 문제인데 과제의 취지에 맞게 필요한 것들을 몸으로 부딫혀가면서 이해도를 선명하게 만들어가는 경험을 잘 한것 같아서 그 경험을 높게 삽니다.</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
