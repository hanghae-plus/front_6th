<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
    <title>[9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 - 권지호 | 항해플러스 프론트엔드 6기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 6기] 권지호님이 제출한 [9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 권지호, [9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 - 권지호 | 항해플러스 프론트엔드 6기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 6기] 권지호님이 제출한 [9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 - 권지호 | 항해플러스 프론트엔드 6기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 6기] 권지호님이 제출한 [9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_6th/assets/index-B12XiTr6.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@tomatopickles404/" data-discover="true">tomatopickles404<!-- --> 님의 상세페이지</a> ＞ <!-- -->[9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-3/pull/9" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[9팀 권지호] Chapter 2-3. 관심사 🦍분리와 폴더구조</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->tomatopickles404</span><span>2025. 8. 9.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<h4 id="목표--전역상태관리를-이용한-적절한-분리와-계층에-대한-이해를-통한-fsd-폴더-구조-적용하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#목표--전역상태관리를-이용한-적절한-분리와-계층에-대한-이해를-통한-fsd-폴더-구조-적용하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>목표 : 전역상태관리를 이용한 적절한 분리와 계층에 대한 이해를 통한 FSD 폴더 구조 적용하기</h4>
<ul>
<li>전역상태관리를 사용해서 상태를 분리하고 관리하는 방법에 대한 이해</li>
<li>Context API, Jotai, Zustand 등 상태관리 라이브러리 사용하기</li>
<li>FSD(Feature-Sliced Design)에 대한 이해</li>
<li>FSD를 통한 관심사의 분리에 대한 이해</li>
<li>단일책임과 역할이란 무엇인가?</li>
<li>관심사를 하나만 가지고 있는가?</li>
<li>어디에 무엇을 넣어야 하는가?</li>
</ul>
<h4 id="체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>체크포인트</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전역상태관리를 사용해서 상태를 분리하고 관리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> Props Drilling을 최소화했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> shared 공통 컴포넌트를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> shared 공통 로직을 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> entities를 중심으로 type을 정의하고 model을 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> entities를 중심으로 ui를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> entities를 중심으로 api를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> feature를 중심으로 사용자행동(이벤트 처리)를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> feature를 중심으로 ui를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> feature를 중심으로 api를 분리했나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> widget을 중심으로 데이터를 재사용가능한 형태로 분리했나요?</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<h4 id="목표-서버상태관리-도구인-tanstackquery를-이용하여-비동기코드를-선언적인-함수형-프로그래밍으로-작성하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#목표-서버상태관리-도구인-tanstackquery를-이용하여-비동기코드를-선언적인-함수형-프로그래밍으로-작성하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>목표: 서버상태관리 도구인 TanstackQuery를 이용하여 비동기코드를 선언적인 함수형 프로그래밍으로 작성하기</h4>
<ul>
<li>TanstackQuery의 사용법에 대한 이해</li>
<li>TanstackQuery를 이용한 비동기 코드 작성에 대한 이해</li>
<li>비동기 코드를 선언적인 함수형 프로그래밍으로 작성하는 방법에 대한 이해</li>
</ul>
<h4 id="체크포인트-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#체크포인트-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>체크포인트</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 모든 API 호출이 TanStack Query의 useQuery와 useMutation으로 대체되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 쿼리 키가 적절히 설정되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> fetch와 useState가 아닌 선언적인 함수형 프로그래밍이 적절히 적용되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 캐싱과 리프레시 전략이 올바르게 구현되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 낙관적인 업데이트가 적용되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 에러 핸들링이 적절히 구현되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 서버 상태와 클라이언트 상태가 명확히 분리되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드가 간결하고 유지보수가 용이한 구조로 작성되었는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> TanStack Query의 Devtools가 정상적으로 작동하는가?</li>
</ul>
<h3 id="최종과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#최종과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>최종과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 폴더구조와 나의 멘탈모데일이 일치하나요?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 다른 사람이 봐도 이해하기 쉬운 구조인가요?</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p>배포 주소
<a href="https://tomatopickles404.github.io/front_6th_chapter2-3/">https://tomatopickles404.github.io/front_6th_chapter2-3/</a></p>
<h3 id="이번-과제를-통해-이전에-비해-새롭게-알게-된-점이-있다면-적어주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번-과제를-통해-이전에-비해-새롭게-알게-된-점이-있다면-적어주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번 과제를 통해 이전에 비해 새롭게 알게 된 점이 있다면 적어주세요.</h3>
<h4 id="1-entites-와-features의-구별-나만의-기준-세우기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-entites-와-features의-구별-나만의-기준-세우기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. entites 와 features의 구별: 나만의 기준 세우기</h4>
<p>이 전에 경험했던 FSD 적용은 entities와 features의 구분이 모호하게 느껴져 가장 큰 어려움이었습니다. 지금도 잘 이해하고 나누었다고 생각하진 않지만 전보다 고민하지 않고 나눌 수 있었던 것은 이번 고민을 통해 저만의 규칙이 생긴 것이기 때문이라고 생각합니다.</p>
<p>테오의 말대로 FSD의 원칙을 어떤 프로젝트든 꼭 들어맞게 적용할 수는 없다고 생각합니다. 다만 도메인의 행동을 기반으로 나누는 문서화된 레퍼런스가 생긴 것은 유의미한 것 같습니다. 이 부분에서 저만의 기준을 정할 때 합리적인 의사결정의 지표로 사용될 수 있었습니다.</p>
<p><strong>[고민했던 지점]</strong></p>
<h4 id="1-features-슬라이스-구성에-대하여"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-features-슬라이스-구성에-대하여"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. features 슬라이스 구성에 대하여</h4>
<pre><code class="code-highlight"><span class="code-line">src/features/
</span><span class="code-line">├── post/          # 게시물 관련 모든 기능
</span><span class="code-line">|		├── apis/               # API 함수들
</span><span class="code-line">│   │   └── api.ts
</span><span class="code-line">│   ├── hooks/               # 커스텀 훅들
</span><span class="code-line">│   │   └── usePostsParams.ts
</span><span class="code-line">│   ├── models/              # 타입과 쿼리키
</span><span class="code-line">│   │   ├── types.ts
</span><span class="code-line">│   │   └── queries.ts
</span><span class="code-line">│   ├── ui/                  # UI 컴포넌트들
</span><span class="code-line">│   │   └── PostForm.tsx
</span><span class="code-line">│   └── index.ts             # 배럴 익스포트
</span><span class="code-line">├── user/          # 사용자 관련 모든 기능
</span><span class="code-line">├── comment/       # 댓글 관련 모든 기능
</span><span class="code-line">└── tag/           # 태그 관련 모든 기능
</span></code><div class="copied" data-code="src/features/
├── post/          # 게시물 관련 모든 기능
|		├── apis/               # API 함수들
│   │   └── api.ts
│   ├── hooks/               # 커스텀 훅들
│   │   └── usePostsParams.ts
│   ├── models/              # 타입과 쿼리키
│   │   ├── types.ts
│   │   └── queries.ts
│   ├── ui/                  # UI 컴포넌트들
│   │   └── PostForm.tsx
│   └── index.ts             # 배럴 익스포트
├── user/          # 사용자 관련 모든 기능
├── comment/       # 댓글 관련 모든 기능
└── tag/           # 태그 관련 모든 기능
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>[의문점]</strong>
행동 기반으로 디렉토리를 표현해야하는 것 아닌가?</p>
<p>(예시)</p>
<pre><code class="code-highlight"><span class="code-line">src/features/
</span><span class="code-line">├── create-post/   # 게시물 생성 기능
</span><span class="code-line">│   ├── CreatePostForm.tsx   # UI 컴포넌트
</span><span class="code-line">│   ├── useCreatePost.ts     # 커스텀 훅
</span><span class="code-line">│   ├── createPostApi.ts     # API 함수
</span><span class="code-line">│   ├── types.ts             # 타입 정의
</span><span class="code-line">│   └── index.ts
</span><span class="code-line">├── update-post/   # 게시물 수정 기능
</span><span class="code-line">├── delete-post/   # 게시물 삭제 기능
</span><span class="code-line">├── view-post/     # 게시물 조회 기능
</span><span class="code-line">└── manage-users/  # 사용자 관리 기능
</span></code><div class="copied" data-code="src/features/
├── create-post/   # 게시물 생성 기능
│   ├── CreatePostForm.tsx   # UI 컴포넌트
│   ├── useCreatePost.ts     # 커스텀 훅
│   ├── createPostApi.ts     # API 함수
│   ├── types.ts             # 타입 정의
│   └── index.ts
├── update-post/   # 게시물 수정 기능
├── delete-post/   # 게시물 삭제 기능
├── view-post/     # 게시물 조회 기능
└── manage-users/  # 사용자 관리 기능
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이와 같은 고민에 대해 멘토링 시간에 얻은 조언은 다음과 같습니다.</p>
<blockquote>
<p>분류를 쉽게 하기 위한 <strong>나만의 기준</strong>을 가지는 것.</p>
</blockquote>
<h4 id="준일님의-기준"><a class="anchor" aria-hidden="true" tabindex="-1" href="#준일님의-기준"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>준일님의 기준</h4>
<ul>
<li>
<p>Features
라이브러리나 프레임워크에 의존적인 영역(API 요청 같은 것)
혹은 브라우저에서만 사용할 수 있는 코드</p>
</li>
<li>
<p>Entities
라이브러리나 프레임워크에 의존적이지 않은 부분
ESCMAScript Spec으로 구성 되어있는,
NodeJS 혹은 백엔드에서 실행해도 어색함이 없는 코드</p>
</li>
</ul>
<h4 id="나의-기준"><a class="anchor" aria-hidden="true" tabindex="-1" href="#나의-기준"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>나의 기준?</h4>
<ul>
<li>
<p>Features
사용자의 특정 행동(동사)을 유발하는 기능
예를 들어, &quot;로그인 하기&quot;, &quot;장바구니 담기&quot;, &quot;좋아요 누르기&quot; 처럼 <strong>Entities를 활용하여 특정 인터렉션을 완성</strong>하는 단위</p>
</li>
<li>
<p>Entities
비즈니스 도메인의 명사.
예를 들어, &quot;사용자&quot;, &quot;상품&quot;, &quot;게시글&quot;처럼 그 자체로 의미를 가지며 <strong>여러 곳에서 재사용</strong>될 수 있는 순수한 데이터와 UI 묶음</p>
</li>
</ul>
<h4 id="2-쿼리키의-위치"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-쿼리키의-위치"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 쿼리키의 위치</h4>
<p><strong>[의문점]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">TAG_QUERY_KEY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;tags&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">tags</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">TAG_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&quot;tags&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">tag</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">TAG_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&quot;tag&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</span></code><div class="copied" data-code="export const TAG_QUERY_KEY = {
  all: [&quot;tags&quot;],
  tags: () =&gt; [...TAG_QUERY_KEY.all, &quot;tags&quot;],
  tag: () =&gt; [...TAG_QUERY_KEY.all, &quot;tag&quot;],
} as const
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 쿼리 키는 entites의 model인가? features의 모델인가?
entities는 model 디렉토리가 존재하지 않는가?</p>
<h4 id="나의-기준-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#나의-기준-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>나의 기준!</h4>
<ol>
<li>쿼리 키는 features의 models에 있어야 합니다.
<ul>
<li>쿼리 키는 서버 데이터를 가져오는 행위(How)와 강하게 결합되어 있으므로 features의 model에 있어야 한다.</li>
<li>entities는 순수한 도메인 개념을 정의하는 것에 집중.</li>
</ul>
</li>
<li>Entities에는 models 디렉토리가 없어야 합니다.
<ul>
<li>entities는 비즈니스 도메인의 핵심 개념만 정의</li>
<li>서버 상태나 API 관련 로직은 제외</li>
</ul>
</li>
</ol>
<br/>
<h4 id="3-features의-model과-entities는-어떤-점이-다른가"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-features의-model과-entities는-어떤-점이-다른가"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. features의 model과 entities는 어떤 점이 다른가?</h4>
<ol>
<li>Entities (엔티티)</li>
</ol>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/entities/post/types.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  body<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  userId<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  tags<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  reactions<span class="token operator">:</span> Reaction
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Reaction</span> <span class="token punctuation">{</span>
</span><span class="code-line">  likes<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  dislikes<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  userReaction<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#x27;like&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;dislike&#x27;</span> <span class="token operator">|</span> <span class="token keyword">null</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/entities/post/helpers.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">mapPostsWithUsers</span> <span class="token operator">=</span> <span class="token punctuation">(</span>posts<span class="token operator">:</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> users<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 순수 함수: 데이터 변환만 담당</span>
</span><span class="code-line">  <span class="token keyword">return</span> posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>post<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token operator">...</span>post<span class="token punctuation">,</span>
</span><span class="code-line">    author<span class="token operator">:</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user<span class="token punctuation">.</span>id <span class="token operator">===</span> post<span class="token punctuation">.</span>userId<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/entities/post/types.ts
export interface Post {
  id: number
  title: string
  body: string
  userId: number
  tags: string[]
  reactions: Reaction
}

export interface Reaction {
  likes: number
  dislikes: number
  userReaction?: &#x27;like&#x27; | &#x27;dislike&#x27; | null
}

// src/entities/post/helpers.ts
export const mapPostsWithUsers = (posts: Post[], users: User[]) =&gt; {
  // 순수 함수: 데이터 변환만 담당
  return posts.map((post) =&gt; ({
    ...post,
    author: users.find((user) =&gt; user.id === post.userId),
  }))
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>특징</p>
<ul>
<li>순수한 데이터 구조 (비즈니스 로직이 없는 타입 정의)</li>
<li>재사용 가능 -&gt; 여러 도메인에서 공통으로 사용</li>
<li>불변성: 데이터 편환 시 새로운 객체 반환</li>
<li>도메인 독립적 -&gt; 특정 기능에 종속되지 않음</li>
</ul>
<br/>
<ol start="2">
<li>Features의 Model</li>
</ol>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/features/post/models/queries.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">POST_QUERY_KEY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;posts&#x27;</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">posts</span><span class="token operator">:</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> PostsParams<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&#x27;posts&#x27;</span><span class="token punctuation">,</span> params<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">post</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&#x27;post&#x27;</span><span class="token punctuation">,</span> id<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">reaction</span><span class="token operator">:</span> <span class="token punctuation">(</span>postId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&#x27;reaction&#x27;</span><span class="token punctuation">,</span> postId<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/features/post/models/types.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PostsParams</span> <span class="token punctuation">{</span>
</span><span class="code-line">  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  skip<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  search<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PostResponse</span> <span class="token punctuation">{</span>
</span><span class="code-line">  posts<span class="token operator">:</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  total<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  skip<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  limit<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/features/post/models/queries.ts
export const POST_QUERY_KEY = {
  all: [&#x27;posts&#x27;] as const,
  posts: (params: PostsParams) =&gt; [...POST_QUERY_KEY.all, &#x27;posts&#x27;, params] as const,
  post: (id: number) =&gt; [...POST_QUERY_KEY.all, &#x27;post&#x27;, id] as const,
  reaction: (postId: number) =&gt; [...POST_QUERY_KEY.all, &#x27;reaction&#x27;, postId] as const,
} as const

// src/features/post/models/types.ts
export interface PostsParams {
  limit?: number
  skip?: number
  search?: string
  tag?: string
}

export interface PostResponse {
  posts: Post[]
  total: number
  skip: number
  limit: number
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>특징</p>
<ul>
<li>도메인 특화: Post 기능에만 필요한 타입과 설정</li>
<li>React Query 설정: 쿼리 키, API 응답 타입 등</li>
<li>기능 종속적: Post 기능을 위한 특정 구조</li>
<li>상태 관리: React Query와 연관된 설정</li>
</ul>
<br/>
<h4 id="구체적인-차이점-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#구체적인-차이점-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>구체적인 차이점 분석</h4>
<ol>
<li>책임의 차이</li>
</ol>
<p><strong>[Entities]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// Post는 무엇인가? - 게시글이라는 개념</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  body<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  <span class="token comment">// ... Post의 본질적 속성들</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Post는 무엇인가? - 게시글이라는 개념
export interface Post {
  id: number
  title: string
  body: string
  // ... Post의 본질적 속성들
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li><strong>&quot;무엇&quot;</strong> 을 표현</li>
</ul>
<p><strong>[Features Model]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// Post를 어떻게 조회할 것인가? - 쿼리 파라미터</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PostsParams</span> <span class="token punctuation">{</span>
</span><span class="code-line">  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>    <span class="token comment">// 몇 개씩 가져올 것인가?</span>
</span><span class="code-line">  skip<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>     <span class="token comment">// 어디서부터 시작할 것인가?</span>
</span><span class="code-line">  search<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>   <span class="token comment">// 무엇을 검색할 것인가?</span>
</span><span class="code-line">  tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>      <span class="token comment">// 어떤 태그로 필터링할 것인가?</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Post를 어떻게 조회할 것인가? - 쿼리 파라미터
export interface PostsParams {
  limit?: number    // 몇 개씩 가져올 것인가?
  skip?: number     // 어디서부터 시작할 것인가?
  search?: string   // 무엇을 검색할 것인가?
  tag?: string      // 어떤 태그로 필터링할 것인가?
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li><strong>&quot;어떻게&quot;</strong> 사용할지를 정의</li>
</ul>
<br/>
<ol start="2">
<li>사용 범위의 차이</li>
</ol>
<p><strong>[Entities]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/features/post/components/PostTable.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Post <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;entities/post&quot;</span>  <span class="token comment">// Post 타입 사용</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/features/comment/components/Comments.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Post <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;entities/post&quot;</span>  <span class="token comment">// 다른 도메인에서도 Post 타입 사용</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/features/user/components/UserDialog.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;entities/user&quot;</span>  <span class="token comment">// User 엔티티도 공통 사용</span>
</span></code><div class="copied" data-code="// src/features/post/components/PostTable.tsx
import { Post } from &quot;entities/post&quot;  // Post 타입 사용

// src/features/comment/components/Comments.tsx
import { Post } from &quot;entities/post&quot;  // 다른 도메인에서도 Post 타입 사용

// src/features/user/components/UserDialog.tsx
import { User } from &quot;entities/user&quot;  // User 엔티티도 공통 사용
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>전체 애플리케이션에서 공통 사용</li>
</ul>
<p><strong>[Features Model]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/features/post/hooks/usePostsQuery.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">POST_QUERY_KEY</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../models/queries&quot;</span>  <span class="token comment">// Post 도메인 내에서만 사용</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> PostsParams<span class="token punctuation">,</span> PostResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../models/types&quot;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">usePostsQuery</span><span class="token punctuation">(</span>params<span class="token operator">:</span> PostsParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    queryKey<span class="token operator">:</span> <span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span><span class="token function">posts</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// Post 전용 쿼리 키</span>
</span><span class="code-line">    <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fetchPosts</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/features/post/hooks/usePostsQuery.ts
import { POST_QUERY_KEY } from &quot;../models/queries&quot;  // Post 도메인 내에서만 사용
import { PostsParams, PostResponse } from &quot;../models/types&quot;

export function usePostsQuery(params: PostsParams) {
  return useQuery({
    queryKey: POST_QUERY_KEY.posts(params),  // Post 전용 쿼리 키
    queryFn: () =&gt; fetchPosts(params),
  })
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>해당 도메인 내에서만 주로 사용</li>
</ul>
<br/>
<ol start="4">
<li>변경 빈도의 차이</li>
</ol>
<p><strong>[Entities]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// Post 엔티티는 비즈니스 요구사항이 바뀌지 않는 한 안정적</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">number</span>        <span class="token comment">// 변경될 일이 거의 없음</span>
</span><span class="code-line">  title<span class="token operator">:</span> <span class="token builtin">string</span>     <span class="token comment">// Post의 본질적 속성</span>
</span><span class="code-line">  body<span class="token operator">:</span> <span class="token builtin">string</span>      <span class="token comment">// Post의 본질적 속성</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Post 엔티티는 비즈니스 요구사항이 바뀌지 않는 한 안정적
export interface Post {
  id: number        // 변경될 일이 거의 없음
  title: string     // Post의 본질적 속성
  body: string      // Post의 본질적 속성
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>안정적, 자주 변경되지 않음</li>
</ul>
<p><strong>[Features Model]</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// PostsParams는 기능 요구사항에 따라 자주 변경될 수 있음</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PostsParams</span> <span class="token punctuation">{</span>
</span><span class="code-line">  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  skip<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  search<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  tag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  <span class="token comment">// 새로운 요구사항: category?: string</span>
</span><span class="code-line">  <span class="token comment">// 새로운 요구사항: sortBy?: &#x27;date&#x27; | &#x27;title&#x27; | &#x27;popularity&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// PostsParams는 기능 요구사항에 따라 자주 변경될 수 있음
export interface PostsParams {
  limit?: number
  skip?: number
  search?: string
  tag?: string
  // 새로운 요구사항: category?: string
  // 새로운 요구사항: sortBy?: &#x27;date&#x27; | &#x27;title&#x27; | &#x27;popularity&#x27;
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>기능 요구사항에 따라 자주 변경됨</li>
</ul>
<br/>
<p><strong>[결론]</strong></p>
<p><strong>Entities</strong></p>
<ul>
<li>Post, User, Comment, Tag 등의 인터페이스</li>
<li>순수한 데이터 변환 함수 (mapPostsWithUsers, updatePostReaction)</li>
<li>도메인 상수 (API 경로, 기본값 등)</li>
</ul>
<p><strong>Features Model</strong></p>
<ul>
<li>React Query 관련 설정 (쿼리 키, API 응답 타입)</li>
<li>기능별 파라미터 타입 (PostsParams, CreatePostData)</li>
<li>도메인 특화 유틸리티 (Post 검색, 필터링 등)</li>
</ul>
<p>이런식으로 전과 다르게 의사결정 하나하나에 나름의 선명한 이유들을 덧붙여가게 되었습니다.</p>
<br/>
<h3 id="본인이-과제를-하면서-가장-애쓰려고-노력했던-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#본인이-과제를-하면서-가장-애쓰려고-노력했던-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>본인이 과제를 하면서 가장 애쓰려고 노력했던 부분은 무엇인가요?</h3>
<h4 id="1-응집도-높이기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-응집도-높이기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. 응집도 높이기</h4>
<p>저는 개인적으로 쿼리 상태를 개별 훅으로 관리하는 것을 선호합니다.
그리고 쿼리 키 팩토리로 쿼리 키를 관리하되, 함수는 재사용이 없다면 훅과 같은 모듈 내에서 관리하는 것을 선호합니다.
제가 생각하는 이 방식의 이점은 다음과 같습니다.</p>
<p><strong>AS-IS</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// 1. queries.ts에서 쿼리 키 팩토리 관리</span>
</span><span class="code-line"><span class="token comment">// src/features/user/models/queries.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">USER_QUERY_KEY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">users</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&quot;list&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">user</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">,</span> <span class="token string">&quot;detail&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 2. api.ts에서 fetch 함수 관리</span>
</span><span class="code-line"><span class="token comment">// src/features/user/apis/api.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fetchUsers</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> api<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/users?limit=0&amp;select=username,image&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">fetchUser</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> api<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 3. useUsersQuery에서 조합</span>
</span><span class="code-line"><span class="token comment">// src/features/user/hooks/useUsersQuery.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useUsersQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useSuspenseQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    queryKey<span class="token operator">:</span> <span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span><span class="token function">users</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 쿼리키 팩토리 사용</span>
</span><span class="code-line">    <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fetchUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>       <span class="token comment">// API 함수 사용</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// 1. queries.ts에서 쿼리 키 팩토리 관리
// src/features/user/models/queries.ts
export const USER_QUERY_KEY = {
  all: [&quot;users&quot;],
  users: () =&gt; [...USER_QUERY_KEY.all, &quot;list&quot;],
  user: (id: number) =&gt; [...USER_QUERY_KEY.all, &quot;detail&quot;, id],
} as const

// 2. api.ts에서 fetch 함수 관리
// src/features/user/apis/api.ts
export const fetchUsers = async () =&gt; {
  return api.get(&quot;/users?limit=0&amp;select=username,image&quot;)
}

export const fetchUser = async (id: number) =&gt; {
  return api.get(`/users/${id}`)
}

// 3. useUsersQuery에서 조합
// src/features/user/hooks/useUsersQuery.ts
export function useUsersQuery() {
  return useSuspenseQuery({
    queryKey: USER_QUERY_KEY.users(),  // 쿼리키 팩토리 사용
    queryFn: () =&gt; fetchUsers(),       // API 함수 사용
  })
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>api 함수와 query를 각각 개별파일에서 관리하는 것이 파편화되어 있다고 느껴짐</li>
<li>함수가 재사용되지 않는데도 별도 파일에 분리되어 있음</li>
<li>관련 로직이 여러 파일에 흩어져 있어 응집도가 낮음</li>
</ul>
<p><strong>TO-BE</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/features/user/models/queries.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">USER_QUERY_KEY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">users</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/features/user/hooks/useUsersQuery.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">UserResponse</span> <span class="token punctuation">{</span>
</span><span class="code-line">  users<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  total<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  skip<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  limit<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">fetchUser</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> api<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users?limit=0&amp;select=username,image</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useUsersQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useSuspenseQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    queryKey<span class="token operator">:</span> <span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span><span class="token function">users</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/features/user/models/queries.ts
export const USER_QUERY_KEY = {
  all: [&quot;users&quot;],
  users: () =&gt; [...USER_QUERY_KEY.all],
} as const

// src/features/user/hooks/useUsersQuery.ts

interface UserResponse {
  users: User[]
  total: number
  skip: number
  limit: number
}

const fetchUser = async () =&gt; {
  return api.get&lt;UserResponse&gt;(`/users?limit=0&amp;select=username,image`)
}

export function useUsersQuery() {
  return useSuspenseQuery({
    queryKey: USER_QUERY_KEY.users(),
    queryFn: () =&gt; fetchUser(),
  })
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>높은 응집도와 적절한 관심사 분리
<ul>
<li>도메인 레벨: 특정 도메인(user)과 관련된 모든 쿼리 키를 키 팩토리 파일에서 통합 관리하여 키들의 응집도를 높이고 일관성을 유지</li>
<li>훅 레벨: 훅은 자신의 책임에만 집중합니다. 쿼리함수가 하나의 훅에서만 사용된다면, 함수를 훅과 함께 배치(co-location)하여 훅과 API 호출 로직 간의 응집도를 높입니다.</li>
</ul>
</li>
<li>불필요한 파편화 방지
<ul>
<li>다른 곳에서 재사용되지 않는 API 함수를 api.ts 와 같은 공용 파일로 굳이 분리하지 않습니다.</li>
<li>불필요한 파일 분리와 export/import 구문을 줄이며 특정 훅과 강하게 결합된 로직이 물리적으로 가까이 위치하도록 보장하여 유지보수성을 높이고자 했습니다.</li>
</ul>
</li>
<li>명확한 단일 책임 원칙
<ul>
<li>useUserQuery는 &quot;사용자 조회&quot;라는 하나의 책임만 가집니다.</li>
<li>퀴리 키 팩토리 : User 도메인의 쿼리 키를 생성하고 관리하는 책임을 가집니다.</li>
<li>이 구조에서 훅은 공유된 쿼리 키 팩토리를 &quot;사용&quot;할 뿐이며, 자신의 책임에만 특화된 비공개 API 함수를 가질 수 있어 각 모듈의 역할이 더 명확해지는 효과가 있습니다.</li>
</ul>
</li>
<li>코드 가독성
<ul>
<li>훅을 읽는 개발자가 이 훅이 어떤 API를 호출하는지 확인하기 위해 다른 파일을 찾아다닐 필요가 없습니다.</li>
<li>쿼리키 구조와 API 호출 로직의 관계를 직관적으로 이해할 수 있습니다.</li>
</ul>
</li>
<li>확장성
<ul>
<li>새로운 사용자 관련 쿼리가 필요할 때 해당 훅만 수정하면 되며 기존 코드에 영향을 주지 않습니다.</li>
<li>필요하다면 공유 쿼리 키 팩토리에 새로운 키 정의만 추가하면 되므로 변경의 영향 범위가 명확하고 작게 유지됩니다.</li>
</ul>
</li>
</ul>
<br/>
<h4 id="2-인터페이스-설계"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-인터페이스-설계"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 인터페이스 설계</h4>
<p><strong>[고민했던 지점]</strong></p>
<ul>
<li>이 컴포넌트는 어떤 props만을 필요로 하는가?</li>
<li>&quot;도메인에 의존적인 props나 drilling을 위해 필요한 프롭을 뚫기 전에 과연 이것은 props로 필요한 상태나 행동일까?&quot;</li>
<li>&quot;훅으로 내부에서 관리하는게 더 적절할까?&quot;</li>
</ul>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">PostManagerPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> posts<span class="token punctuation">,</span> searchQuery<span class="token punctuation">,</span> selectedTag<span class="token punctuation">,</span> handleSearch<span class="token punctuation">,</span> handleTagSelect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePostManagement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> selectedPost<span class="token punctuation">,</span> isEditing<span class="token punctuation">,</span> handleEdit<span class="token punctuation">,</span> handleClose <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePostDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostFilters</span></span> 
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">searchQuery</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>searchQuery<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">selectedTag</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedTag<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onSearch</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSearch<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onTagSelect</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleTagSelect<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostTable</span></span> 
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">posts</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onEdit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleEdit<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostDialog</span></span> 
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>selectedPost<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">isEditing</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isEditing<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onClose</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClose<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="function PostManagerPage() {
  const { posts, searchQuery, selectedTag, handleSearch, handleTagSelect } = usePostManagement()
  const { selectedPost, isEditing, handleEdit, handleClose } = usePostDialog()
  
  return (
    &lt;div&gt;
      &lt;PostFilters 
        searchQuery={searchQuery}
        selectedTag={selectedTag}
        onSearch={handleSearch}
        onTagSelect={handleTagSelect}
      /&gt;
      &lt;PostTable 
        posts={posts}
        onEdit={handleEdit}
      /&gt;
      &lt;PostDialog 
        post={selectedPost}
        isEditing={isEditing}
        onClose={handleClose}
      /&gt;
    &lt;/div&gt;
  )
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<br/>
<h4 id="3-폴더구조가-직관적인가"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-폴더구조가-직관적인가"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. 폴더구조가 직관적인가?</h4>
<p>도메인 기반 + 역할 기반 하이브리드 구조</p>
<p><strong>[의사결정 과정]</strong>
FSD를 적용하면서 entities와 features 슬라이스 구분에 신경을 썼지만, 모든 원칙을 완벽하게 따르기보다는 합리적이고 편한 방법을 조합하는 방향으로 접근했습니다.</p>
<p>저는 도메인 기반 분류를 선호하지만, FSD 는 아직까지 크게 와닿지 않는 것 같습니다. 그래서 사이드 프로젝트에서는 features 안에 도메인을 관리하되, 내부는 역할 기반으로 나누어서 관리했었습니다.
작은 프로젝트에서 역할 기반 폴더구조가 직관적인 이유는 개발자가 코드를 찾을 때 &quot;어떤 역할의 코드를 찾고 있는가?&quot;를 먼저 생각하기 때문이라고 생각합니다. 이 이점이 강하다고 생각했기 때문에, 도메인 기반의 폴더구조를 취하더라도 역할 기반의 이점까지 함께 가져가고 싶었습니다.</p>
<p>결국 &quot;적절한 확장성 + 높은 응집도&quot;가 제가 가장 중요하게 생각하는 것이었고, 느슨한 결합도는 아직 체화하기 어려워서 우선순위가 밀렸습니다. 응집도를 먼저 높여놓은 뒤에, 그 안에서 결합도를 낮추는 방법을 찾아가는 것이 저에게는 가장 직관적이었습니다.</p>
<p><strong>[최종 적용된 구조]</strong></p>
<pre><code class="code-highlight"><span class="code-line">src/
</span><span class="code-line">├── entities/
</span><span class="code-line">│   ├── post/
</span><span class="code-line">│   │   ├── types.ts
</span><span class="code-line">│   │   ├── constants.ts
</span><span class="code-line">│   │   └── helpers.ts
</span><span class="code-line">│   ├── user/
</span><span class="code-line">│   └── comment/
</span><span class="code-line">├── features/
</span><span class="code-line">│   ├── post/
</span><span class="code-line">│   │   ├── components/
</span><span class="code-line">│   │   ├── hooks/
</span><span class="code-line">│   │   ├── models/
</span><span class="code-line">│   │   └── apis/
</span><span class="code-line">│   ├── user/
</span><span class="code-line">│   └── comment/
</span><span class="code-line">├── shared/
</span><span class="code-line">│   ├── components/
</span><span class="code-line">│   ├── hooks/
</span><span class="code-line">│   └── utils/
</span><span class="code-line">└── widgets/
</span><span class="code-line">    ├── header/
</span><span class="code-line">    ├── footer/
</span><span class="code-line">    └── layouts/
</span></code><div class="copied" data-code="src/
├── entities/
│   ├── post/
│   │   ├── types.ts
│   │   ├── constants.ts
│   │   └── helpers.ts
│   ├── user/
│   └── comment/
├── features/
│   ├── post/
│   │   ├── components/
│   │   ├── hooks/
│   │   ├── models/
│   │   └── apis/
│   ├── user/
│   └── comment/
├── shared/
│   ├── components/
│   ├── hooks/
│   └── utils/
└── widgets/
    ├── header/
    ├── footer/
    └── layouts/
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<br/>
<h4 id="4-중복이-존재하는-세-개의-dialog를-어떻게-효율적으로-구성할-수-있을까"><a class="anchor" aria-hidden="true" tabindex="-1" href="#4-중복이-존재하는-세-개의-dialog를-어떻게-효율적으로-구성할-수-있을까"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4. 중복이 존재하는 세 개의 Dialog를 어떻게 효율적으로 구성할 수 있을까?</h4>
<p><strong>[문제 상황]</strong></p>
<ul>
<li>세 종류의 다이얼로그(알림, 확인, 입력)를 각각 별도 컴포넌트로 구현</li>
<li>응집도 해치고 확장성 저해</li>
<li>코드 중복 및 유지보수 어려움</li>
</ul>
<p><strong>[개선]</strong></p>
<ol>
<li>CommonDialog 컴포넌트로 동적 렌더링</li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/shared/components/Dialog.tsx</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Dialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> onClose<span class="token punctuation">,</span> children <span class="token punctuation">}</span><span class="token operator">:</span> DialogProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isOpen<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;bg-white rounded-lg p-6 max-w-md w-full mx-4&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/shared/components/Dialog.tsx
export function Dialog({ isOpen, onClose, children }: DialogProps) {
  if (!isOpen) return null
  
  return (
    &lt;div className=&quot;fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center&quot;&gt;
      &lt;div className=&quot;bg-white rounded-lg p-6 max-w-md w-full mx-4&quot;&gt;
        {children}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<br/>
<ol start="2">
<li>useDialog 커스텀 훅으로 상태 관리</li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/shared/hooks/useDialog.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> setIsOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">toggleDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setIsOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>prev<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    isOpen<span class="token punctuation">,</span>
</span><span class="code-line">    toggleDialog<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/shared/hooks/useDialog.ts
import { useState } from &quot;react&quot;

export function useDialog() {
  const [isOpen, setIsOpen] = useState(false)

  const toggleDialog = () =&gt; {
    setIsOpen((prev) =&gt; !prev)
  }

  return {
    isOpen,
    toggleDialog,
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<br/>
<ol start="3">
<li>타입 기반 다이얼로그 통합</li>
</ol>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">PostDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  type<span class="token punctuation">,</span>
</span><span class="code-line">  open<span class="token punctuation">,</span>
</span><span class="code-line">  onOpenChange<span class="token punctuation">,</span>
</span><span class="code-line">  post<span class="token punctuation">,</span>
</span><span class="code-line">  search<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  type<span class="token operator">:</span> <span class="token string">&quot;create&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;edit&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;view&quot;</span>
</span><span class="code-line">  open<span class="token operator">:</span> <span class="token builtin">boolean</span>
</span><span class="code-line">  <span class="token function-variable function">onOpenChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>open<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">void</span>
</span><span class="code-line">  post<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Post</span>
</span><span class="code-line">  search<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token operator">:</span> createPost <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCreatePostMutation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token operator">:</span> updatePost <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useUpdatePostMutation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleCreate</span> <span class="token operator">=</span> <span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token maybe-class-name">PostFormData</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">createPost</span><span class="token punctuation">(</span>formData<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        queryClient<span class="token punctuation">.</span><span class="token method function property-access">invalidateQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span><span class="token property-access">all</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token function">onOpenChange</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleEdit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token maybe-class-name">PostFormData</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>post<span class="token punctuation">)</span> <span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">updatePost</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> post<span class="token operator">:</span> formData <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">          queryClient<span class="token punctuation">.</span><span class="token method function property-access">invalidateQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span><span class="token property-access">all</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">          <span class="token function">onOpenChange</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">getTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;create&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token string">&quot;새 게시물 추가&quot;</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;edit&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token string">&quot;게시물 수정&quot;</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;view&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> post<span class="token operator">?.</span>title <span class="token operator">||</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onOpenChange<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogContent</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;view&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;max-w-3xl&quot;</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;create&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostCreateForm</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleCreate<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;edit&quot;</span> <span class="token operator">&amp;&amp;</span> post <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostEditForm</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleEdit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;view&quot;</span> <span class="token operator">&amp;&amp;</span> post <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostViewContent</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token attr-name">search</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogContent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Dialog</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function PostDialog({
  type,
  open,
  onOpenChange,
  post,
  search,
}: {
  type: &quot;create&quot; | &quot;edit&quot; | &quot;view&quot;
  open: boolean
  onOpenChange: (open: boolean) =&gt; void
  post?: Post
  search?: string
}) {
  const queryClient = useQueryClient()
  const { mutate: createPost } = useCreatePostMutation()
  const { mutate: updatePost } = useUpdatePostMutation()

  const handleCreate = (formData: PostFormData) =&gt; {
    createPost(formData, {
      onSuccess: () =&gt; {
        queryClient.invalidateQueries({ queryKey: POST_QUERY_KEY.all })
        onOpenChange(false)
      },
    })
  }

  const handleEdit = (formData: PostFormData) =&gt; {
    if (!post) return

    updatePost(
      { id: post.id, post: formData },
      {
        onSuccess: () =&gt; {
          queryClient.invalidateQueries({ queryKey: POST_QUERY_KEY.all })
          onOpenChange(false)
        },
      },
    )
  }

  const getTitle = () =&gt; {
    switch (type) {
      case &quot;create&quot;:
        return &quot;새 게시물 추가&quot;
      case &quot;edit&quot;:
        return &quot;게시물 수정&quot;
      case &quot;view&quot;:
        return post?.title || &quot;&quot;
    }
  }

  return (
    &lt;Dialog open={open} onOpenChange={onOpenChange}&gt;
      &lt;DialogContent className={type === &quot;view&quot; ? &quot;max-w-3xl&quot; : undefined}&gt;
        &lt;DialogHeader&gt;
          &lt;DialogTitle&gt;{getTitle()}&lt;/DialogTitle&gt;
        &lt;/DialogHeader&gt;

        {type === &quot;create&quot; &amp;&amp; &lt;PostCreateForm onSubmit={handleCreate} /&gt;}
        {type === &quot;edit&quot; &amp;&amp; post &amp;&amp; &lt;PostEditForm post={post} onSubmit={handleEdit} /&gt;}
        {type === &quot;view&quot; &amp;&amp; post &amp;&amp; &lt;PostViewContent post={post} search={search} /&gt;}
      &lt;/DialogContent&gt;
    &lt;/Dialog&gt;
  )
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>Props 설계의 장점
<ul>
<li>type: 다이얼로그의 동작 모드를 명확하게 구분하여 예측 가능한 인터페이스 제공</li>
<li>open, onOpenChange: 일관된 다이얼로그 열기/닫기 패턴으로 재사용성 향상</li>
<li>post: edit과 view 모드에서 필요한 데이터를 선택적으로 전달하여 유연성 확보</li>
<li>search: view 모드에서 검색어 하이라이트 기능을 위한 선택적 데이터</li>
</ul>
</li>
<li>비즈니스 로직 처리 방식
<ul>
<li>handleCreate: 새 게시물 생성 후 쿼리 무효화 및 다이얼로그 닫기로 사용자 경험 개선</li>
<li>handleEdit: 기존 게시물 수정 후 동일한 패턴으로 일관성 유지</li>
<li>getTitle: 동적으로 제목을 생성하여 각 모드별 명확한 컨텍스트 제공</li>
</ul>
</li>
<li>UI 렌더링 전략
<ul>
<li>조건부 렌더링: {type === &quot;create&quot; &amp;&amp; <postcreateform>} 패턴으로 필요한 컴포넌트만 렌더링</postcreateform></li>
<li>반응형 레이아웃: view 모드일 때 max-w-3xl 클래스로 더 넓은 레이아웃 적용</li>
<li>컴포넌트 분리: PostCreateForm, PostEditForm, PostViewContent로 각 모드별 로직을 독립적으로 관리</li>
</ul>
</li>
</ul>
<p><strong>[또 다른 문제점]</strong></p>
<ul>
<li>여러개의 Dialog에 대한 상태들을 개별적으로 관리 + 해당 상태들이 다른 컴포넌트에도 사용이 되는 구조였기 때문에 페이지 레벨에서 Prop Drilling이 불가피했음</li>
</ul>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token operator">:</span> showAddCommentDialog<span class="token punctuation">,</span> toggleDialog<span class="token operator">:</span> toggleShowAddCommentDialog <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token operator">:</span> showEditCommentDialog<span class="token punctuation">,</span> toggleDialog<span class="token operator">:</span> toggleShowEditCommentDialog <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"> <span class="token punctuation">{</span><span class="token comment">/* 댓글 추가 대화상자 */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>showAddCommentDialog<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>toggleShowAddCommentDialog<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogContent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">새 댓글 추가</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>space-y-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Textarea</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>댓글 내용<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>newComment<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">              <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setNewComment</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>newComment<span class="token punctuation">,</span> body<span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">toggleShowAddCommentDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">댓글 추가</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogContent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Dialog</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* 댓글 수정 대화상자 */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token spread operator">...</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Dialog</span></span><span class="token punctuation">&gt;</span></span>
</span></code><div class="copied" data-code="
  const { isOpen: showAddCommentDialog, toggleDialog: toggleShowAddCommentDialog } = useDialog()
  const { isOpen: showEditCommentDialog, toggleDialog: toggleShowEditCommentDialog } = useDialog()

 {/* 댓글 추가 대화상자 */}
      &lt;Dialog open={showAddCommentDialog} onOpenChange={toggleShowAddCommentDialog}&gt;
        &lt;DialogContent&gt;
          &lt;DialogHeader&gt;
            &lt;DialogTitle&gt;새 댓글 추가&lt;/DialogTitle&gt;
          &lt;/DialogHeader&gt;
          &lt;div className=&quot;space-y-4&quot;&gt;
            &lt;Textarea
              placeholder=&quot;댓글 내용&quot;
              value={newComment.body}
              onChange={(e) =&gt; setNewComment({ ...newComment, body: e.target.value })}
            /&gt;
            &lt;Button onClick={() =&gt; toggleShowAddCommentDialog()}&gt;댓글 추가&lt;/Button&gt;
          &lt;/div&gt;
        &lt;/DialogContent&gt;
      &lt;/Dialog&gt;

      {/* 댓글 수정 대화상자 */}
      ...
      &lt;/Dialog&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>[최종 해결책: Toss OverlayKit 적용]</strong></p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// src/pages/PostsManagerPage.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> overlay <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&quot;overlay-kit&quot;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">openPostDetail</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> post <span class="token operator">=</span> postsToDisplay<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>post<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> post<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">await</span> overlay<span class="token punctuation">.</span><span class="token method function property-access">openAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> close <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostDialog</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>close<span class="token punctuation">}</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">openEditDialog</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>post<span class="token operator">:</span> <span class="token maybe-class-name">Post</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> fullPost <span class="token operator">=</span> postsToDisplay<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> p<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>fullPost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">await</span> overlay<span class="token punctuation">.</span><span class="token method function property-access">openAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> close <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostDialog</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>close<span class="token punctuation">}</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fullPost<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">openUserDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span>user<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> username<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> image<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  overlay<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> close <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserDialog</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>close<span class="token punctuation">}</span></span> <span class="token attr-name">userId</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// src/pages/PostsManagerPage.tsx
import { overlay } from &quot;overlay-kit&quot;

const openPostDetail = async (id: number) =&gt; {
  const post = postsToDisplay.find((post) =&gt; post.id === id)
  if (post) {
    await overlay.openAsync(({ isOpen, close }) =&gt; (
      &lt;PostDialog type=&quot;view&quot; open={isOpen} onOpenChange={close} post={post} /&gt;
    ))
  }
}

const openEditDialog = async (post: Post) =&gt; {
  const fullPost = postsToDisplay.find((p) =&gt; p.id === post.id)
  if (fullPost) {
    await overlay.openAsync(({ isOpen, close }) =&gt; (
      &lt;PostDialog type=&quot;edit&quot; open={isOpen} onOpenChange={close} post={fullPost} /&gt;
    ))
  }
}

const openUserDialog = (user: { id: number; username: string; image: string }) =&gt; {
  overlay.open(({ isOpen, close }) =&gt; &lt;UserDialog open={isOpen} onOpenChange={close} userId={user.id} /&gt;)
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>Toss OverlayKit 적용의 장점</strong>
• 선언적 Dialog 관리 -&gt; 상태 관리 불필요
• Prop Drilling 제거 -&gt; 각 컴포넌트에서 직접 다이얼로그 호출
• 코드 단순화 -&gt;  복잡한 상태 관리 로직 제거
• 재사용성 향상 -&gt; 어디서든 쉽게 다이얼로그 사용
• 일관된 UX -&gt; 모든 다이얼로그가 동일한 동작 방식</p>
<br/>
<h3 id="아직은-막연하다거나-더-고민이-필요한-부분을-적어주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#아직은-막연하다거나-더-고민이-필요한-부분을-적어주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>아직은 막연하다거나 더 고민이 필요한 부분을 적어주세요.</h3>
<p>여전히 컴포넌트 인터페이스를 설계하는 것이 가장 어렵습니다.
특히 여러 컴포넌트가 공유해야 하지만 전역 상태로 관리하기에는 범위가 작은 상태들을 다룰 때 많은 고민을 했습니다.
예를 들어, A 컴포넌트의 상태가 형제 컴포넌트인 B에도 영향을 줘야 할 때, 공통 부모로 상태를 끌어올리는(lifting state up) 것이 최선인지,
아니면 다른 방법이 있는지 계속 탐색하게 됩니다.
&#x27;냅다 전역상태로 때려박는&#x27; 안티패턴을 피하면서, 어떻게 하면 상태의 범위를 적절하게 지역화하고 응집도를 높일 수 있을지가 저의 가장 큰 숙제입니다.</p>
<br/>
<h3 id="이번에-배운-내용-중을-통해-앞으로-개발에-어떻게-적용해보고-싶은지-적어주세요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#이번에-배운-내용-중을-통해-앞으로-개발에-어떻게-적용해보고-싶은지-적어주세요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>이번에 배운 내용 중을 통해 앞으로 개발에 어떻게 적용해보고 싶은지 적어주세요.</h3>
<p>이번 챕터를 통해 얻은 가장 큰 수확은 &#x27;컴포넌트의 인터페이스를 먼저 생각하는 습관&#x27;입니다.
앞으로는 새로운 기능을 개발할 때, 구현에 앞서 다음 질문을 스스로에게 던지는 것을 습관화 하고자 합니다.</p>
<ol>
<li>&quot;이 컴포넌트의 책임은 무엇인가?&quot;
<ul>
<li>컴포넌트가 수행해야 할 명확한 단일 책임을 정의하기</li>
</ul>
</li>
<li>&quot;그래서 어떤 Props가 필요한가?&quot;
<ul>
<li>책임에 필요한 최소한의 데이터와 액션만을 props로 받도록 인터페이스를 설계해보기</li>
</ul>
</li>
<li>&quot;이 상태는 어디에 위치해야 하는가?&quot;
<ul>
<li>상태의 영향 범위를 고려하여, 지역 상태, 부모 컴포넌트의 상태(Lifting State Up), 혹은 React Context 등을 활용해 가장 적절한 위치를 찾아보기</li>
</ul>
</li>
</ol>
<br/>
<h2 id="챕터-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#챕터-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>챕터 셀프회고</h2>
<blockquote>
<p>클린코드와 아키테쳑 챕터 함께 하느라 고생 많으셨습니다!
지난 3주간의 여정을 돌이켜 볼 수 있도록 준비해보았습니다.
아래에 적힌 질문들은 추억(?)을 회상할 수 있도록 도와주려고 만든 질문이며, 꼭 질문에 대한 대답이 아니어도 좋으니 내가 느꼈던 인사이트들을 자유롭게 적어주세요.</p>
</blockquote>
<h3 id="클린코드-읽기-좋고-유지보수하기-좋은-코드-만들기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#클린코드-읽기-좋고-유지보수하기-좋은-코드-만들기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>클린코드: 읽기 좋고 유지보수하기 좋은 코드 만들기</h3>
<ul>
<li>더티코드를 접했을 때 어떤 기분이었나요? ^^; 클린코드의 중요성, 읽기 좋은 코드란 무엇인지, 유지보수하기 쉬운 코드란 무엇인지에 대한 생각을 공유해주세요</li>
</ul>
<p>클린코드는 개발자 경험의 관점에서 그 중요성이 명확하다고 생각합니다. DX는 컴퓨터가 아닌 사람에게 편의성을 제공하는 것이고, 클린코드는 결국 기계가 아닌 사람을 위한 가장 근본적인 활동이기 때문입니다.
코드는 한 번 작성되고 끝나는 것이 아니라 수십에서 수백 번 읽히고 수정됩니다.
잘 짜인 코드는 미래의 나와 동료 개발자에게 불필요한 시간 낭비와 스트레스를 줄여주는 기술 문서이자 지속 가능한 개발 환경을 만드는 투자라고 생각합니다.</p>
<p>또한, <strong>읽기 좋은 코드란 거슬림이 없는 것</strong>이라고 표현하고 싶습니다. 잘 쓴 글이 막힘 없이 술술 읽히듯, 좋은 코드는 물음표를 던질 필요 없이 자연스럽게 의도가 파악되는 코드라고 생각합니다.</p>
<p>읽기 좋은 코드를 구체적으로 나열해본다면 다음과 같을 것 같습니다.</p>
<ol>
<li>예측 가능한 코드</li>
<li>일관성 있는 코드</li>
<li>단일 책임 원칙을 지키는 코드</li>
</ol>
<p>예측 가능한 코드는 이름만 보고도 역할을 짐작하게 합니다. getUserData()라는 함수는 당연히 유저 데이터를 가져와야지, 갑자기 데이터를
수정하거나 삭제해서는 안 됩니다. d나 list1 같은 변수명이 아니라 elapsedTimeInDays나 filteredUserList처럼 명확한 이름을 사용하면,
코드를 읽는 사람은 불필요한 추측을 할 필요가 없어집니다.</p>
<p>일관성이 있는 코드는 프로젝트 전반에 걸쳐 코드 스타일, 컨벤션, 아키텍처 패턴을 일관되게 제공합니다.
일관성이 깨진다면 사소하더라도 읽는 사람에게는 계속해서 인지적 마찰을 일으키는 &quot;거슬림&quot;이 됩니다.</p>
<p>저는 명령 절차가 어렵게 작성되어 있으면 눈에 잘 들어오지 않습니다. 하나의 함수가 너무 많은 일을 수행한다면 복잡성이 증가한다고 생각합니다. 좋은 코드는 하나의 함수가 &quot;한가지 일&quot;만 명확하게 수행하는 것이라고 생각합니다.</p>
<p>유지보수하기 쉬운코드란 <strong>수정하기 쉬운 코드</strong>라고 생각합니다. 그렇다면 &quot;어떤 코드가 수정하기 쉬울까&quot; 고민해본다면, <strong>변경의 영향 범위가 명확하고 작은 코드</strong>인 것 같습니다.</p>
<p>변경의 범위가 명확하고 작은 코드</p>
<ol>
<li>낮은 결합도</li>
<li>높은 응집도</li>
<li>테스트 가능한 코드</li>
</ol>
<br/>
<h3 id="결합도-낮추기-디자인-패턴-순수함수-컴포넌트-분리-전역상태-관리"><a class="anchor" aria-hidden="true" tabindex="-1" href="#결합도-낮추기-디자인-패턴-순수함수-컴포넌트-분리-전역상태-관리"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>결합도 낮추기: 디자인 패턴, 순수함수, 컴포넌트 분리, 전역상태 관리</h3>
<ul>
<li>거대한 단일 컴포넌트를 봤을때의 느낌! 처음엔 막막했던 상태관리, 디자인 패턴이라는 말이 어렵게만 느껴졌던 시절, 순수함수로 분리하면서 &quot;아하!&quot;했던 순간, 컴포넌트가 독립적이 되어가는 과정에서의 깨달음을 들려주세요</li>
</ul>
<p>지난 주차에 직접 리팩토링을 해보면서 이런 과정을 겪었던 것 같습니다.
이 연습을 하는 본질적인 이유는 &quot;요구사항을 어떻게 하면 유지보수하기 쉽게 생산할까&quot; 라고 생각하는데,
저는 &quot;어떻게 하면 goal을 전략적으로 수행할까&quot; 에만 너무 포커싱을 둔 채로 과제에 임했다는 것을 회고했었습니다.</p>
<p>1차 시도에는 컴포넌트 먼저 분리했었는데, 분리하기에 가장 눈에 잘보이기 때문이었습니다.
그러나 props를 먼저 만들어버리는 구조가 되어버려 코드베이스 파악이 더 어려워졌습니다.
그 기반에서 순수함수를 분리하려고 하니까 난이도가 더 체감되었습니다.</p>
<p>이 기반으로 순수함수 분리를 시도했으나, 함수를 분리할수록 리팩토링할 코드만 생성하고 있다는 느낌을 받았습니다.
고민 끝에 만들었던 것들을 리셋하고 리드미 순서대로 다시 진행했었고, 컴포넌트 분리보다 순수함수 분리하는 감각과 훅을 추상화 하는 것들이 저에게는 더 필요한 경험이라고 생각했습니다. (경험이 적어서!)
컴포넌트 추상화는 훅만 잘 분리되어 있다면 어렵지 않을 것이라고 생각했고, 그 정도는 AI에게 위임해도 괜찮은 작업이라고 생각했습니다.
예상대로 순수함수부터 분리한 뒤에는 상태와 관련된 로직들이 눈에 잘 보이기 시작했습니다.
상태를 개별 훅으로 나누고 나서야 정리가 됨을 느꼈습니다. 이때가 저의 아하! 포인트 였던 것 같습니다.</p>
<p>그래서 이번주 과제는 조금 더 잘 해볼 자신이 있었습니다.
그러나 진행을 할수록 숨겨져 있는 이슈(?)라고 해야할까요.. 해야 할 것들이 많고, 누락된 기능들을 구현하면 다시 코드가 더러워지고.. 의 반복이었습니다 ㅠㅠ
결국 이번주도 스스로에게는 만족스럽지 못한 마무리가 된 것 같습니다.
하지만 스스로 만족스러웠다면 이 과제를 다시 돌아보지 않을 것 같은데, 이런 찝찝한 마무리이기에 계속 돌아보게 되는 것 같습니다!
제출 기간은 지났지만 오늘까지는 코드를 계속 보완해 볼 계획 입니다!</p>
<br/>
<h3 id="응집도-높이기-서버상태관리-폴더-구조"><a class="anchor" aria-hidden="true" tabindex="-1" href="#응집도-높이기-서버상태관리-폴더-구조"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>응집도 높이기: 서버상태관리, 폴더 구조</h3>
<ul>
<li>&quot;이 코드는 대체 어디에 둬야 하지?&quot;라고 고민했던 시간, FSD를 적용해보면서의 느낌, 나만의 구조를 만들어가는 과정, TanStack Query로 서버 상태를 분리하면서 느낀 해방감(?)등을 공유해주세요</li>
</ul>
<p>앞의 내용에서 비슷한 언급을 했었지만, 이런 고민을 해본 끝에 내린 저의 결론은 내가 편하게 생각하는 구조는 무엇이고, 그걸 왜 편하게 생각하는지에 대한 정의를 내리는 것이 이 과제에서 제가 얻어가야 할 경험이고 필요한 생각이라고 생각했습니다.</p>
<p>제가 중요하게 생각했던 것은 &quot;응집도&quot; 였고, 그 것이 어떤 판단을 하는 것에 대한 하나의 기준이 된 것 같습니다.
응집도를 높이기 위해서 했던 <strong>첫번째 고민은 폴더 구조</strong> 였습니다. FSD를 살펴보며 &#x27;도메인 기반(features/post)&#x27;과 &#x27;행동 기반(features/create-post)&#x27; 구조 사이에 고민을 했고, 둘다 일리가 있어 두 방식의 장점을 결합한 구조를 적용했습니다.</p>
<p>이 구조가 저에게 편안했던 이유는 &quot;응집도의 두 가지 레벨&quot;을 모두 만족하기 때문입니다.
먼저, &quot;게시물&quot;과 관련된 모든 기능이 features/post에 모여 <strong>도메인 단위의 거시적인 응집도</strong>를 높여주었습니다.
그 안에서 components, hooks 등 역할 기반으로 파일을 분류하여 코드를 찾고 수정할 때 <strong>논리적 흐름의 미시적인 응집도를 확보</strong>할 수 있다고 판단했습니다.</p>
<p>그 다음에 개별 기능의 내부 코드 단위에서는 하나의 행위에 관련된 모든 것들은 최대한 한 곳에 모여있어야 한다는 규칙을 세웠습니다.</p>
<p><strong>AS-IS (낮은 응집도)</strong></p>
<ul>
<li>queries.ts: 쿼리 키 관리</li>
<li>api.ts: API 함수 관리</li>
<li>hooks.ts: useQuery 훅 관리</li>
</ul>
<br/>
<p><strong>TO-BE(내가 정의한 높은 응집도)</strong></p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// src/features/user/models/queries.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">USER_QUERY_KEY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token function-variable function">users</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span>all<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// src/features/user/hooks/useUsersQuery.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">UserResponse</span> <span class="token punctuation">{</span>
</span><span class="code-line">  users<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  total<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  skip<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  limit<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">fetchUser</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> api<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users?limit=0&amp;select=username,image</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useUsersQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useSuspenseQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    queryKey<span class="token operator">:</span> <span class="token constant">USER_QUERY_KEY</span><span class="token punctuation">.</span><span class="token function">users</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">
</span></code><div class="copied" data-code="// src/features/user/models/queries.ts
export const USER_QUERY_KEY = {
  all: [&quot;users&quot;],
  users: () =&gt; [...USER_QUERY_KEY.all],
} as const

// src/features/user/hooks/useUsersQuery.ts

interface UserResponse {
  users: User[]
  total: number
  skip: number
  limit: number
}

const fetchUser = async () =&gt; {
  return api.get&lt;UserResponse&gt;(`/users?limit=0&amp;select=username,image`)
}

export function useUsersQuery() {
  return useSuspenseQuery({
    queryKey: USER_QUERY_KEY.users(),
    queryFn: () =&gt; fetchUser(),
  })
}


"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 구조는 재사용 없는 API 함수를 훅과 함께 배치함으로써 불필요한 파일 분리를 지양하고 특정 쿼리에 대한 컨텍스트를 한눈에 파악할 수 있게 해줍니다.</p>
<p>이번 과제를 통해 저는 &quot;응집도&quot;라는 저만의 기준이 생긴 것 같습니다.
&quot;어디에 둬야 하지?&quot; 보다는 &quot;어떻게 해야 관련 있는 것 끼리 뭉쳐놓지?&quot;  에 대한 기준으로 판단하고, 판단 근거들 또한 명확해졌습니다.
결국 좋은 구조란 외부의 규칙을 맹목적으로 따르는 것이 아니라, 일관된 철학을 바탕으로 스스로 질서를 만들어나가는 과정이라는 것을 배울 수 있었습니다.</p>
<br/>
<h2 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문</h2>
<p>Q1.</p>
<blockquote>
<p>여전히 컴포넌트 인터페이스를 설계하는 것이 가장 어렵습니다.
특히 여러 컴포넌트가 공유해야 하지만 전역 상태로 관리하기에는 범위가 작은 상태들을 다룰 때 많은 고민을 했습니다.
예를 들어, A 컴포넌트의 상태가 형제 컴포넌트인 B에도 영향을 줘야 할 때, 공통 부모로 상태를 끌어올리는(lifting state up) 것이 최선인지,
아니면 다른 방법이 있는지 계속 탐색하게 됩니다.
스스로의 명확한 기준 없이 &#x27;냅다 전역상태로 때려박는&#x27; 안티패턴을 피하면서, 어떻게 하면 상태의 범위를 적절하게 지역화하고 응집도를 높일 수 있을지가 저의 가장 큰 숙제입니다.</p>
</blockquote>
<p>이 부분에 대해 조언해주실 말씀이 있으실까요?
코치님은 이럴때 어떤 포인트에서 아하!를 경험 하셨는지, 코치님의 기준은 무엇인지 궁금합니다!</p>
<p>Q2. 코치님에게 글쓰기란?</p>
<p>Q3. 저의 디렉토리 구조 결정 방향성에 대한 코멘트 궁금합니다!!</p>
<p>Q4. 재사용성을 고려한 컴포넌트 설계 방향성이 적절했는지, 확장성을 잘 고려했는지 모르겠습니다!
코치님이 보셨을때 이 리팩토링의 인상은 어떤지 궁금합니다!</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">PostDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  type<span class="token punctuation">,</span>
</span><span class="code-line">  open<span class="token punctuation">,</span>
</span><span class="code-line">  onOpenChange<span class="token punctuation">,</span>
</span><span class="code-line">  post<span class="token punctuation">,</span>
</span><span class="code-line">  search<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  type<span class="token operator">:</span> <span class="token string">&quot;create&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;edit&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;view&quot;</span>
</span><span class="code-line">  open<span class="token operator">:</span> <span class="token builtin">boolean</span>
</span><span class="code-line">  <span class="token function-variable function">onOpenChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>open<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">void</span>
</span><span class="code-line">  post<span class="token operator">?</span><span class="token operator">:</span> <span class="token maybe-class-name">Post</span>
</span><span class="code-line">  search<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token operator">:</span> createPost <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCreatePostMutation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> mutate<span class="token operator">:</span> updatePost <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useUpdatePostMutation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleCreate</span> <span class="token operator">=</span> <span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token maybe-class-name">PostFormData</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">createPost</span><span class="token punctuation">(</span>formData<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        queryClient<span class="token punctuation">.</span><span class="token method function property-access">invalidateQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span><span class="token property-access">all</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token function">onOpenChange</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">handleEdit</span> <span class="token operator">=</span> <span class="token punctuation">(</span>formData<span class="token operator">:</span> <span class="token maybe-class-name">PostFormData</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>post<span class="token punctuation">)</span> <span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">updatePost</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> post<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> post<span class="token operator">:</span> formData <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">          queryClient<span class="token punctuation">.</span><span class="token method function property-access">invalidateQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token constant">POST_QUERY_KEY</span><span class="token punctuation">.</span><span class="token property-access">all</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">          <span class="token function">onOpenChange</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function-variable function">getTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;create&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token string">&quot;새 게시물 추가&quot;</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;edit&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token string">&quot;게시물 수정&quot;</span>
</span><span class="code-line">      <span class="token keyword">case</span> <span class="token string">&quot;view&quot;</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword">return</span> post<span class="token operator">?.</span>title <span class="token operator">||</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onOpenChange<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogContent</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;view&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;max-w-3xl&quot;</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;create&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostCreateForm</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleCreate<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;edit&quot;</span> <span class="token operator">&amp;&amp;</span> post <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostEditForm</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleEdit<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>type <span class="token operator">===</span> <span class="token string">&quot;view&quot;</span> <span class="token operator">&amp;&amp;</span> post <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostViewContent</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token attr-name">search</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogContent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Dialog</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function PostDialog({
  type,
  open,
  onOpenChange,
  post,
  search,
}: {
  type: &quot;create&quot; | &quot;edit&quot; | &quot;view&quot;
  open: boolean
  onOpenChange: (open: boolean) =&gt; void
  post?: Post
  search?: string
}) {
  const queryClient = useQueryClient()
  const { mutate: createPost } = useCreatePostMutation()
  const { mutate: updatePost } = useUpdatePostMutation()

  const handleCreate = (formData: PostFormData) =&gt; {
    createPost(formData, {
      onSuccess: () =&gt; {
        queryClient.invalidateQueries({ queryKey: POST_QUERY_KEY.all })
        onOpenChange(false)
      },
    })
  }

  const handleEdit = (formData: PostFormData) =&gt; {
    if (!post) return

    updatePost(
      { id: post.id, post: formData },
      {
        onSuccess: () =&gt; {
          queryClient.invalidateQueries({ queryKey: POST_QUERY_KEY.all })
          onOpenChange(false)
        },
      },
    )
  }

  const getTitle = () =&gt; {
    switch (type) {
      case &quot;create&quot;:
        return &quot;새 게시물 추가&quot;
      case &quot;edit&quot;:
        return &quot;게시물 수정&quot;
      case &quot;view&quot;:
        return post?.title || &quot;&quot;
    }
  }

  return (
    &lt;Dialog open={open} onOpenChange={onOpenChange}&gt;
      &lt;DialogContent className={type === &quot;view&quot; ? &quot;max-w-3xl&quot; : undefined}&gt;
        &lt;DialogHeader&gt;
          &lt;DialogTitle&gt;{getTitle()}&lt;/DialogTitle&gt;
        &lt;/DialogHeader&gt;

        {type === &quot;create&quot; &amp;&amp; &lt;PostCreateForm onSubmit={handleCreate} /&gt;}
        {type === &quot;edit&quot; &amp;&amp; post &amp;&amp; &lt;PostEditForm post={post} onSubmit={handleEdit} /&gt;}
        {type === &quot;view&quot; &amp;&amp; post &amp;&amp; &lt;PostViewContent post={post} search={search} /&gt;}
      &lt;/DialogContent&gt;
    &lt;/Dialog&gt;
  )
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>안녕하세요 지호님! 역시 믿고 보는 지호님의 과제네요 ㅎㅎ 너무 잘 해주셨어요!!!</p>
<blockquote>
<p>여전히 컴포넌트 인터페이스를 설계하는 것이 가장 어렵습니다. 특히 여러 컴포넌트가 공유해야 하지만 전역 상태로 관리하기에는 범위가 작은 상태들을 다룰 때 많은 고민을 했습니다. 예를 들어, A 컴포넌트의 상태가 형제 컴포넌트인 B에도 영향을 줘야 할 때, 공통 부모로 상태를 끌어올리는(lifting state up) 것이 최선인지, 아니면 다른 방법이 있는지 계속 탐색하게 됩니다.
스스로의 명확한 기준 없이 &#x27;냅다 전역상태로 때려박는&#x27; 안티패턴을 피하면서, 어떻게 하면 상태의 범위를 적절하게 지역화하고 응집도를 높일 수 있을지가 저의 가장 큰 숙제입니다. 이 부분에 대해 조언해주실 말씀이 있으실까요? 코치님은 이럴때 어떤 포인트에서 아하!를 경험 하셨는지, 코치님의 기준은 무엇인지 궁금합니다!</p>
</blockquote>
<p>말씀해주신 내용이 도메인 상태와 관련이 있다면 전역상태로 만들어서 관리할 것 같아요! 그게 아니라 UI 상태와 관련 있다면 Context를 만들어서 관리하면 좋지 않을까!? 라는 생각이 들어요!</p>
<p>컴포넌트를 재활용해야 하는 상황이 아니라면 대체로 Context를 통해 묶어주는게 좋다고 생각해요.</p>
<p>혹은 useImperativeHandle 을 통해 ref로 연결하는 방법도 있을 것 같아요!
이건 멘토링 때 이야기를 나눠봐도 좋을 것 같네요..!</p>
<blockquote>
<p>코치님에게 글쓰기란?</p>
</blockquote>
<p>저의 생각을 정리하는 시간이라고 생각해요 ㅎㅎ 뜬금없지만,
군대에 있을 때 매일매일 일기를 썼었는데 일기를 쓰는 시간이 하루 중 제일 소중했었던 것 같아요.
그 시간이 소중했던 이유가 뭘까 고민을 해보자면...
그냥 생각이 되게 많았고 이걸 어딘가에 배설(?) 하고 싶었어요. 일기에 배설을 한거죠 ㅋㅋ</p>
<p>지금도 마찬가지인데요, 생각이 많아질 때 이걸 결국 일기나 블로그에 쓰면서 생각을 정리하는 방식으로 활용하고 있답니다!</p>
<blockquote>
<p>&quot;어디에 둬야 하지?&quot; 보다는 &quot;어떻게 해야 관련 있는 것 끼리 뭉쳐놓지?&quot; 에 대한 기준으로 판단하고, 판단 근거들 또한 명확해졌습니다. 결국 좋은 구조란 외부의 규칙을 맹목적으로 따르는 것이 아니라, 일관된 철학을 바탕으로 스스로 질서를 만들어나가는 과정이라는 것을 배울 수 있었습니다. 저의 디렉토리 구조 결정 방향성에 대한 코멘트 궁금합니다!!</p>
</blockquote>
<p>결정의 과정을 잘 드러내주셔서 다 납득했답니다! 여기에 저의 생각을 한스푼 더 얹어보자면...</p>
<pre><code class="code-highlight"><span class="code-line">packages/domain
</span><span class="code-line">   posts
</span><span class="code-line">     /entities
</span><span class="code-line">     /feautres
</span><span class="code-line">     /shared
</span></code><div class="copied" data-code="packages/domain
   posts
     /entities
     /feautres
     /shared
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>저희 팀의 경우 이렇게 별도의 패키지로 분리한 다음에 도메인과 관련된 것들으 한 번에 묶어서 표현하는 방식으로 사용하고 있답니다 ㅎㅎ 이렇게 하면 더 응집도를 높이는 방식으로 관리할 수 있어요!</p>
<p>다만... ui는 전부다 제외하고 로직만 관리해요 ㅋㅋ</p>
<blockquote>
<p>재사용성을 고려한 컴포넌트 설계 방향성이 적절했는지, 확장성을 잘 고려했는지 모르겠습니다! 코치님이 보셨을때 이 리팩토링의 인상은 어떤지 궁금합니다!</p>
</blockquote>
<p>흠 재사용성만 놓고 보면, 컴포넌트가 tanstack-query를 직접적으로 의존하고 있다보니 어떻게 재사용을 할 수 있을까? 에 대한 고민이 들었어요.</p>
<p>이렇게 children을 적극적으로 활용해주면 어떨까 싶어요!</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">PostDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  className<span class="token punctuation">,</span>
</span><span class="code-line">  open<span class="token punctuation">,</span>
</span><span class="code-line">  title<span class="token punctuation">,</span>
</span><span class="code-line">  children<span class="token punctuation">,</span>
</span><span class="code-line">  onOpenChange<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dialog</span></span> <span class="token attr-name">open</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>open<span class="token punctuation">}</span></span> <span class="token attr-name">onOpenChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onOpenChange<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogContent</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogTitle</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogHeader</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DialogContent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Dialog</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function PostDialog({
  className,
  open,
  title,
  children,
  onOpenChange,
}) {
  return (
    &lt;Dialog open={open} onOpenChange={onOpenChange}&gt;
      &lt;DialogContent className={className}&gt;
        &lt;DialogHeader&gt;
          &lt;DialogTitle&gt;{title}&lt;/DialogTitle&gt;
        &lt;/DialogHeader&gt;

        {children}
      &lt;/DialogContent&gt;
    &lt;/Dialog&gt;
  )
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>그리고 PostDialog 하위에 각각의 컴포넌트를 표현하는 방식으로 만들면 좋을 것 같아요 ㅎㅎ</p>
<p>더 정확히 표현하자면.. &quot;UI와 Logic을 완전히 분리하는 것&quot; 이라고 봐주시면 좋겠습니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
