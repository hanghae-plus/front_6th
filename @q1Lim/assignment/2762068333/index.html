<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-S6z1r9QJ.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@q1Lim/" data-discover="true">q1Lim<!-- --> 님의 상세페이지</a> ＞ <!-- -->[9팀 임규원] Chapter 3-1. 프론트엔드 테스트 코드</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter3-1/pull/51" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[9팀 임규원] Chapter 3-1. 프론트엔드 테스트 코드</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->q1Lim</span><span>2025. 8. 21.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h1 id="medium"><a class="anchor" aria-hidden="true" tabindex="-1" href="#medium"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Medium</h1>
<h2 id="7주차-과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#7주차-과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>7주차 과제 체크포인트</h2>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<h4 id="medium-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#medium-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Medium</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 총 11개의 파일, 115개의 단위 테스트를 무사히 작성하고 통과시킨다.</li>
</ul>
<h4 id="질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>질문</h4>
<blockquote>
<p>Q. medium.useEventOperations.spec.tsx &gt; 아래 toastFn과 mock과 이 fn은 무엇을 해줄까요?</p>
</blockquote>
<ul>
<li>enqueueSnackbarFn : 가짜 함수 (spy)로 실제로 토스트를 띄우는 대신, 어떤 메시지로 몇 번 호출되었는지 기록만 합니다.</li>
<li>vi.mock(&#x27;notistack&#x27;...): useSnackBar()를 바꿔치기 해서 내부의 enqueueSnackbar가 toastFn을 가리키게 만듭니다.</li>
</ul>
<pre><code class="code-highlight"><span class="code-line">// &quot;호출되었는지, 어떤 인자로 호출되었는지&quot;를 추적할 수 있는 mock 함수
</span><span class="code-line">const enqueueSnackbarFn = vi.fn();
</span><span class="code-line">
</span><span class="code-line">// notistack 모듈을 통으로 mock하겠다
</span><span class="code-line">vi.mock(&#x27;notistack&#x27;, async () =&gt; {
</span><span class="code-line">  // 실제 모듈(notistack)의 구현을 불러오자
</span><span class="code-line">  const actual = await vi.importActual(&#x27;notistack&#x27;);
</span><span class="code-line">
</span><span class="code-line">  return {
</span><span class="code-line">    // 실제 모듈의 export를 그대로 펼쳐 넣고, 
</span><span class="code-line">    ...actual,
</span><span class="code-line">    useSnackbar: () =&gt; ({
</span><span class="code-line">      // useSnackbar 훅만 mock해서 호출을 추적할 수 있게함 - useSnackbar 훅만 덮어쓰기
</span><span class="code-line">      enqueueSnackbar: enqueueSnackbarFn,
</span><span class="code-line">    }),
</span><span class="code-line">  };
</span><span class="code-line">});
</span></code><div class="copied" data-code="// &quot;호출되었는지, 어떤 인자로 호출되었는지&quot;를 추적할 수 있는 mock 함수
const enqueueSnackbarFn = vi.fn();

// notistack 모듈을 통으로 mock하겠다
vi.mock(&#x27;notistack&#x27;, async () =&gt; {
  // 실제 모듈(notistack)의 구현을 불러오자
  const actual = await vi.importActual(&#x27;notistack&#x27;);

  return {
    // 실제 모듈의 export를 그대로 펼쳐 넣고, 
    ...actual,
    useSnackbar: () =&gt; ({
      // useSnackbar 훅만 mock해서 호출을 추적할 수 있게함 - useSnackbar 훅만 덮어쓰기
      enqueueSnackbar: enqueueSnackbarFn,
    }),
  };
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<blockquote>
<p>Q. medium.integration.spec.tsx &gt; 여기서 Provider로 묶어주는 동작은 의미있을까요? 있다면 어떤 의미일까요?</p>
</blockquote>
<p>setup()에서 ThemeProvider, CssBaseline, SnackbarProvider로 감싸는 이유는 테스트에서도 운영 환경과 동일한 컨텍스트/스타일/DOM의 변화 등 을 재현하기 위해서입니다.
특히 통합 테스트에서는 컴포넌트가 테마 토큰(useTheme, useMediaQuery, sx), 전역 스타일(CssBaseline), 토스트 컨텍스트(useSnackbar)에 실제로 의존하므로, 프로덕션과 동일한 조건에서 동작을 검증하는 게 중요합니다.</p>
<p>운영과 동일한 css, 컨텍스트를 제공하기 위함이라면 모든 테스트 파일에 들어가면 좋지 않을까? 라는 생각이 스쳐지나갔는데..
꼭 그렇지 않다고 보는 게 맞을 것 같습니다. 순수 함수나 작은 단위의 컴포넌트는 DOM이나 테마와 같은 컨텍스에 의존하지 않기 때문에 유닛 테스트와 같은 파일에서는 필요하지 않다고 생각이 들었습니다.</p>
<blockquote>
<p>Q. handlersUtils &gt; 아래 여러가지 use 함수는 어떤 역할을 할까요? 어떻게 사용될 수 있을까요?</p>
</blockquote>
<ul>
<li>server.use : MSW 의 Node 테스트 서버에 요청 핸들러를 런타임에 추가/덮어쓸 수 있는 함수입니다. Node.js 런타임(=프로세스)가 살아있는 동안 서버 인스턴스에 계속 남아있어서 테스트 프로세스가 종료될까지 유지할 수 있습니다.</li>
</ul>
<p>medium모드라 작성해주신 setup 함수를 살펴보면,  총 3가지로</p>
<ul>
<li>setupMockHandlerCreation</li>
<li>setupMockHandlerUpdating</li>
<li>setupMockHandlerDeletion</li>
</ul>
<p>CUD에 필요한 목업데이터 생성 -&gt; server.use를 통해 핸들러를 등록/대체 -&gt; 성공/실패/에러 응답에 대한 시뮬레이션에 사용 가능하게 작성해주셨습니다 ㅎㅎ</p>
<p>프로세스가 종료될 수 있을 때까지 덮어쓴 채로 유지되기 때문에 setupTest.ts에 server.resetHandlers()를 afterEach에서 호출해서 다음 테스트로 넘어갈 때 적용되지 않도록 반영해야합니다.</p>
<p>코치님이 설정해주신 setupTest.ts 파일 부분</p>
<pre><code class="code-highlight"><span class="code-line">afterEach(() =&gt; {
</span><span class="code-line">  // 각 테스트 후 핸들러 리셋시키기
</span><span class="code-line">  server.resetHandlers();
</span><span class="code-line">  vi.clearAllMocks();
</span><span class="code-line">});
</span></code><div class="copied" data-code="afterEach(() =&gt; {
  // 각 테스트 후 핸들러 리셋시키기
  server.resetHandlers();
  vi.clearAllMocks();
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<blockquote>
<p>Q. setupTests.ts vi.setSystemTime(new Date(&#x27;2025-10-01&#x27;)) &gt; 왜 이 시간을 설정해주는 걸까요?</p>
</blockquote>
<p>테스트의 오늘(now!)를 고정해 날짜/시간에 의존하는 로직을 &#x27;어디에서 혹은 누가&#x27; 돌려도 동일하게 재현하기 위해서라고 생각합니다.
사실 이건 테스트 작성하다가 놓쳤던..! 부분입니다.  Event 객체를 만들어주는 함수를 만들면서 날짜를 8월에 맞게 진행했었는데 new Date()를 사용하다보면 2025-10-01로 고정이 되어있어서 설정을 찾다가 이걸 발견했습니다. (ㅎㅎ)</p>
<blockquote>
<p>Q. setupTests.ts - expect.hasAssertions() &gt; 설정하는 이유 ?</p>
</blockquote>
<p>이 메서드에 대해 찾아보니, &#x27;이 테스트 안에서는 최소 1개의 expect가 반드시 호출되어야한다&#x27;를 보장하는 메서드였습니다.
비동기/타이머/이벤트 기반 검증에서 단언이 &quot;실행되지 않고 지나가는&quot; 실수를 자동으로 적발해 주는 안전 장치용으로 사용하는 메서드라고 생각합니다.</p>
<h3 id="심화-과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화-과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화 과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> App 컴포넌트 적절한 단위의 컴포넌트, 훅, 유틸 함수로 분리했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 해당 모듈들에 대한 적절한 테스트를 5개 이상 작성했는가?</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<p>팀원들이 작성한 테스트코드는 자주 접해봤는데 실제로 작성해보는 건 처음이었습니다. (모든게 처음이라니..TT) 우선 easy 파일을 작성해서 문법과 api를 익혔습니다. 이후에는 이 라이브러리는 어떤 구조로 돌아가는 가를 제일 먼저 이해하고, 테스트 환경을 구성하는 것에 대해 어떤 설정이 필요한지 중점적으로 학습하고자 코치님이 작성해주신 파일들을 위주로 본 것 같아요!
테스트 코드를 작성하면서 제일 헤매고 시간이 많이 소요되었던 부분은 통합테스트였습니다. 실제 테마/CSS 컨텍스트가 반영된 DOM 값을 어떤 쿼리로 접근할지에 대한 고민을 많이 했던 것 같습니다. 막힐 때는 AI 도움과 팀원분들 PR을 참고해, 시나리오에 맞는 API를 선택하며 작업했습니다.</p>
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<blockquote>
<p>act vs await</p>
</blockquote>
<ul>
<li>await : 비동기 작업이 끝날때까지 기다리기 (eg. Promise)</li>
<li>act : React 상태 업데이트가 일으키는 렌더/이펙트가 모두 반영될 때까지 테스트를 트랜잭션처럼 감싸기
-&gt; hook의 유닛테스트 중 리액트의 상태나 이펙트, 렌더와 관련된 테스트는 act를 사용했고 서버 호출과 관련된 hook 혹은 통합 테스트에서는 await를 위주로 사용했습니다.</li>
</ul>
<blockquote>
<p>getByText vs queryByText</p>
</blockquote>
<ul>
<li>getByText : 존재가 확실히 기대할 때 사용, 없으면 바로 에러 throw -&gt; 테스트가 즉시 실패한다</li>
<li>queryByText : 없으면 null 반환, 여러개 매칭되면 에러 throw
-&gt; 무조건 값이 있어야한다를 사용할때는 getBy를 사용했고, 값이 없어야한다를 사용할때는 queryByText를 썼습니다.</li>
</ul>
<h3 id="코드-품질"><a class="anchor" aria-hidden="true" tabindex="-1" href="#코드-품질"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>코드 품질</h3>
<!-- -->
<p><strong>트러블슈팅</strong>
통합테스트에서 1초를 지날 경우 알람이 발생하는 것을 검증하는 알림 테스트를 작성중 , 다음과 같은 에러를 만났습니다.</p>
<pre><code class="code-highlight"><span class="code-line">Error: &quot;setSystemTime&quot; was called already and date was mocked. Reset timers using `vi.useRealTimers()` if you want to use fake timers again.
</span><span class="code-line">    at FakeTimers.useFakeTimers (file:///Users/gyuwonlim/Desktop/project/hhPlusFE6/front_6th_chapter3-1/node_modules/.pnpm/vitest@3.2.4_@types+node@22.8.1_@vitest+ui@3.2.4_jsdom@26.1.0_msw@2.10.3_@types+node@22.8.1_typescript@5.6.3_/node_modules/vitest/dist/chunks/vi.bdSIJ99Y.js:3653:31)
</span></code><div class="copied" data-code="Error: &quot;setSystemTime&quot; was called already and date was mocked. Reset timers using `vi.useRealTimers()` if you want to use fake timers again.
    at FakeTimers.useFakeTimers (file:///Users/gyuwonlim/Desktop/project/hhPlusFE6/front_6th_chapter3-1/node_modules/.pnpm/vitest@3.2.4_@types+node@22.8.1_@vitest+ui@3.2.4_jsdom@26.1.0_msw@2.10.3_@types+node@22.8.1_typescript@5.6.3_/node_modules/vitest/dist/chunks/vi.bdSIJ99Y.js:3653:31)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>medium.integration.spec.tsx</li>
</ul>
<pre><code class="code-highlight"><span class="code-line">...
</span><span class="code-line">beforeEach(() =&gt; {
</span><span class="code-line">  vi.useFakeTimers({ shouldAdvanceTime: true });
</span><span class="code-line">});
</span></code><div class="copied" data-code="...
beforeEach(() =&gt; {
  vi.useFakeTimers({ shouldAdvanceTime: true });
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이미 setupTest.ts에서 전역으로 userFakeTimers를 사용하고 있는 상태인데, 또 FakeTimers는 사용하려고 보니 충돌이 발생하여 문제가 되었습니다. AI찬스로 advanceTimersByTime를 알게되어 적용했습니다.</p>
<pre><code class="code-highlight"><span class="code-line">  act(() =&gt; {
</span><span class="code-line">    // 가짜 타이머를 1초만큼 이동시키고, 그로 인해 발생하는 React의 상태업데이트/이펙트를 act를 통해 반영
</span><span class="code-line">    vi.advanceTimersByTime(1000);
</span><span class="code-line">  });
</span></code><div class="copied" data-code="  act(() =&gt; {
    // 가짜 타이머를 1초만큼 이동시키고, 그로 인해 발생하는 React의 상태업데이트/이펙트를 act를 통해 반영
    vi.advanceTimersByTime(1000);
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h3>
<!-- -->
<p><strong>(제가 작성한 테스트 코드 중)</strong> 모호하거나 애매했던 부분</p>
<p><strong>useEventForm의 테스트의 효과성</strong>
useEventForm에 대한 테스트를 심화 과제로 추가한 이유는, 폼 훅 자체의 입력/설정 흐름도 검증할 필요가 있다고 봤기 때문이었습니다. 다만 작성 과정에서 useEventOperations(네트워크/서버 호출)와 timeValidation(순수 검증)에서 이미 다루는 내용과 겹치는 지점이 많아 “중복 테스트 코드이지 않을까?”라는 의문이 생겼습니다. 제 자신 스스로 내린 결론은 useEventForm 테스트는 범위를 폼 훅 고유 책임으로 한정의 의미로 추가하자! 라는 생각으로 테스트 항목을 추가했습니다.</p>
<p><strong>목업데이터 관리</strong>
easy파일을 작성하면서 sampleEvents 배열을 하나하나씩 작성해서 사용했는데, 사용하다가 관리가 되지 않아 createEventMock 함수를 임의로 생성해서 활용했습니다. 다만 임시로 만들다보니, 이 함수를 통해 만들 수도 있지만 id나 중복 데이터에 대한 관리가 제대로 되지 않을 것 같다는 생각이 들었습니다. 실제 업무에서도 임시 데이터를 하나만 두고 활용해서 썼었는데, 평소에 실무에서 목업데이터나 테스트에 사용하는 관련 데이터들을 어떻게 관리하시는지 궁금합니다.</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>헉 규원님도 회고문서의 내용이 없네요 ㅜㅜ
사실 체크박스가 중요하긴 한데 코드를 살펴보니 코드를 대부분 작성한 것으로 보입니다.
그래서 일단 합격으로 드릴게요.
다음엔 회고문서도 꼭 작성하시면 좋을 것 같아요.
역랑을 궁극적으로 발전시키는데에는 동작하는 코드도 중요하지만 코드에대한 생각 정리와 과정에 대한 복기인 것 같습니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
