<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-C4Bu9EX4.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-CMNvSY1J.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@jeongmingi123/" data-discover="true">jeongmingi123<!-- --> 님의 상세페이지</a> ＞ <!-- -->[2팀 정민기] Chapter 2-1. 클린코드와 리팩토링 </h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-1/pull/8" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[2팀 정민기] Chapter 2-1. 클린코드와 리팩토링 </h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->jeongmingi123</span><span>2025. 7. 27.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<p>배포 URL : <a href="https://jeongmingi123.github.io/front_6th_chapter2-1/">https://jeongmingi123.github.io/front_6th_chapter2-1/</a></p>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드가 Prettier를 통해 일관된 포맷팅이 적용되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 적절한 줄바꿈과 주석을 사용하여 코드의 논리적 단위를 명확히 구분했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변수명과 함수명이 그 역할을 명확히 나타내며, 일관된 네이밍 규칙을 따르는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 매직 넘버와 문자열을 의미 있는 상수로 추출했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 중복 코드를 제거하고 재사용 가능한 형태로 리팩토링했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 함수가 단일 책임 원칙을 따르며, 한 가지 작업만 수행하는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 조건문과 반복문이 간결하고 명확한가? 복잡한 조건을 함수로 추출했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 코드의 배치가 의존성과 실행 흐름에 따라 논리적으로 구성되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 연관된 코드를 의미 있는 함수나 모듈로 그룹화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> ES6+ 문법을 활용하여 코드를 더 간결하고 명확하게 작성했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 전역 상태와 부수 효과(side effects)를 최소화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 에러 처리와 예외 상황을 명확히 고려하고 처리했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드 자체가 자기 문서화되어 있어, 주석 없이도 의도를 파악할 수 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 비즈니스 로직과 UI 로직이 적절히 분리되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 코드의 각 부분이 테스트 가능하도록 구조화되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled=""/> 성능 개선을 위해 불필요한 연산이나 렌더링을 제거했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로운 기능 추가나 변경이 기존 코드에 미치는 영향을 최소화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드 리뷰를 통해 다른 개발자들의 피드백을 반영하고 개선했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> (핵심!) 리팩토링 시 기존 기능을 그대로 유지하면서 점진적으로 개선했는가?</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 가독성이 높고 이해하기 쉬운가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 기능을 수정하거나 확장하기에 용이한가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 테스트를 하기에 더 용이한가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 모든 기능은 그대로 유지했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> (핵심!) 변경한 구조와 코드를 새로운 한번에 새로만들지 않고 점진적으로 개선했는가?</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<p>단일 책임과 관련된 함수를 어떻게 넣어야할지 고민이 많았습니다. 또한 깃 커밋을 어떻게 작성해야할지도 고민이 많았고, 폴더를 어떻게 나눌까에 대한 고민을 많이 신경써서 작성했습니다.</p>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<p>시간이 조금 부족하여 함수를 잘개 단일 책임에 따라 쪼개지 못한 부분이 너무 아쉽습니다. 시간이 좀 더 있었으면 아쉬움이 있습니다.</p>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<!-- --> 
<p>service 폴더 관련하여 궁금한 부분이있습니다. 제가 요번에 보너스 계산 점수를 service 폴더에 넣었는데요.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">PRODUCT_IDS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../data/products&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> CartItem<span class="token punctuation">,</span> Product <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">BonusResult</span> <span class="token punctuation">{</span>
</span><span class="code-line">  bonus<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  detail<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">SetBonusResult</span> <span class="token punctuation">{</span>
</span><span class="code-line">  bonus<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  details<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">PointsResult</span> <span class="token punctuation">{</span>
</span><span class="code-line">  totalPoints<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  details<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 기본 포인트 계산 (구매액의 0.1%)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateBasePoints</span><span class="token punctuation">(</span>totalAmount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>totalAmount <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 화요일 포인트 배수 적용</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">applyTuesdayBonus</span><span class="token punctuation">(</span>basePoints<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> isTuesday <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> isTuesday <span class="token operator">?</span> basePoints <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">:</span> basePoints<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 특정 제품이 장바구니에 있는지 확인</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productList<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> cartItems<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> product <span class="token operator">=</span> productList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">===</span> item<span class="token punctuation">.</span>productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> product <span class="token operator">&amp;&amp;</span> product<span class="token punctuation">.</span>id <span class="token operator">===</span> productId<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 키보드+마우스 세트 보너스 계산</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">calculateKeyboardMouseBonus</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productList<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> BonusResult <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasKeyboard <span class="token operator">=</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">,</span> <span class="token constant">PRODUCT_IDS</span><span class="token punctuation">.</span><span class="token constant">KEYBOARD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasMouse <span class="token operator">=</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">,</span> <span class="token constant">PRODUCT_IDS</span><span class="token punctuation">.</span><span class="token constant">MOUSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>hasKeyboard <span class="token operator">&amp;&amp;</span> hasMouse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> detail<span class="token operator">:</span> <span class="token string">&#x27;키보드+마우스 세트 +50p&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> detail<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 풀세트 보너스 계산 (키보드+마우스+모니터암)</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">calculateFullSetBonus</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productList<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> BonusResult <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasKeyboard <span class="token operator">=</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">,</span> <span class="token constant">PRODUCT_IDS</span><span class="token punctuation">.</span><span class="token constant">KEYBOARD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasMouse <span class="token operator">=</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">,</span> <span class="token constant">PRODUCT_IDS</span><span class="token punctuation">.</span><span class="token constant">MOUSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasMonitorArm <span class="token operator">=</span> <span class="token function">hasProductInCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">,</span> <span class="token constant">PRODUCT_IDS</span><span class="token punctuation">.</span><span class="token constant">MONITOR_ARM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>hasKeyboard <span class="token operator">&amp;&amp;</span> hasMouse <span class="token operator">&amp;&amp;</span> hasMonitorArm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> detail<span class="token operator">:</span> <span class="token string">&#x27;풀세트 구매 +100p&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> detail<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 세트 구매 보너스 포인트 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateSetBonus</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productList<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> SetBonusResult <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> bonus <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> details<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 키보드+마우스 세트 보너스</span>
</span><span class="code-line">  <span class="token keyword">const</span> keyboardMouseBonus <span class="token operator">=</span> <span class="token function">calculateKeyboardMouseBonus</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  bonus <span class="token operator">+=</span> keyboardMouseBonus<span class="token punctuation">.</span>bonus<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>keyboardMouseBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>keyboardMouseBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 풀세트 보너스</span>
</span><span class="code-line">  <span class="token keyword">const</span> fullSetBonus <span class="token operator">=</span> <span class="token function">calculateFullSetBonus</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  bonus <span class="token operator">+=</span> fullSetBonus<span class="token punctuation">.</span>bonus<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>fullSetBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fullSetBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token punctuation">,</span> details <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 대량구매 보너스 포인트 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateQuantityBonus</span><span class="token punctuation">(</span>totalQuantity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> BonusResult <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> bonus <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> detail <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">case</span> totalQuantity <span class="token operator">&gt;=</span> <span class="token number">30</span><span class="token operator">:</span>
</span><span class="code-line">      bonus <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</span><span class="code-line">      detail <span class="token operator">=</span> <span class="token string">&#x27;대량구매(30개+) +100p&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">case</span> totalQuantity <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token operator">:</span>
</span><span class="code-line">      bonus <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</span><span class="code-line">      detail <span class="token operator">=</span> <span class="token string">&#x27;대량구매(20개+) +50p&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">case</span> totalQuantity <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token operator">:</span>
</span><span class="code-line">      bonus <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</span><span class="code-line">      detail <span class="token operator">=</span> <span class="token string">&#x27;대량구매(10개+) +20p&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">break</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">default</span><span class="token operator">:</span>
</span><span class="code-line">      bonus <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">      detail <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> bonus<span class="token punctuation">,</span> detail <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 총 포인트 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateTotalPoints</span><span class="token punctuation">(</span>totalAmount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> productList<span class="token operator">:</span> Product<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> PointsResult <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> basePoints <span class="token operator">=</span> <span class="token function">calculateBasePoints</span><span class="token punctuation">(</span>totalAmount<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> finalPoints <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> details<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 기본 포인트</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>basePoints <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    finalPoints <span class="token operator">=</span> basePoints<span class="token punctuation">;</span>
</span><span class="code-line">    details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">기본: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>basePoints<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">p</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 화요일 보너스</span>
</span><span class="code-line">  <span class="token keyword">const</span> tuesdayPoints <span class="token operator">=</span> <span class="token function">applyTuesdayBonus</span><span class="token punctuation">(</span>basePoints<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>tuesdayPoints <span class="token operator">!==</span> basePoints<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    finalPoints <span class="token operator">=</span> tuesdayPoints<span class="token punctuation">;</span>
</span><span class="code-line">    details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#x27;화요일 2배&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 세트 보너스</span>
</span><span class="code-line">  <span class="token keyword">const</span> setBonus <span class="token operator">=</span> <span class="token function">calculateSetBonus</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> productList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  finalPoints <span class="token operator">+=</span> setBonus<span class="token punctuation">.</span>bonus<span class="token punctuation">;</span>
</span><span class="code-line">  details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>setBonus<span class="token punctuation">.</span>details<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 대량구매 보너스</span>
</span><span class="code-line">  <span class="token keyword">const</span> totalQuantity <span class="token operator">=</span> cartItems<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> quantityBonus <span class="token operator">=</span> <span class="token function">calculateQuantityBonus</span><span class="token punctuation">(</span>totalQuantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  finalPoints <span class="token operator">+=</span> quantityBonus<span class="token punctuation">.</span>bonus<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>quantityBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    details<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>quantityBonus<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    totalPoints<span class="token operator">:</span> finalPoints<span class="token punctuation">,</span>
</span><span class="code-line">    details<span class="token operator">:</span> details<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="import { PRODUCT_IDS } from &#x27;../data/products&#x27;;
import { CartItem, Product } from &#x27;../types&#x27;;

interface BonusResult {
  bonus: number;
  detail: string;
}

interface SetBonusResult {
  bonus: number;
  details: string[];
}

interface PointsResult {
  totalPoints: number;
  details: string[];
}

// 기본 포인트 계산 (구매액의 0.1%)
export function calculateBasePoints(totalAmount: number): number {
  return Math.floor(totalAmount / 1000);
}

// 화요일 포인트 배수 적용
export function applyTuesdayBonus(basePoints: number): number {
  const today = new Date();
  const isTuesday = today.getDay() === 2;
  return isTuesday ? basePoints * 2 : basePoints;
}

// 특정 제품이 장바구니에 있는지 확인
function hasProductInCart(cartItems: CartItem[], productList: Product[], productId: string): boolean {
  return cartItems.some((item) =&gt; {
    const product = productList.find((p) =&gt; p.id === item.productId);
    return product &amp;&amp; product.id === productId;
  });
}

// 키보드+마우스 세트 보너스 계산
function calculateKeyboardMouseBonus(cartItems: CartItem[], productList: Product[]): BonusResult {
  const hasKeyboard = hasProductInCart(cartItems, productList, PRODUCT_IDS.KEYBOARD);
  const hasMouse = hasProductInCart(cartItems, productList, PRODUCT_IDS.MOUSE);

  if (hasKeyboard &amp;&amp; hasMouse) {
    return { bonus: 50, detail: &#x27;키보드+마우스 세트 +50p&#x27; };
  }

  return { bonus: 0, detail: &#x27;&#x27; };
}

// 풀세트 보너스 계산 (키보드+마우스+모니터암)
function calculateFullSetBonus(cartItems: CartItem[], productList: Product[]): BonusResult {
  const hasKeyboard = hasProductInCart(cartItems, productList, PRODUCT_IDS.KEYBOARD);
  const hasMouse = hasProductInCart(cartItems, productList, PRODUCT_IDS.MOUSE);
  const hasMonitorArm = hasProductInCart(cartItems, productList, PRODUCT_IDS.MONITOR_ARM);

  if (hasKeyboard &amp;&amp; hasMouse &amp;&amp; hasMonitorArm) {
    return { bonus: 100, detail: &#x27;풀세트 구매 +100p&#x27; };
  }

  return { bonus: 0, detail: &#x27;&#x27; };
}

// 세트 구매 보너스 포인트 계산
export function calculateSetBonus(cartItems: CartItem[], productList: Product[]): SetBonusResult {
  let bonus = 0;
  const details: string[] = [];

  // 키보드+마우스 세트 보너스
  const keyboardMouseBonus = calculateKeyboardMouseBonus(cartItems, productList);
  bonus += keyboardMouseBonus.bonus;
  if (keyboardMouseBonus.detail) {
    details.push(keyboardMouseBonus.detail);
  }

  // 풀세트 보너스
  const fullSetBonus = calculateFullSetBonus(cartItems, productList);
  bonus += fullSetBonus.bonus;
  if (fullSetBonus.detail) {
    details.push(fullSetBonus.detail);
  }

  return { bonus, details };
}

// 대량구매 보너스 포인트 계산
export function calculateQuantityBonus(totalQuantity: number): BonusResult {
  let bonus = 0;
  let detail = &#x27;&#x27;;

  switch (true) {
    case totalQuantity &gt;= 30:
      bonus = 100;
      detail = &#x27;대량구매(30개+) +100p&#x27;;
      break;
    case totalQuantity &gt;= 20:
      bonus = 50;
      detail = &#x27;대량구매(20개+) +50p&#x27;;
      break;
    case totalQuantity &gt;= 10:
      bonus = 20;
      detail = &#x27;대량구매(10개+) +20p&#x27;;
      break;
    default:
      bonus = 0;
      detail = &#x27;&#x27;;
  }

  return { bonus, detail };
}

// 총 포인트 계산
export function calculateTotalPoints(totalAmount: number, cartItems: CartItem[], productList: Product[]): PointsResult {
  let basePoints = calculateBasePoints(totalAmount);
  let finalPoints = 0;
  const details: string[] = [];

  // 기본 포인트
  if (basePoints &gt; 0) {
    finalPoints = basePoints;
    details.push(`기본: ${basePoints}p`);
  }

  // 화요일 보너스
  const tuesdayPoints = applyTuesdayBonus(basePoints);
  if (tuesdayPoints !== basePoints) {
    finalPoints = tuesdayPoints;
    details.push(&#x27;화요일 2배&#x27;);
  }

  // 세트 보너스
  const setBonus = calculateSetBonus(cartItems, productList);
  finalPoints += setBonus.bonus;
  details.push(...setBonus.details);

  // 대량구매 보너스
  const totalQuantity = cartItems.reduce((sum, item) =&gt; sum + item.quantity, 0);

  const quantityBonus = calculateQuantityBonus(totalQuantity);
  finalPoints += quantityBonus.bonus;
  if (quantityBonus.detail) {
    details.push(quantityBonus.detail);
  }

  return {
    totalPoints: finalPoints,
    details: details,
  };
}

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>위의 코드를 작성하면서, 관심사의 분리 관련하여 궁금한 부분이 생겼습니다. service 라는 폴더는 옛날에 제가 작성했을 떄 api를 사용할 때 주로 fetch와 같은 함수를 작성할 때 사용했습니다. 근데 리팩토링 진행하면서 service 폴더는 도메인과 관련된 로직을 넣어야 된다고하여 위의 보너스 계산 관련된 로직을 위의 service 폴더에 넣었는데요. service라는 폴더는 도메인 관련된 함수를 넣는게 맞을지 궁금합니다.</p>
<p>그리고 한가지 더 여쭤보고 싶은게있습니다. util 관련된 함수들인데요.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Product <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">/**
</span></span><span class="code-line"><span class="token comment"> * 상품의 표시 이름을 생성합니다.
</span></span><span class="code-line"><span class="token comment"> * 번개세일, 추천세일 등의 정보를 포함하여 반환합니다.
</span></span><span class="code-line"><span class="token comment"> *
</span></span><span class="code-line"><span class="token comment"> * @param product - 상품 정보
</span></span><span class="code-line"><span class="token comment"> * @returns 표시용 상품명
</span></span><span class="code-line"><span class="token comment"> */</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> formatProductName <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> displayName <span class="token operator">=</span> product<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>lightningSale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    displayName <span class="token operator">+=</span> <span class="token string">&#x27; ⚡번개세일!&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>suggestSale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    displayName <span class="token operator">+=</span> <span class="token string">&#x27; 💝추천세일!&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> displayName<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">/**
</span></span><span class="code-line"><span class="token comment"> * 상품의 가격을 표시용 텍스트로 변환합니다.
</span></span><span class="code-line"><span class="token comment"> * 번개세일인 경우 원가와 할인가를 함께 표시하고,
</span></span><span class="code-line"><span class="token comment"> * 일반 상품인 경우 현재 가격만 표시합니다.
</span></span><span class="code-line"><span class="token comment"> *
</span></span><span class="code-line"><span class="token comment"> * @param product - 상품 정보
</span></span><span class="code-line"><span class="token comment"> * @returns 가격 표시용 텍스트 (예: &quot;15,000원 → 12,000원&quot; 또는 &quot;12,000원&quot;)
</span></span><span class="code-line"><span class="token comment"> */</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> displayProductPriceText <span class="token operator">=</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 번개세일이고 원가가 있는 경우: 원가 → 할인가 형식으로 표시</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>lightningSale <span class="token operator">&amp;&amp;</span> product<span class="token punctuation">.</span>originalPrice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>originalPrice<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">원 → </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">원</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token comment">// 일반 상품 또는 번개세일이 아닌 경우: 현재 가격만 표시</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">원</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="import { Product } from &#x27;../types&#x27;;

/**
 * 상품의 표시 이름을 생성합니다.
 * 번개세일, 추천세일 등의 정보를 포함하여 반환합니다.
 *
 * @param product - 상품 정보
 * @returns 표시용 상품명
 */
export const formatProductName = (product: Product): string =&gt; {
  let displayName = product.name;

  if (product.lightningSale) {
    displayName += &#x27; ⚡번개세일!&#x27;;
  }
  if (product.suggestSale) {
    displayName += &#x27; 💝추천세일!&#x27;;
  }

  return displayName;
};

/**
 * 상품의 가격을 표시용 텍스트로 변환합니다.
 * 번개세일인 경우 원가와 할인가를 함께 표시하고,
 * 일반 상품인 경우 현재 가격만 표시합니다.
 *
 * @param product - 상품 정보
 * @returns 가격 표시용 텍스트 (예: &quot;15,000원 → 12,000원&quot; 또는 &quot;12,000원&quot;)
 */
export const displayProductPriceText = (product: Product): string =&gt; {
  // 번개세일이고 원가가 있는 경우: 원가 → 할인가 형식으로 표시
  if (product.lightningSale &amp;&amp; product.originalPrice) {
    return `${product.originalPrice.toLocaleString()}원 → ${product.price.toLocaleString()}원`;
  }
  // 일반 상품 또는 번개세일이 아닌 경우: 현재 가격만 표시
  return `${product.price.toLocaleString()}원`;
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>제가 이 함수를 만들면서 service 폴더에 안넣고, util 함수로 selectorUtil이라는 함수로 만들었는데요. 적절한 파일 이름일지, 그리고 service 폴더에 넣는게 맞았을지 궁금합니다. 아니면 따로 컴포넌트로 차라리 만들었어야할까?? 라는 고민도 있는데 뭐가 정답일지 여쭤보고싶습니다.</p></div></div><div class="overflow-auto mt-9"><h3 class="text-2xl mb-3">과제 피드백</h3><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><p>고생하셨습니다 민기님!
아쉽게 테스트가 통과하지 않아 기본 과제는 불합격 처리 했습니다.
과제는 잘 진행해주셨는데요! 이미 알고계신것처럼 조금 더 개선할 여지는 있어보여요. 체크리스트에 남아있지 않은 부분들을 채워나가면서 좀 더 개선해보면 좋을것 같습니다 ㅎㅎ</p>
<p>질문 주신 부분 답변 드려보면요.</p>
<blockquote>
<p>서비스 관점에서의 개선</p>
</blockquote>
<p>우선 지금은 서비스 자체가 단순화 되어있는 구조이기도 하고 그러다보니 서비스 레이어에서 담당하는 일이 많아진 거 같아요. 그러다 보니 비즈니스 로직이나 네트워크 통신, 도메인 규칙 등등이 담기게 될 것 같은데요. 이런 부분을 세분화하고 더 나아가는 형태로 고민해보지 않았을까 싶네요.</p>
<p>우선 질문 주신 첫 번째 질문인 도메인 관련 함수들을 서비스 내에 둬야 하는게 맞냐 라는 건 맞아보입니다. 그리고 너무 많은 책임을 지는 것 같아보이면 별도의 레이어로 나누는 식으로 개선해야 할 것 같아요.</p>
<p>그리고 유틸 함수에 있어서도 지금 보여지는건 UI적인 곳에 보여지는 값들을 위치시키는 내용이니 formatter같은 이름으로 UI에 가깝게 두는 형태면 좋지 않을까 싶은 개인적인 의견이 있습니다 ㅎㅎ</p>
<p>고생하셨고 다음주도 화이팅입니다!</p></div></div></div></main></div></div></div></div>
</body>
</html>
