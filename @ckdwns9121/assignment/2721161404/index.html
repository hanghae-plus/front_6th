<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-CNXDb5PB.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-Bn_76fmk.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@ckdwns9121/" data-discover="true">ckdwns9121<!-- --> 님의 상세페이지</a> ＞ <!-- -->[8팀 박창준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-2/pull/40" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[8팀 박창준] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->ckdwns9121</span><span>2025. 8. 5.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="배포링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포링크</h2>
<p><a href="https://ckdwns9121.github.io/front_6th_chapter2-2/">배포링크</a></p>
<h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>재사용 가능한 Custom UI 컴포넌트를 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 라이브러리 Hook을 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 유틸 함수를 만들어 보기</p>
</li>
<li>
<p>그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
</ul>
<h2 id="과제-셀프-회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프-회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프 회고</h2>
<p>이번 과제는 개인적으로 시간 투자를 많이 하지 못한 점이 아쉽습니다. 최근 취업 준비에 더 많은 시간을 할애해야겠다는 필요성을 느끼고 있었고, 특히 오프코치님의 멘토링을 들으면서 시간 분배의 중요성에 대해 더욱 체감하게 되었습니다. 요즘은 거의 과제 2, 취업 준비 8 정도의 비율로 시간을 쓰고 있는 것 같아요.</p>
<p>과제는 수요일 저녁쯤 시작했는데, 다행히 리액트에는 익숙해서 진입 장벽은 높지 않았습니다. 특히 수많은 props drilling을 경험하면서 이를 어떻게 개선할 수 있을지 고민해보는 과정이 나름 재미있었고, 리팩토링을 통해 코드 구조를 조금씩 개선해보는 시도도 흥미로웠습니다.</p>
<p>아직 부족한 점이 많지만, 이런 과정을 통해 실제 현업에서의 코드 구조나 설계 방식에 대해 더 깊이 고민해볼 수 있었던 점이 의미 있었던 것 같습니다. 다음 과제는 더 넉넉하게 시간을 투자해서, 조금 더 완성도 있는 결과물을 만들어보고 싶습니다.</p>
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><strong>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</strong></h3>
<h3 id="1-디자인패턴을-도입하여-요구사항-변화에-유연하게-대응해보기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-디자인패턴을-도입하여-요구사항-변화에-유연하게-대응해보기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. 디자인패턴을 도입하여 요구사항 변화에 유연하게 대응해보기</h3>
<p>이번 과제에서 가장 신경 썼던 부분은 <strong>디자인 패턴을 어떻게 적용해볼 수 있을까</strong>에 대한 고민이었습니다.</p>
<p>준일 코치님의 <a href="https://junilhwang.github.io/TIL/clean-code/as-requirements-change/">요구사항의 변화로 알아가는 클린코드</a> 글을 굉장히 감명깊게 읽었는데요. 그 관점을 가지고 해당 부분을 신경써서 개발해보고 싶었습니다. (작은 태스크라도 한번 시도해보고 싶었어요)</p>
<p>우선 요구사항을 한번 정의해보면</p>
<ol>
<li>어드민 페이지에서 탭으로 “상품 관리” 탭과 “쿠폰 관리” 탭이 있다.</li>
<li>“상품 관리”탭을 누르면 상품관리 할 수 있는 콘텐츠가, “쿠폰 관리”를 누르면 쿠폰 관리를 할 수 있는 콘텐츠 가 나온다.</li>
</ol>
<p>그래서 초기에는 아래와 같이 조건부 렌더링을 사용해서 구현했습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;상품관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>상품관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;쿠폰관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>쿠폰관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="{tab === &quot;상품관리&quot; &amp;&amp; &lt;상품관리탭 /&gt;}
{tab === &quot;쿠폰관리&quot; &amp;&amp; &lt;쿠폰관리탭 /&gt;}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>만약 여기서 유저관리, 재고관리, 리뷰관리 등등 새로운 탭을 추가해달라는 요구사항이 발생하면 어떻게 될까요</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;상품관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>상품관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;쿠폰관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>쿠폰관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;유저관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>유저관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;재고관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>재고관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">{</span>tab <span class="token operator">===</span> <span class="token string">&quot;리뷰관리&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>리뷰관리탭 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="{tab === &quot;상품관리&quot; &amp;&amp; &lt;상품관리탭 /&gt;}
{tab === &quot;쿠폰관리&quot; &amp;&amp; &lt;쿠폰관리탭 /&gt;}
{tab === &quot;유저관리&quot; &amp;&amp; &lt;유저관리탭 /&gt;}
{tab === &quot;재고관리&quot; &amp;&amp; &lt;재고관리탭 /&gt;}
{tab === &quot;리뷰관리&quot; &amp;&amp; &lt;리뷰관리탭 /&gt;}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>아마 이런식으로 구현해볼 것 같았습니다.
이 방식도 간단하고 직관적이지만, 탭이 많아질수록 컴포넌트가 길어지고 복잡도가 증가할 수 있다는 점에서 구조적으로 불만족스러웠습니다.</p>
<p>그래서 리팩토링을 통해 <strong>합성 컴포넌트(Compound Components) 패턴</strong>을 적용해보았습니다. <code>Tabs</code>라는 추상화된 UI 컴포넌트를 중심으로, 각 탭의 <code>Trigger</code>와 <code>Panel</code>을 독립적인 방식으로 구성할 수 있도록 구조를 바꿨습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span></span> <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">PRODUCTS</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Trigger</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">PRODUCTS</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">상품 관리</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Trigger</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Trigger</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">COUPONS</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">쿠폰 관리</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Trigger</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Panel</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">PRODUCTS</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductManagement</span></span> <span class="token attr-name">...props</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Panel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Panel</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">COUPONS</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CouponManagement</span></span> <span class="token attr-name">...props</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Panel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">
</span></code><div class="copied" data-code="&lt;Tabs defaultValue={ADMIN_TABS.PRODUCTS}&gt;
  &lt;Tabs.List&gt;
    &lt;Tabs.Trigger value={ADMIN_TABS.PRODUCTS}&gt;상품 관리&lt;/Tabs.Trigger&gt;
    &lt;Tabs.Trigger value={ADMIN_TABS.COUPONS}&gt;쿠폰 관리&lt;/Tabs.Trigger&gt;
  &lt;/Tabs.List&gt;

  &lt;Tabs.Content&gt;
    &lt;Tabs.Panel value={ADMIN_TABS.PRODUCTS}&gt;
      &lt;ProductManagement ...props /&gt;
    &lt;/Tabs.Panel&gt;

    &lt;Tabs.Panel value={ADMIN_TABS.COUPONS}&gt;
      &lt;CouponManagement ...props /&gt;
    &lt;/Tabs.Panel&gt;
  &lt;/Tabs.Content&gt;
&lt;/Tabs&gt;

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 방식의 <strong>장점은</strong> 무엇보다도 구조가 명확하다는 점입니다.</p>
<p>탭의 구성 요소(<code>List</code>, <code>Trigger</code>, <code>Panel</code>)가 명확히 분리되어 있어 <strong>코드의 가독성과 유지보수성</strong>이 뛰어나고, 새로운 탭을 추가하거나 수정할 때도 전체 구조를 쉽게 파악할 수 있습니다.</p>
<p>또한 <code>Tabs</code> 컴포넌트 내부에서 상태를 관리하기 때문에, 별도의 상태 선언 없이도 UI 전환이 가능해지고, 기능별 컴포넌트를 따로 나눠서 독립적으로 관리할 수 있어 <strong>관심사 분리 관점</strong>에서도 큰 장점이었습니다.</p>
<p>하지만 이것 역시 <strong>탭이 많아지면 유연하게 잘 처리할 수 있는 구조일까?</strong> 고민했습니다..</p>
<p>제 결론은 컴포넌트가 굉장히 길어지고 가독성이 매우 안좋아질 것 같았어요. 더 나아가 <strong>Router를 추가해서 탭이 변경되면 URL도 변경되는 요구사항</strong>을 받으면 어떻게 해야할까.. 이런 고민도 했습니다.</p>
<p>이 둘을 유연하게 처리할 수 있는 방식을 고민해보다가 기능 목록을 <strong>객체 배열</strong>로 <strong>추상화</strong>하는 것이였습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token literal-property property">adminFeatures</span><span class="token operator">:</span> <span class="token maybe-class-name">AdminFeature</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">PRODUCTS</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;상품 관리&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token maybe-class-name">ProductManagementFeature</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">COUPONS</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;쿠폰 관리&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token maybe-class-name">CouponManagementFeature</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token constant">ADMIN_TABS</span><span class="token punctuation">.</span><span class="token constant">INVENTORY</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;재고 관리&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token maybe-class-name">InventoryManagementFeature</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="const adminFeatures: AdminFeature[] = [
  {
    id: ADMIN_TABS.PRODUCTS,
    label: &quot;상품 관리&quot;,
    component: ProductManagementFeature,
  },
  {
    id: ADMIN_TABS.COUPONS,
    label: &quot;쿠폰 관리&quot;,
    component: CouponManagementFeature,
  },
  {
    id: ADMIN_TABS.INVENTORY,
    label: &quot;재고 관리&quot;,
    component: InventoryManagementFeature,
  },
];

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이런식으로요. 이렇게 추상화하면, 각 기능을 새로운 탭에 추가하거나 재배치할 때 <strong>페이지 컴포넌트 구조를 건드리지 않아도 되기 때문에 매우 유연</strong>하게 관리할 수 있습니다. 또 각 <code>component</code>는 독립적인 컴포넌트로 관리되기 때문에 재사용성과 가독성 모두 좋아졌습니다.</p>
<p>한가지 발생한 문제점은 props가 다른 경우였는데요. 이 부분은 각 Feature 레이어에서  jotai를 활용해 전역상태를 다루고 있었기 때문에 생각보다 쉽게 해결할 수 있었습니다.  (직접적인 해결방법은 아닌데 객체에서 render 함수 명시하고 직접 넘기는 방식으로 해결해볼수 있을 것 같아요)</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span></span> <span class="token attr-name">defaultValue</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>adminFeatures<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token punctuation">{</span>adminFeatures<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>feature<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Trigger</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">label</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Trigger</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.List</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token punctuation">{</span>adminFeatures<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>feature<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs.Panel</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feature.component</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Panel</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs.Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">
</span></code><div class="copied" data-code="&lt;Tabs defaultValue={adminFeatures[0].id}&gt;
  &lt;Tabs.List&gt;
    {adminFeatures.map((feature) =&gt; (
      &lt;Tabs.Trigger key={feature.id} value={feature.id}&gt;
        {feature.label}
      &lt;/Tabs.Trigger&gt;
    ))}
  &lt;/Tabs.List&gt;

  &lt;Tabs.Content&gt;
    {adminFeatures.map((feature) =&gt; (
      &lt;Tabs.Panel key={feature.id} value={feature.id}&gt;
        &lt;feature.component /&gt;
      &lt;/Tabs.Panel&gt;
    ))}
  &lt;/Tabs.Content&gt;
&lt;/Tabs&gt;

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>또하나 궁금했던 건 UI 구조를 Router 기반으로 전환하고 싶을 때, 이 패턴이 얼마나 확장성이 좋을까? 였습니다. 다행히도 <code>adminFeatures</code> 형태의 구조는 라우팅 전환에도 유리했습니다.</p>
<p>예를 들어 아래와 같이 <code>Route</code> 배열을 뽑아내는 것도 어렵지 않았습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// React Router와 연동</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">AdminRouter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Routes</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>adminFeatures<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>feature<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>feature<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/admin/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>feature<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token attr-name">element</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feature.component</span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Routes</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// React Router와 연동
const AdminRouter = () =&gt; {
  return (
    &lt;Routes&gt;
      {adminFeatures.map((feature) =&gt; (
        &lt;Route
          key={feature.id}
          path={`/admin/${feature.id}`}
          element={&lt;feature.component /&gt;}
        /&gt;
      ))}
    &lt;/Routes&gt;
  );
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>각 feature의 id를 path로 활용할 수 있어서 라우트를 자동으로 생성할 수 있었고, 이렇게 구성하면 나중에 탭 기반 UI에서 라우터 기반 UI로 전환하거나, 탭과 라우터를 동시에 사용하는 방식(예: <code>?tab=products</code>)도 유연하게 적용 가능했습니다.</p>
<p>이처럼 요구사항 변화로 알아가는 클린코드에 대해서 직접 체험해보며 요구사항의 변화를 고려하면서 유연하게 대응하는 코드를 작성해본 좋은 경험이였습니다.</p>
<h3 id="2-에러클래스-고차함수로-유연하게-에러핸들링하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-에러클래스-고차함수로-유연하게-에러핸들링하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. 에러클래스+ 고차함수로 유연하게 에러핸들링하기.</h3>
<p>이번 과제를 진행하며 코드를 컴포넌트와 훅으로 나누는 과정에서, <strong>에러와 알림 처리</strong>가 <strong>코드의 가독성과 유지보수성을 해치는 주된 원인</strong>이 될 수 있다는 점을 깨달았습니다. 초기에는 기능 구현에 집중하다 보니, 이러한 부수적인 로직이 반복적으로 작성되거나 비즈니스 로직과 뒤섞이는 경우가 많았습니다. 이 부분을 놓치고 싶지 않아서, 더 좋은 구조로 개선해보고자 리팩토링을 시도하게 되었습니다.</p>
<p><strong>&lt;비즈니스 로직과 UI 로직의 관심사 분리&gt;</strong></p>
<p>처음 코드를 작성했을 때는 재고 확인, 수량 변경 같은 비즈니스 로직 안에 <code>addNotification(&quot;재고가 부족합니다!&quot;, &quot;error&quot;)</code>와 같은 UI 관련 로직이 함께 존재했습니다. 이러한 방식은 다음과 같은 문제들을 야기했습니다.</p>
<ul>
<li><strong>코드의 비순수성</strong>: 상품을 장바구니에 담는 <strong>핵심 로직</strong>이 &#x27;알림을 띄우는&#x27; 부수 효과에 의존하게 되었습니다. 만약 알림이 아닌 다른 방식으로 에러를 처리해야 한다면, 비즈니스 로직이 담긴 함수를 직접 수정해야만 했습니다.</li>
<li><strong>재사용성 저하</strong>: <code>addToCart</code> 함수는 오직 알림을 띄우는 환경에서만 제대로 동작합니다. 만약 서버 API를 통해 장바구니에 상품을 추가하는 로직을 재사용해야 한다면, UI 관련 코드를 제거하거나 새롭게 작성해야 하는 불편함이 있었습니다.</li>
</ul>
<p>저는 &quot;어떻게 하면 순수한 비즈니스 로직만 담고 있는 함수를 만들 수 있을까?&quot;라는 근본적인 질문에 대해 고민을 했습니다..</p>
<p><strong>&lt;문제 해결: <code>throw</code>와 고차 함수의 역할 분담&gt;</strong></p>
<p>제가 생각한 해결책은 <strong>비즈니스 로직에서는 에러가 발생했을 때 예외를 <code>throw</code>하고, 그 예외를 외부에서 처리하는 것</strong>이었습니다. 비즈니스 로직의 핵심은 &#x27;어떤 조건에서 어떤 상태 변화가 일어나야 하는지&#x27;를 정의하는 것이라고 생각했어요.</p>
<p><strong>1. 비즈니스 로직에 집중하는 Atom</strong></p>
<p><code>jotai</code>의 <code>atom</code>을 활용하여 장바구니 관련 비즈니스 로직을 구현했습니다. 여기서 핵심은 각 <code>atom</code>의 <code>set</code> 함수는 오직 상태 변경이라는 순수한 역할에만 집중하도록 설계했습니다.</p>
<p>예를 들어, <code>addToCartAtom</code>은 장바구니에 상품을 추가하는 과정에서 재고가 부족하거나 수량이 초과되면 <strong>UI 알림을 띄우는 대신</strong> 명확한 에러 클래스를 <code>throw</code> 하게끔 구현했습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token comment">// 장바구니에 상품 추가하는 atom</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> addToCartAtom <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">get<span class="token punctuation">,</span> set<span class="token punctuation">,</span> <span class="token literal-property property">product</span><span class="token operator">:</span> <span class="token maybe-class-name">Product</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> remainingStock <span class="token operator">=</span> <span class="token function">getRemainingStockModel</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 비즈니스 로직: 재고가 0 이하면 예외를 던짐</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>remainingStock <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name">InsufficientStockError</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> remainingStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 장바구니에 상품 추가하는 atom
export const addToCartAtom = atom(null, (get, set, product: Product) =&gt; {
  const cart = get(cartAtom);
  const remainingStock = getRemainingStockModel(product, cart);

  // 비즈니스 로직: 재고가 0 이하면 예외를 던짐
  if (remainingStock &lt;= 0) {
    throw new InsufficientStockError(product.name, remainingStock);
  }
  // ...
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// 재고 부족 에러</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InsufficientStockError</span> <span class="token keyword">extends</span> <span class="token class-name">CartError</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span>productName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> availableStock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>productName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">의 재고가 부족합니다. (가용 재고: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>availableStock<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">개)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;InsufficientStockError&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 재고 초과 에러</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">StockExceededError</span> <span class="token keyword">extends</span> <span class="token class-name">CartError</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span>productName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> maxStock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> requestedQuantity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>productName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">의 재고는 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>maxStock<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">개까지만 있습니다. (요청 수량: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>requestedQuantity<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">개)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;StockExceededError&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 장바구니가 비어있는 에러</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">EmptyCartError</span> <span class="token keyword">extends</span> <span class="token class-name">CartError</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;장바구니가 비어있습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;EmptyCartError&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 수량 유효성 검증 에러</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InvalidQuantityError</span> <span class="token keyword">extends</span> <span class="token class-name">CartError</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span>quantity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">유효하지 않은 수량입니다: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>quantity<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (1 이상이어야 합니다)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;InvalidQuantityError&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// 재고 부족 에러
export class InsufficientStockError extends CartError {
  constructor(productName: string, availableStock: number) {
    super(`${productName}의 재고가 부족합니다. (가용 재고: ${availableStock}개)`);
    this.name = &quot;InsufficientStockError&quot;;
  }
}

// 재고 초과 에러
export class StockExceededError extends CartError {
  constructor(productName: string, maxStock: number, requestedQuantity: number) {
    super(`${productName}의 재고는 ${maxStock}개까지만 있습니다. (요청 수량: ${requestedQuantity}개)`);
    this.name = &quot;StockExceededError&quot;;
  }
}

// 장바구니가 비어있는 에러
export class EmptyCartError extends CartError {
  constructor() {
    super(&quot;장바구니가 비어있습니다.&quot;);
    this.name = &quot;EmptyCartError&quot;;
  }
}

// 수량 유효성 검증 에러
export class InvalidQuantityError extends CartError {
  constructor(quantity: number) {
    super(`유효하지 않은 수량입니다: ${quantity} (1 이상이어야 합니다)`);
    this.name = &quot;InvalidQuantityError&quot;;
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>마찬가지로, <code>updateQuantityAtom</code> 역시 수량이 재고를 초과하면 <strong><code>StockExceededError</code>를 던집니다.</strong> 이렇게 함으로써 비즈니스 로직은 어떤 에러가 발생했는지 &#x27;알려주는&#x27; 역할만 담당하게 만들었습니다.</p>
<p><strong>2. 고차 함수로 에러 책임을 분리</strong></p>
<p>던져진 에러를 처리하는 역할은 비즈니스 로직의 바깥인 <strong>고차 함수</strong>의 책임으로 분리했습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> withTryNotifySuccess <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">readonly</span> unknown<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token function-variable function">action</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token constant">R</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">successMessage</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">addNotification</span><span class="token operator">:</span> <span class="token punctuation">(</span>message<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">void</span>
</span><span class="code-line"><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token spread operator">...</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">R</span> <span class="token operator">|</span> <span class="token parameter"><span class="token keyword nil">undefined</span></span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token spread operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✨ 비즈니스 로직(atom) 실행</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span>successMessage<span class="token punctuation">,</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 성공 시 알림 처리</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> result<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// ✨ 비즈니스 로직에서 던진 에러를 여기서 잡음</span>
</span><span class="code-line">      <span class="token keyword">const</span> errorMessage <span class="token operator">=</span> error <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token operator">?</span> error<span class="token punctuation">.</span><span class="token property-access">message</span> <span class="token operator">:</span> <span class="token string">&quot;오류가 발생했습니다&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 에러 메시지를 알림으로 처리</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token keyword nil">undefined</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const withTryNotifySuccess = &lt;T extends readonly unknown[], R&gt;(
  action: (...args: T) =&gt; R,
  successMessage: string,
  addNotification: (message: string, type: &quot;success&quot; | &quot;error&quot;) =&gt; void
) =&gt; {
  return (...args: T): R | undefined =&gt; {
    try {
      const result = action(...args); // ✨ 비즈니스 로직(atom) 실행
      addNotification(successMessage, &quot;success&quot;); // 성공 시 알림 처리
      return result;
    } catch (error) {
      // ✨ 비즈니스 로직에서 던진 에러를 여기서 잡음
      const errorMessage = error instanceof Error ? error.message : &quot;오류가 발생했습니다&quot;;
      addNotification(errorMessage, &quot;error&quot;); // 에러 메시지를 알림으로 처리
      return undefined;
    }
  };
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>UI 컴포넌트에서는 이 고차 함수를 이용해 비즈니스 로직을 감싸기만 하면 되게끔 설계했습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token comment">// UI 레이어에서 비즈니스 로직을 호출하는 예시</span>
</span><span class="code-line"><span class="token keyword">const</span> handleAddProduct <span class="token operator">=</span> <span class="token function">useAutoCallback</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token function">withTryNotifySuccess</span><span class="token punctuation">(</span>addProduct<span class="token punctuation">,</span> <span class="token string">&quot;상품이 추가되었습니다.&quot;</span><span class="token punctuation">,</span> addNotification<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// UI 레이어에서 비즈니스 로직을 호출하는 예시
const handleAddProduct = useAutoCallback(
  withTryNotifySuccess(addProduct, &quot;상품이 추가되었습니다.&quot;, addNotification)
);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이러한 구조를 통해 <strong>비즈니스 로직</strong>은 <strong>오직 상태 변경과 유효성 검증</strong>에 집중하고, <strong>UI 알림 처리</strong>는 <strong>고차 함수</strong>라는 얇은 레이어를 통해 일관되게 처리할 수 있게 리팩토링 하였습니다.</p>
<p>비즈니스 로직의 &#x27;순수성&#x27;을 지키고, 알림처리는 고차 함수를 통해 명확하게 관심사를 분리할 수 있었습니다. 또한 반복되는 에러 처리 로직을 추상화하여 <strong>코드의 일관성, 재사용성</strong>을 동시에 확보할 수 있었습니다.</p>
<h3 id="3-props-drliing-최대한-줄여보기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-props-drliing-최대한-줄여보기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. Props drliing 최대한 줄여보기</h3>
<p>이번 과제의 핵심인 Props drliling을 경험해보고 이걸 최대한 줄여봐야지 고민했습니다. 처음엔 전형적으로 App컴포넌트에서 모든 상태를 다 정의한뒤 props로 내려줬고, 이렇게 하고나니 거의 4레벨 5레벨 수준의 props drliling이 발생했고 컴포넌트간 결합도도 매우 강했습니다.</p>
<p>예를들어서 <code>ProductMagagement</code> (관리자에서 쓰는 상품 탭) 컴포넌트는 12개의 props를 받고 있었고, <code>ShopPage</code>는 페이지단 컴포넌트인데도 상위에서 9개정도 받고있었습니다.</p>
<p>이러한 문제를 분명 해결할 수 있을것 같았는데 마침 로컬스토리지에 저장되어있던 상태에서 아이디어를 떠올랐습니다. 어차피 참조가 달라도 키가 같으면 훅으로 동기화 되지 않을까? 라고 접근을 했고 최대한 상태를 격시시켜가며 리팩토링 했습니다.</p>
<p>ProductManagement부터 useProducts, useCart, useProductForm 훅을 직접 사용하도록 변경했고, 이렇게 하니 12개던 props가 1개(addNotification)로 줄어들었습니다.</p>
<p>다음으로 ShopPage도 useCart, useCoupons 훅을 직접 사용하도록 변경하니 9개던 props가 1개로 줄어들었습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">App</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 알림 시스템</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> notifications<span class="token punctuation">,</span> addNotification<span class="token punctuation">,</span> removeNotification <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 앱 UI 상태 관리</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> isAdmin<span class="token punctuation">,</span> toggleAdmin<span class="token punctuation">,</span> totalItemCount<span class="token punctuation">,</span> setTotalItemCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAppState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 검색 상태 관리</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>searchTerm<span class="token punctuation">,</span> setSearchTerm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>min-h-screen bg-gray-50<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Notification</span></span> <span class="token attr-name">notifications</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>notifications<span class="token punctuation">}</span></span> <span class="token attr-name">onRemove</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>removeNotification<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">isAdmin</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isAdmin<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onToggleAdmin</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>toggleAdmin<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">totalItemCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>totalItemCount<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">searchTerm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>searchTerm<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onSearchChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setSearchTerm<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max-w-7xl mx-auto px-4 py-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>isAdmin <span class="token operator">?</span> <span class="token punctuation">(</span>
</span><span class="code-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AdminPage</span></span> <span class="token attr-name">addNotification</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addNotification<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
</span><span class="code-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ShopPage</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">addNotification</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>addNotification<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">onTotalItemCountChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>setTotalItemCount<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">searchTerm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>searchTerm<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token maybe-class-name">App</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="
const App = () =&gt; {
  // 알림 시스템
  const { notifications, addNotification, removeNotification } = useNotification();

  // 앱 UI 상태 관리
  const { isAdmin, toggleAdmin, totalItemCount, setTotalItemCount } = useAppState();

  // 검색 상태 관리
  const [searchTerm, setSearchTerm] = useState(&quot;&quot;);

  return (
    &lt;div className=&quot;min-h-screen bg-gray-50&quot;&gt;
      &lt;Notification notifications={notifications} onRemove={removeNotification} /&gt;

      &lt;Header
        isAdmin={isAdmin}
        onToggleAdmin={toggleAdmin}
        totalItemCount={totalItemCount}
        searchTerm={searchTerm}
        onSearchChange={setSearchTerm}
      /&gt;

      &lt;main className=&quot;max-w-7xl mx-auto px-4 py-8&quot;&gt;
        {isAdmin ? (
          &lt;AdminPage addNotification={addNotification} /&gt;
        ) : (
          &lt;ShopPage
            addNotification={addNotification}
            onTotalItemCountChange={setTotalItemCount}
            searchTerm={searchTerm}
          /&gt;
        )}
      &lt;/main&gt;
    &lt;/div&gt;
  );
};

export default App;

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>최종적으로 App 컴포넌트는 UI 상태(isAdmin, toggleAdmin)만 관리하게 되었고, 각 컴포넌트가 필요한 데이터를 직접 localStorage에서 가져오도록 개선할 수 있었습니다.</p>
<p>다만 아쉬운 점은 ShopPage에서 쓰는 장바구니의 개수는 Header가 알지 못하는 문제가 있어서 별도로 따로 상태를 만들어서 Header한테 넘겨주어야 했는데 이부분은 좀 개선할 필요가 있습니다.</p>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><strong>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</strong></h3>
<ul>
<li>jotai에 대해서 학습시간이 부족했는데 좀 더 학습하고 구현했다면 더 좋은 구조로 설계할 수 있지 않았을까 하는 아쉬움이 남습니다.</li>
</ul>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><strong>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</strong></h3>
<p>Q1. 코치님은 zustand와 jotai 중 어떤 전역 상태 관리 라이브러리를 선호하시나요? 그리고 최근에는 서버 상태와 클라이언트 상태를 분리하여 관리하는 아키텍처가 선호되는데, 클라이언트 전역 상태로는 주로 어떤 상태들을 관리하는 것이 좋을까요?</p>
<p>Q2. 함수형 프로그래밍에 대해서 공부해보고싶어요. 코치님은 함수형 프로그래밍을 공부하신 적이 있다면 어떤식으로 공부하셨는지 책이나 방법을 추천해주실 수 있나요?</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>창준님 이번 과제도 매우 알차게 해주셨네요.
시간을 많이 쓰지 않으셨음에도 불구하고 명확한 기준으로, 게다가 명확한 관점을 테스트하는 부분에 있어서 잘 시도하신것 같아서 좋았습니다 ㅎㅎ
잘하셨어요. 회고에 작성해주신 부분도 보면서 저도 공부를 하게 되었던 것 같습니다. 고차 함수로 에러를 처리하는것도 좋았고 각 레이어별로 에러처리하는 것도 좋았는데, 이런것들을 동일한 관점에서 에러바운더리에서 하는것도 좋을것 같아요 ㅎㅎ</p>
<p>Q1. 코치님은 zustand와 jotai 중 어떤 전역 상태 관리 라이브러리를 선호하시나요? 그리고 최근에는 서버 상태와 클라이언트 상태를 분리하여 관리하는 아키텍처가 선호되는데, 클라이언트 전역 상태로는 주로 어떤 상태들을 관리하는 것이 좋을까요?</p>
<p>저는 둘 다 사용해야 하는 사례에 따라 선택하는 편인데, 사실 크게 중요했던적은 없었던 것 같아요 ㅎㅎ 둘의 핵심차이는 사실 철학차이이고 상태를 정교하게 관리하는 것이 필요하냐 안하냐의 차이인것 같아요.
하지만, 말씀주신것처럼 요즘의 서버상태와 UI와 관련된, 예를 들어 모달이나 toast를 노출하거나 프롭드릴링이 과하게 발생하는 등 가벼운 상태만 분리하고 가벼운 상태만 전역 상태로 관리하려는 추세에서는 둘의 구성이 크게 차이가 없고 무리가 되는 부분이 없기 때문에 무난하게 선택해도 상관없을 것 같아요.</p>
<p>Q2. 함수형 프로그래밍에 대해서 공부해보고싶어요. 코치님은 함수형 프로그래밍을 공부하신 적이 있다면 어떤식으로 공부하셨는지 책이나 방법을 추천해주실 수 있나요?</p>
<p>저는 갠적으로 엄청 깊~~게 했던건 아니고 짧게 했던 것 같은데요.
지금에 있어서 유효한 방식인지는 모르겠지만..
일단 시작은 &#x27;쏙쏙 들어오는 함수형 코딩&#x27;이 설득 관점에서 큰도움이 되고(이미 설득은 되신거 같지만)
실무적인 관점에서 적용하는 방식에 대해 많이 찾아보고 싶어서 유인동님이 생성하셨던 컨텐츠를 많이 봤던 것 같아요. 책이랑 유인동님 강의도 나온건 다 봤던 것 같은데 꽤 오래된것 같아서 지금도 유효할지는 한번 체크해봐야겠네요.
관련해서 아시는분이 함수랑산악회 같은 활동도 진행하시면서 관련 공부를 계속하시는 것 같은데 관심있으시면 연락해드릴게요 ㅎㅎ
추가로 영어로 되어있는 글도 당시에 꽤 많이 읽고 번역도 했던 것 같은데 결국 철학에 맞춰서 많이 사용해보는게 핵심인것 같고 어려운 개념도 많이 있는것 같아서 꾸준히 학습해야 하는거 같더라구요. 그리고 모든걸 함수형으로 작성하는게 아니라 중용해서 쓰는 자세가 중요한것 같아요!</p>
<p>아무튼 나중에 공부하신다면...저도 방법을 좀 알려주세요~</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
