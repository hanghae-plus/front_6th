<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-S6z1r9QJ.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@minjaeleee/" data-discover="true">minjaeleee<!-- --> 님의 상세페이지</a> ＞ <!-- -->[6팀 이민재] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-2/pull/25" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[6팀 이민재] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->minjaeleee</span><span>2025. 8. 4.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="배포링크"><a class="anchor" aria-hidden="true" tabindex="-1" href="#배포링크"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>배포링크</h2>
<p><a href="https://minjaeleee.github.io/front_6th_chapter2-2/">https://minjaeleee.github.io/front_6th_chapter2-2/</a></p>
<h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>재사용 가능한 Custom UI 컴포넌트를 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 라이브러리 Hook을 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 유틸 함수를 만들어 보기</p>
</li>
<li>
<p>그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled=""/> UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled=""/> 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled=""/> 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<!-- -->
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>
<p>사실, 이런 계층 분리와 설계화를 해본 적이 없었고 프로젝트 규모에 맞는 적절한 설계라는 것이 정말 힘들었습니다.  고민에 고민을 반복하다가 기존 코드의 문제점을 분석하고, 과제의 요구사항 위주로 먼저 설계하자고 생각했습니다.</p>
<p><strong>기존 코드의 문제점</strong></p>
<ol>
<li><strong>단일 책임 원칙 위반</strong>: 상품관리, 장바구니, 쿠폰, 알림, 검색 등 모든 기능이 한 컴포넌트에 집중</li>
<li><strong>관심사 분리 부족</strong>: UI 로직과 비즈니스 로직이 섞여있음</li>
<li><strong>상태 관리 복잡성</strong>: 10개 이상의 서로 다른 상태가 한 곳에서 관리됨</li>
<li><strong>재사용성 부족</strong>: 모든 로직이 컴포넌트에 강결합</li>
<li><strong>테스트 어려움</strong>: 거대한 컴포넌트로 인한 테스트 복잡성</li>
</ol>
<p><strong>과제의 요구사항</strong></p>
<p>엔티티를 분류 기준으로 해서 주요 책임 계층을 나눌 것.</p>
<p>따라서, <strong>엔티티와 순수 함수 분리를 기준</strong>으로 구조화하자라고 목표를 세웠습니다.</p>
<p><strong>시행착오</strong></p>
<ul>
<li>
<p>처음엔 냅다 도메인별로 분리해봤고, 아래와 같은 구조였습니다.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line">src<span class="token operator">/</span>basic<span class="token operator">/</span>
</span><span class="code-line">├── models<span class="token operator">/</span>          # 도메인 타입 정의
</span><span class="code-line">│   ├── product<span class="token punctuation">.</span><span class="token property-access">ts</span>   # 상품 도메인
</span><span class="code-line">│   ├── cart<span class="token punctuation">.</span><span class="token property-access">ts</span>      # 장바구니 도메인  
</span><span class="code-line">│   ├── coupon<span class="token punctuation">.</span><span class="token property-access">ts</span>    # 쿠폰 도메인
</span><span class="code-line">│   └── notification<span class="token punctuation">.</span><span class="token property-access">ts</span> # 알림 도메인
</span><span class="code-line">├── hooks<span class="token operator">/</span>           # 비즈니스 로직 훅
</span><span class="code-line">│   ├── useCart<span class="token punctuation">.</span><span class="token property-access">ts</span>   # 장바구니 로직
</span><span class="code-line">│   ├── useProducts<span class="token punctuation">.</span><span class="token property-access">ts</span> # 상품 관리 로직
</span><span class="code-line">│   ├── useCoupons<span class="token punctuation">.</span><span class="token property-access">ts</span>  # 쿠폰 로직
</span><span class="code-line">│   └── useNotifications<span class="token punctuation">.</span><span class="token property-access">ts</span> # 알림 로직
</span><span class="code-line">├── components<span class="token operator">/</span>      # 컴포넌트 계층 분리
</span><span class="code-line">│   ├── features<span class="token operator">/</span>    # 기능별 중간 레벨
</span><span class="code-line">│   │   ├── <span class="token maybe-class-name">Header</span><span class="token operator">/</span>
</span><span class="code-line">│   │   ├── <span class="token maybe-class-name">ProductList</span><span class="token operator">/</span>
</span><span class="code-line">│   │   ├── <span class="token maybe-class-name">CartSidebar</span><span class="token operator">/</span>
</span><span class="code-line">│   │   └── <span class="token maybe-class-name">AdminPanel</span><span class="token operator">/</span>
</span><span class="code-line">│   └── ui<span class="token operator">/</span>         # 재사용 가능한 <span class="token constant">UI</span> 컴포넌트
</span><span class="code-line">├── utils<span class="token operator">/</span>          # 순수 함수들
</span><span class="code-line">│   ├── calculations<span class="token punctuation">.</span><span class="token property-access">ts</span> # 계산 로직
</span><span class="code-line">│   ├── formatters<span class="token punctuation">.</span><span class="token property-access">ts</span>   # 포맷팅
</span><span class="code-line">│   └── validators<span class="token punctuation">.</span><span class="token property-access">ts</span>   # 검증 로직
</span><span class="code-line">└── constants<span class="token operator">/</span>      # 상수 데이터
</span><span class="code-line">    ├── products<span class="token punctuation">.</span><span class="token property-access">ts</span>
</span><span class="code-line">    └── coupons<span class="token punctuation">.</span><span class="token property-access">ts</span>
</span></code><div class="copied" data-code="src/basic/
├── models/          # 도메인 타입 정의
│   ├── product.ts   # 상품 도메인
│   ├── cart.ts      # 장바구니 도메인  
│   ├── coupon.ts    # 쿠폰 도메인
│   └── notification.ts # 알림 도메인
├── hooks/           # 비즈니스 로직 훅
│   ├── useCart.ts   # 장바구니 로직
│   ├── useProducts.ts # 상품 관리 로직
│   ├── useCoupons.ts  # 쿠폰 로직
│   └── useNotifications.ts # 알림 로직
├── components/      # 컴포넌트 계층 분리
│   ├── features/    # 기능별 중간 레벨
│   │   ├── Header/
│   │   ├── ProductList/
│   │   ├── CartSidebar/
│   │   └── AdminPanel/
│   └── ui/         # 재사용 가능한 UI 컴포넌트
├── utils/          # 순수 함수들
│   ├── calculations.ts # 계산 로직
│   ├── formatters.ts   # 포맷팅
│   └── validators.ts   # 검증 로직
└── constants/      # 상수 데이터
    ├── products.ts
    └── coupons.ts
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</li>
<li>
<p>도메인 별로 분리하다 보니 아래와 같은 단점이 생겼습니다.</p>
<ol>
<li>혼재로 인한 모호성
<ul>
<li>hooks 내부에서 상태 관리, 비즈니스 로직, 데이터 접근 모두 혼재되어 많은 책임이 있어서 엔티티 기준으로 분리하고 다른 비즈니스 로직들을 순수 함수로 분리하는데 구조상 어려움이 있었습니다.</li>
</ul>
</li>
<li>관련 코드 분산
<ul>
<li>하나의 엔티티코드를 수정하려면 ui 컴포넌트, feature 컴포넌트, utils, constants … 여러 폴더를 뒤져야하는 어려움이 있었습니다.</li>
</ul>
</li>
<li>재사용성 판단의 어려움
<ul>
<li>“utils 내부에 있는 함수를 보고 어떤 도메인에 특화된 로직인지 찾을 수 있을까?” 하는 생각이 들었습니다. 폴더 계층이 없다보니, 어디에서 사용되는 util 함수인지 알 수가 없으니까 사용 여부를 판단하는데 제약이 있습니다.</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><strong>엔티티와 순수 함수 분리를 기준으로 다시 한번  구조화</strong></p>
<p>폴더 구조</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line">basic<span class="token operator">/</span>
</span><span class="code-line">├── domain<span class="token operator">/</span>                    # 엔티티 관련 코드
</span><span class="code-line">│   ├── product<span class="token operator">/</span>
</span><span class="code-line">│   │   ├── models<span class="token operator">/</span>           # <span class="token maybe-class-name">Product</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Discount</span><span class="token punctuation">,</span> <span class="token maybe-class-name">ProductWithUI</span>
</span><span class="code-line">│   │   ├── hooks<span class="token operator">/</span>            # useProducts
</span><span class="code-line">│   │   ├── components<span class="token operator">/</span>       # <span class="token maybe-class-name">ProductList</span><span class="token punctuation">,</span> <span class="token maybe-class-name">ProductCard</span>
</span><span class="code-line">│   │   └── utils<span class="token operator">/</span>            # calculateProductDiscount<span class="token punctuation">,</span> calculateItemPrice
</span><span class="code-line">│   ├── cart<span class="token operator">/</span>
</span><span class="code-line">│   │   ├── models<span class="token operator">/</span>           # <span class="token maybe-class-name">CartItem</span>
</span><span class="code-line">│   │   ├── hooks<span class="token operator">/</span>            # useCart
</span><span class="code-line">│   │   ├── components<span class="token operator">/</span>       # <span class="token maybe-class-name">CartSidebar</span>
</span><span class="code-line">│   │   └── utils<span class="token operator">/</span>            # cart 관련 계산 함수들
</span><span class="code-line">│   ├── coupon<span class="token operator">/</span>
</span><span class="code-line">│   │   ├── models<span class="token operator">/</span>           # <span class="token maybe-class-name">Coupon</span>
</span><span class="code-line">│   │   ├── hooks<span class="token operator">/</span>            # useCoupons
</span><span class="code-line">│   │   └── components<span class="token operator">/</span>       # 쿠폰 관련 컴포넌트
</span><span class="code-line">│   └── notification<span class="token operator">/</span>
</span><span class="code-line">│       ├── models<span class="token operator">/</span>           
</span><span class="code-line">│       ├── hooks
</span><span class="code-line">│       └── components<span class="token operator">/</span>       
</span><span class="code-line">├── shared<span class="token operator">/</span>                   # 공통 유틸리티
</span><span class="code-line">│   ├── hooks<span class="token operator">/</span>               # useLocalStorage<span class="token punctuation">,</span> useSearch<span class="token operator">*</span> 
</span><span class="code-line">│   ├── components<span class="token operator">/</span>          # <span class="token maybe-class-name">Header</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SearchInput</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Button</span> 등
</span><span class="code-line">│   ├── utils<span class="token operator">/</span>               # formatters<span class="token punctuation">,</span> <span class="token function">validators</span> <span class="token punctuation">(</span>순수 함수<span class="token punctuation">)</span>
</span><span class="code-line">│   └── constants<span class="token operator">/</span>           # 범용 상수들
</span><span class="code-line">└── features<span class="token operator">/</span>                # 페이지<span class="token operator">/</span>기능별 조합
</span><span class="code-line">    ├── admin<span class="token operator">/</span>
</span><span class="code-line">    └── shop<span class="token operator">/</span>
</span></code><div class="copied" data-code="basic/
├── domain/                    # 엔티티 관련 코드
│   ├── product/
│   │   ├── models/           # Product, Discount, ProductWithUI
│   │   ├── hooks/            # useProducts
│   │   ├── components/       # ProductList, ProductCard
│   │   └── utils/            # calculateProductDiscount, calculateItemPrice
│   ├── cart/
│   │   ├── models/           # CartItem
│   │   ├── hooks/            # useCart
│   │   ├── components/       # CartSidebar
│   │   └── utils/            # cart 관련 계산 함수들
│   ├── coupon/
│   │   ├── models/           # Coupon
│   │   ├── hooks/            # useCoupons
│   │   └── components/       # 쿠폰 관련 컴포넌트
│   └── notification/
│       ├── models/           
│       ├── hooks
│       └── components/       
├── shared/                   # 공통 유틸리티
│   ├── hooks/               # useLocalStorage, useSearch* 
│   ├── components/          # Header, SearchInput, Button 등
│   ├── utils/               # formatters, validators (순수 함수)
│   └── constants/           # 범용 상수들
└── features/                # 페이지/기능별 조합
    ├── admin/
    └── shop/
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이렇게 의도한대로 엔티티와 순수 함수 분리를 기준으로 구조화 할 수 있었습니다.</p>
<p>오직 계산만 하는 로직, 오직 상태 관리만 하는 로직, UI 관리만 하는 로직 등 단일 책임 원칙을 준수하며 순수 함수를 분리할 수 있었고 명확한 책임의 분리가 가능해졌습니다.</p>
<p>또, 응집된 코드를 재배치하면서 재사용성이 높아졌습니다.</p>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<ol>
<li>높은 결합도
<ul>
<li>메인 App.tsx에서 custom hooks들을 모두 인자로 주입하며 관리를 해서 엔티티 간의 결합도가 높은 상태였습니다. 사실, 심화과제를 완성하지 못한 것도 이 높은 결합도 때문입니다. 이것이 바로 props drilling의 핵심 단점인데.. 몸소 뼈저리게 깨달았습니다.</li>
</ul>
</li>
<li>상태관리 일관성 부족
<ul>
<li>jotai를 통해 전역 상태를 관리하려고 했으나 높은 결합도 때문에 완성하지 못했습니다. 결국엔 일부는 jotai의 store를 공유하고 있지만, 일부는 내부에서 useState로 상태가 관리가 됩니다. 그래서 상태는 뒤죽박죽이 되어버렸습니다.</li>
</ul>
</li>
</ol>
<p>내부적으로는 많은 문제가 있었지만 결국에는 해결하지 못했습니다. basic에 많은 시간을 쏟아 부었는데 제가 생각했던 “<strong>엔티티와 순수 함수 분리를 기준”</strong> 목표로 잘게 쪼개는 것보다, 엔티티를 기준으로 분리한 다음에 전역 상태로 관리할 수 있게 데이터를 단방향으로 흐르게 하여 advanced에서 필요한 범위 내에서 상태가 공유될 수 있도록 store를 관리하고, 이후 순수 함수를 쪼개면서 분리를 했으면 더 수월했을 것 같습니다.</p>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<h2 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문</h2>
<ol>
<li>구조 설계 우선순위
<ul>
<li>프로젝트 초기에 아키텍처를 설계하시거나, 프로젝트 규모에 따라서 다시 재설계를 하실때 어떤 순서로 접근하시는지 궁금합니다!</li>
<li>만약에 프로젝트 규모에 따라서 재설계를 한다면 점진적으로 개선하는 전략이 있으신지 궁금합니다!</li>
</ul>
</li>
<li>컴포넌트 책임 분리
<ul>
<li>Feature 컴포넌트(ProductList, CartSidebar)의 적절한 책임범위는 어디까지일까요?? UI만 담당해야 할까요?? 아니면 해당 도메인의 비즈니스 로직까지 포함해도 될까요??</li>
</ul>
</li>
</ol></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>수고했어요! 이번 과제는 결합도를 낮추는 방법을 이해하고 코드에서 제어하기 쉬운 순수함수를 분리하고 대형 컴포넌트들을 관리가능한 수준의 크기로 분리를 해보는 과제였습니다. 시행착오의 과정에서는 폴더구조에 대한 고민이 많았었군요. 잘했습니다.</p>
<p>왜 이렇게 폴더구조를 만드는가? 생각을 해보면 결국 코드에 하나의 책임만 두는게 이해하기가 더 쉽다는 것을 느낄수있고 단일 책임이라는 것을 무슨 기준으로 분리해낼까 고민하다보면서 순수함수, 엔티티, 파생 데이터, UI 로직 유틸등의 체계가 생겨났지요.</p>
<p>하지만 결국 분리를 하더라도 하나의 서비스가 되기 위해서는 서로에게 필요한 의존성등을 정돈하고 단방향의 데이터 흐름을 유지하도록 만들어야 하는데 지금의 코드에서는 분리한 체계가 일관성이 없어서 결합도가 완전히 낮아지는 방향이 되지는 못했습니다.</p>
<p>추상화의 수준을 어떻게 맞출수 있을지? 무엇은 props로 빼어서 재사용과 유연함을 보강하고 무엇은 내재화해서 함께 관리하는게 좋을지라는 측면을 한번 잘 고민해보시면 좋겠네요.</p>
<p>Q) 프로젝트 초기에 아키텍처를 설계하시거나, 프로젝트 규모에 따라서 다시 재설계를 하실때 어떤 순서로 접근하시는지 궁금합니다! 만약에 프로젝트 규모에 따라서 재설계를 한다면 점진적으로 개선하는 전략이 있으신지 궁금합니다!</p>
<p>=&gt; 가급적 코드에서 관리하기 어렵지 않은 부분과 관리하기 어려운 부분들을 분리하는게 중요합니다. 관리가 어려운 부분은 상태이고 상태란 현재의 값이 보관되고 수정이 되는 과정에서 값의 변경이 계속 있기 때문에 어려워지는 것이죠.</p>
<p>반면 계산이나 데이터 UI 등은 상태가 아니기에 관리하고 테스트하기에 수월한 코드입니다. 이러한 코드들을 분리해두면 거대한 프로젝트라도 실제 복잡도를 관리해야하는 코드의 양이 줄어드는 것이죠.</p>
<p>이렇게 분리를 잘 해두고나면 개발하는 과정에서 자주 쓰이는 것들끼리 서로 관련있는 것들끼리 조금씩 모아가는 과정을 만들게됩니다. 이렇게 컨벤션이 잡히게 되면 다음번에는 알아서 그 컨벤션에 따라 관리를 하다가 새로운 레이어나 모듈의 영역이 발견이 되게 되면 또 분리를 진행하는 식으로 진행하게 됩니다.</p>
<p>Q) Feature 컴포넌트(ProductList, CartSidebar)의 적절한 책임범위는 어디까지일까요?? UI만 담당해야 할까요?? 아니면 해당 도메인의 비즈니스 로직까지 포함해도 될까요??</p>
<p>=&gt; features는 하나의 기능이 되기 위해 필요한 모든 범위를 말합니다. 가령 zep에서는 화상회의, 채팅, 캐릭터, 지도등의 큰 기능들이 있죠. 화상회의를 하기 위해서는 라이브러리, UI, 행동, 데이터 모두가 필요합니다. 하지만 이는 features로 분리해두면 관리하기가 훨씬 좋겠죠. 아마 캐릭터이동이라는 기능과 겹치는 부분이 별로 없을테니까요.</p>
<p>=&gt; 그렇다고 feature가 이렇게 커야하는건 아니구요. 적절한 책임 범위란 이들을 레이어나 역할로 펼쳐두는 것 보다 모아두는게 더 낫다고 판단되는 경우입니다. 절대적인 기준은 없고 프로젝트의 논리와 사람들이 프로젝트에 대해서 어떠한 추상적인 표현들을 쓰는가에 따른 멘탈 모델이므로 그에 따라 적절히 사용하면 됩니다.</p>
<p>=&gt; 잘 했는지 여부는 굳이 features로 나눴더니 더 불편해졌다면 잘 못된 방식이고 이로 인해 생각하기가 더 편해졌다면 좋은 방식이라는걸로 기억해주세요.</p>
<p>수고하셨습니다. 6주차 과제도 화이팅입니다.</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
