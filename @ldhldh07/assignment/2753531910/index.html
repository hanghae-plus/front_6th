<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-S6z1r9QJ.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@ldhldh07/" data-discover="true">ldhldh07<!-- --> 님의 상세페이지</a> ＞ <!-- -->[9팀 임두현] Chapter 3-1. 프런트엔드 테스트 코드</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter3-1/pull/33" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[9팀 임두현] Chapter 3-1. 프런트엔드 테스트 코드</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->ldhldh07</span><span>2025. 8. 18.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h1 id="hard"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hard"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>HARD</h1>
<h2 id="7주차-과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#7주차-과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>7주차 과제 체크포인트</h2>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 총 11개의 파일, 115개의 단위 테스트를 무사히 작성하고 통과시킨다.</li>
</ul>
<h4 id="질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>질문</h4>
<blockquote>
<p>Q. handlersUtils에 남긴 질문에 답변해주세요.</p>
</blockquote>
<p>각기 다른 테스트가 하나의 값을 참조해서 서로에게 간섭하는 상황을 방지해야 합니다.
이를 위해 각 테스트 별로 별도의 공간을 만들어서 격리된 데이터를 각자 사용하게끔 만들어야 합니다.</p>
<blockquote>
<p>Q. 테스트를 독립적으로 구동시키기 위해 작성했던 설정들을 소개해주세요.</p>
</blockquote>
<p>각 테스트에서 server.use(...setupMockHandlerCreation(initialEvents))로 독립 초기 상태를 주입하고, 핸들러 내부는 store.current(mutable ref)로 상태를 유지합니다. 테스트 간 간섭을 막기 위해 beforeEach로 재설정하고 필요 시 server.resetHandlers()를 사용합니다. 초기 상태는 deep clone(structuredClone)으로 안전 복제합니다.</p>
<h3 id="심화-과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화-과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화 과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> App 컴포넌트 적절한 단위의 컴포넌트, 훅, 유틸 함수로 분리했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 해당 모듈들에 대한 적절한 테스트를 5개 이상 작성했는가?</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p>지난 과제들을 수행해가면서 테스트코드를 지속해서 접할 수 있었습니다.
동시에 왜 중요하고, 어떤 용도로 쓰이는 지도 파악했습니다.</p>
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<p>테스트 코드 작성에 앞서서 vitest, RTL과 같은 툴들에 대한 기본 이해도도 높이고자 했습니다.
기존에 알고 있던 MSW 지식과 더불어 handlersUtil을 통해 MSW 핸들러를 어떻게 다루고 사이드 이펙트를 줄일 수 있는지 학습했습니다.</p>
<h3 id="코드-품질"><a class="anchor" aria-hidden="true" tabindex="-1" href="#코드-품질"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>코드 품질</h3>
<p>테스트 코드를 구현하면서 두가지 방향에서 고민하고 기준을 세웠습니다.</p>
<ul>
<li>테스트라는 목적에 충실하기 위한 개별 테스트의 일관된 로직</li>
<li>문서화로서의 테스트를 위한 명시성과 가독성, 응집성</li>
</ul>
<h4 id="엄밀하고-뾰족한-테스트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#엄밀하고-뾰족한-테스트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>엄밀하고 뾰족한 테스트</h4>
<ul>
<li>테스트를 통과했는데 기능이 실제로는 안되는 경우가 있어서는 안됩니다.</li>
<li>반대로 기능이 실제로 되는데 테스트를 통과하지 않는 경우에도 생산성의 하락을 불러옵니다.</li>
</ul>
<p>전자의 경우를 방지하기 위해 경계 테스트가 중요합니다.
요구사항의 경계에 있는 값들을 시험하여 정확한 시점에서 작동/미작동이 전환되는지 체크해야합니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;월의 경계에 있는 이벤트를 올바르게 필터링한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2025-07-01</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> firstDayOfMonth <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-01&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> lastDayOfMonth <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-31&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> monthDay <span class="token operator">=</span> <span class="token punctuation">[</span>firstDayOfMonth<span class="token punctuation">,</span> lastDayOfMonth<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> lastDayOfPrevMonth <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      date<span class="token operator">:</span> <span class="token string">&#x27;2025-6-30&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> firstDayOfnextMonth <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      date<span class="token operator">:</span> <span class="token string">&#x27;2025-8-01&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> notMonthDay <span class="token operator">=</span> <span class="token punctuation">[</span>lastDayOfPrevMonth<span class="token punctuation">,</span> firstDayOfnextMonth<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> searchView <span class="token operator">=</span> <span class="token string">&#x27;month&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> filteredEvents <span class="token operator">=</span> <span class="token function">getFilteredEvents</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>monthDay<span class="token punctuation">,</span> <span class="token operator">...</span>notMonthDay<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token punctuation">,</span> searchView<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-01&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-31&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  it(&#x27;월의 경계에 있는 이벤트를 올바르게 필터링한다&#x27;, () =&gt; {
    const date = new Date(2025, 6, 1); // 2025-07-01

    const firstDayOfMonth = {
      title: &#x27;&#x27;,
      description: &#x27;&#x27;,
      location: &#x27;&#x27;,
      date: &#x27;2025-07-01&#x27;,
    } as Event;

    const lastDayOfMonth = {
      title: &#x27;&#x27;,
      description: &#x27;&#x27;,
      location: &#x27;&#x27;,
      date: &#x27;2025-07-31&#x27;,
    } as Event;

    const monthDay = [firstDayOfMonth, lastDayOfMonth];

    const lastDayOfPrevMonth = {
      title: &#x27;&#x27;,
      description: &#x27;&#x27;,
      location: &#x27;&#x27;,
      date: &#x27;2025-6-30&#x27;,
    } as Event;

    const firstDayOfnextMonth = {
      title: &#x27;&#x27;,
      description: &#x27;&#x27;,
      location: &#x27;&#x27;,
      date: &#x27;2025-8-01&#x27;,
    } as Event;

    const notMonthDay = [lastDayOfPrevMonth, firstDayOfnextMonth];

    const searchView = &#x27;month&#x27;;
    const filteredEvents = getFilteredEvents([...monthDay, ...notMonthDay], &#x27;&#x27;, date, searchView);

    expect(filteredEvents).toHaveLength(2);
    expect(filteredEvents).toMatchObject([{ date: &#x27;2025-07-01&#x27; }, { date: &#x27;2025-07-31&#x27; }]);
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>후자의 경우에는 테스트간 독립성을 보장하고 싶었습니다.
즉, 다른 기능의 오류로 인해 개별 테스트가 실패하는 경우를 최소화하고자 했습니다.</p>
<p>그래서 테스트 환경 내에서의 모듈화를 최소화했습니다.</p>
<ul>
<li>입력 데이터는 해당 테스트에 사용되는 값만 사용하고자 했습니다.</li>
<li>테스트 코드 안에서 환경이 정의되고 실행되는 과정이 전부 담기는 것을 추구했습니다.</li>
</ul>
<p>util함수 혹은 다른 곳에서 정의된 유틸 함수를 사용하지 않았습니다.</p>
<ul>
<li>해당 유틸 함수의 실패로 별개의 테스트가 실패할 가능성을 없에기 위해서입니다.</li>
<li>각 테스트 별로 다른 경우를 대입할 수 있습니다.</li>
</ul>
<p>유틸함수는 라이브러리의 함수를 해당 라이브러리의 테스트에 의존하듯이 테스트를 거치면 되는 것이 아닌가 하는 고민이 들었습니다.
하지만 직접 수정이 가능하고 그 테스트가 선제된다는 확신이 없는 상황에서 유틸함수 또한 재사용하지 않는 것이 맞다는 결론을 내렸습니다.</p>
<p>또한 기대값을 정의할때는 스태틱하고 1차적으로 속성이 노출된 가공하지 않은(중복 선언하지 않은) 값을 기대값으로 사용했습니다</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;검색어 &#x27;이벤트&#x27;와 날짜 &#x27;2025-07-01&#x27;에 대하여 7월 첫째주에 발생하였고 이벤트 단어가 포함된 모든 이벤트를 반환한다.&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> currentDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2025-07-01</span>
</span><span class="code-line">    <span class="token keyword">const</span> containedEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 1&#x27;</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">&#x27;이벤트 2&#x27;</span><span class="token punctuation">,</span> location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-01&#x27;</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 2&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        description<span class="token operator">:</span> <span class="token string">&#x27;이벤트 3&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-02&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 3&#x27;</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> location<span class="token operator">:</span> <span class="token string">&#x27;이벤트 23&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-05&#x27;</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> notContainedEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;파울로 벤투&#x27;</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-06-30&#x27;</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">&#x27;아반테&#x27;</span><span class="token punctuation">,</span> location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-03&#x27;</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">&#x27;이벤트&#x27;</span><span class="token punctuation">,</span> location<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> searchView <span class="token operator">=</span> <span class="token string">&#x27;week&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> filteredEvents <span class="token operator">=</span> <span class="token function">getFilteredEvents</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token punctuation">[</span><span class="token operator">...</span>containedEvents<span class="token punctuation">,</span> <span class="token operator">...</span>notContainedEvents<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string">&#x27;이벤트&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      currentDate<span class="token punctuation">,</span>
</span><span class="code-line">      searchView
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 1&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-01&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 2&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-02&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;이벤트 3&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-07-05&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  it(&quot;검색어 &#x27;이벤트&#x27;와 날짜 &#x27;2025-07-01&#x27;에 대하여 7월 첫째주에 발생하였고 이벤트 단어가 포함된 모든 이벤트를 반환한다.&quot;, () =&gt; {
    const currentDate = new Date(2025, 6, 1); // 2025-07-01
    const containedEvents = [
      { title: &#x27;이벤트 1&#x27;, description: &#x27;이벤트 2&#x27;, location: &#x27;&#x27;, date: &#x27;2025-07-01&#x27; } as Event,
      {
        title: &#x27;이벤트 2&#x27;,
        description: &#x27;이벤트 3&#x27;,
        location: &#x27;&#x27;,
        date: &#x27;2025-07-02&#x27;,
      } as Event,
      { title: &#x27;이벤트 3&#x27;, description: &#x27;&#x27;, location: &#x27;이벤트 23&#x27;, date: &#x27;2025-07-05&#x27; } as Event,
    ];

    const notContainedEvents = [
      { title: &#x27;파울로 벤투&#x27;, description: &#x27;&#x27;, location: &#x27;&#x27;, date: &#x27;2025-06-30&#x27; } as Event,
      { title: &#x27;&#x27;, description: &#x27;아반테&#x27;, location: &#x27;&#x27;, date: &#x27;2025-07-03&#x27; } as Event,
      { title: &#x27;&#x27;, description: &#x27;이벤트&#x27;, location: &#x27;&#x27;, date: &#x27;2025-10-15&#x27; } as Event,
    ];

    const searchView = &#x27;week&#x27;;
    const filteredEvents = getFilteredEvents(
      [...containedEvents, ...notContainedEvents],
      &#x27;이벤트&#x27;,
      currentDate,
      searchView
    );

    expect(filteredEvents).toHaveLength(3);
    expect(filteredEvents).toMatchObject([
      { title: &#x27;이벤트 1&#x27;, date: &#x27;2025-07-01&#x27; },
      { title: &#x27;이벤트 2&#x27;, date: &#x27;2025-07-02&#x27; },
      { title: &#x27;이벤트 3&#x27;, date: &#x27;2025-07-05&#x27; },
    ]);
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>겹치는 기능이 들어가는 경우 입력 데이터의 제한을 통해 테스트의 독립성을 보장하고자 했습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;검색어에 맞는 이벤트만 필터링해야 한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> dailyMeetingEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;일간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> weeklyMeetingEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> weeklyStudyEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> monthlyMeetingEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;월간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> yearMeetingEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;연간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;검색어가 제목, 설명, 위치 중 하나라도 일치하면 해당 이벤트를 반환해야 한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">  <span class="token keyword">const</span> uncontainedEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;월간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedTitleEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedDescriptionEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> description<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedLocationEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> location<span class="token operator">:</span> <span class="token string">&#x27;주간 회의장&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> description<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> location<span class="token operator">:</span> <span class="token string">&#x27;주간 회의장&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;현재 뷰(주간/월간)에 해당하는 이벤트만 반환해야 한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">  <span class="token keyword">const</span> afterOneDayEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-13&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> afterTwoDayEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-14&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> afterTwoWeekEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-26&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> afterTwoMonthEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-12-12&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-13&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-14&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="
it(&#x27;검색어에 맞는 이벤트만 필터링해야 한다&#x27;, () =&gt; {
  ...

  const dailyMeetingEvent = makeEvent({ title: &#x27;일간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const weeklyMeetingEvent = makeEvent({ title: &#x27;주간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const weeklyStudyEvent = makeEvent({ title: &#x27;주간 스터디&#x27;, date: &#x27;2025-10-15&#x27; });
  const monthlyMeetingEvent = makeEvent({ title: &#x27;월간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const yearMeetingEvent = makeEvent({ title: &#x27;연간 회의&#x27;, date: &#x27;2025-10-15&#x27; });

  ...

  expect(result.current.filteredEvents).toHaveLength(2);
  expect(result.current.filteredEvents).toMatchObject([
    { title: &#x27;주간 회의&#x27; },
    { title: &#x27;주간 스터디&#x27; },
  ]);
});

it(&#x27;검색어가 제목, 설명, 위치 중 하나라도 일치하면 해당 이벤트를 반환해야 한다&#x27;, () =&gt; {
  ...
  const uncontainedEvent = makeEvent({ title: &#x27;월간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedTitleEvent = makeEvent({ title: &#x27;주간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedDescriptionEvent = makeEvent({ description: &#x27;주간 스터디&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedLocationEvent = makeEvent({ location: &#x27;주간 회의장&#x27;, date: &#x27;2025-10-15&#x27; });

  ...

  expect(result.current.filteredEvents).toHaveLength(3);
  expect(result.current.filteredEvents).toMatchObject([
    { title: &#x27;주간 회의&#x27; },
    { description: &#x27;주간 스터디&#x27; },
    { location: &#x27;주간 회의장&#x27; },
  ]);
});

it(&#x27;현재 뷰(주간/월간)에 해당하는 이벤트만 반환해야 한다&#x27;, () =&gt; {
  ...
  const afterOneDayEvent = makeEvent({ date: &#x27;2025-10-13&#x27; });
  const afterTwoDayEvent = makeEvent({ date: &#x27;2025-10-14&#x27; });
  const afterTwoWeekEvent = makeEvent({ date: &#x27;2025-10-26&#x27; });
  const afterTwoMonthEvent = makeEvent({ date: &#x27;2025-12-12&#x27; });

  ...

  expect(result.current.filteredEvents).toHaveLength(2);
  expect(result.current.filteredEvents).toMatchObject([
    { date: &#x27;2025-10-13&#x27; },
    { date: &#x27;2025-10-14&#x27; },
  ]);
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이 때 주의한 것이 특정 테스트에서 잡아내야하는 기능이 다른 테스트의 실패를 유발하지 않게끔 하는 것입니다.</p>
<p>구체적으로는 `제목, 설명, 위치 중 하나가 검색어 필터링이 되지 않는 경우&#x27;가 있다고 가정합니다.
첫번째 테스트에서 제목, 설명, 위치를 모두 필터링하는 경우까지 커버리지를 두지 않고 제목만을 정의해서 필터링해내는지 테스트했습니다.</p>
<p>제목, 설명, 위치 검색을 모두 포함하여 테스트를 돌릴수도 있습니다.
그 상황에서 테스트가 실패한다면 이 테스트가 검색어 필터링을 못하는 것인지, 3가지 조건의 or의 논리가 적용이 안된건지 판단할 수 없기 때문입니다.</p>
<p>하지만 이렇게 단순 검색 테스트에서는 하나의 조건만으로 호출 해두면, 실패했을 시 검색 기능에 문제가 있을 가능성이 높습니다.
그리고 첫번째 테스트를 통과하고 두번째 테스트에서 실패한다면 3가지 조건을 동시에 따지지 못한다고 판단할 수 있습니다.</p>
<p>이에 맞게 팩토리 함수를 이용해서 최소한의 속성 데이터만을 변수로 사용했습니다.</p>
<h4 id="문서로-잘-읽히는-코드"><a class="anchor" aria-hidden="true" tabindex="-1" href="#문서로-잘-읽히는-코드"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>문서로 잘 읽히는 코드</h4>
<p>지난 주차 클린코드를 통해 가독성이 좋고 명시성이 좋은 코드에 대해서 이미 많이 강조가 되었습니다.
테스트 코드는 하나의 문서로서 그 코드를 읽고 이해하는 것이 상대적으로 중요한 코드입니다.
그렇기에 더욱 더 이 특성이 강조됩니다.</p>
<ul>
<li>구체적인 변수명</li>
<li>필요없는 중간 선언 최소화
<ul>
<li>반대로 테스트에서 타게팅 되는 값은 중간선언하여 변수명으로 강조</li>
</ul>
</li>
</ul>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;2025-07-01에 대하여 주간 뷰에서 7월 첫째주의 이벤트만 반환한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token operator">...</span>
</span><span class="code-line">    <span class="token keyword">const</span> searchView <span class="token operator">=</span> <span class="token string">&#x27;week&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> filteredEvents <span class="token operator">=</span> <span class="token function">getFilteredEvents</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>weekDay<span class="token punctuation">,</span> <span class="token operator">...</span>notWeekDay<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> date<span class="token punctuation">,</span> searchView<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">   <span class="token operator">...</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;검색어가 없을 때 뷰의 기간에 해당하는 모든 이벤트를 반환한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token operator">...</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> filteredEvents <span class="token operator">=</span> <span class="token function">getFilteredEvents</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span> currentDate<span class="token punctuation">,</span> <span class="token string">&#x27;week&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token operator">...</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  it(&#x27;2025-07-01에 대하여 주간 뷰에서 7월 첫째주의 이벤트만 반환한다&#x27;, () =&gt; {
    ...
    const searchView = &#x27;week&#x27;;
    const filteredEvents = getFilteredEvents([...weekDay, ...notWeekDay], &#x27;&#x27;, date, searchView);
   ...
  });

  it(&#x27;검색어가 없을 때 뷰의 기간에 해당하는 모든 이벤트를 반환한다&#x27;, () =&gt; {
    ...

    const filteredEvents = getFilteredEvents(events, &#x27;&#x27;, currentDate, &#x27;week&#x27;);

    ...
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>위처럼 getFilteredEvents의 view인자가 중요한 경우에 <code>const searchView = &#x27;week&#x27;</code>로 중간 선언을 해준 반면
view가 week인지 month인지 여부가 강조되지 않는 테스트에서는 &#x27;week&#x27;를 직접적으로 입력했습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;검색어가 제목, 설명, 위치 중 하나라도 일치하면 해당 이벤트를 반환해야 한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> currentDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2025-10-12</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> uncontainedEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;월간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedTitleEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedDescriptionEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> description<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> containedLocationEvent <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> location<span class="token operator">:</span> <span class="token string">&#x27;주간 회의장&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> initialEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">    containedTitleEvent<span class="token punctuation">,</span>
</span><span class="code-line">    containedDescriptionEvent<span class="token punctuation">,</span>
</span><span class="code-line">    containedLocationEvent<span class="token punctuation">,</span>
</span><span class="code-line">    uncontainedEvent<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">renderHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">useSearch</span><span class="token punctuation">(</span>initialEvents<span class="token punctuation">,</span> currentDate<span class="token punctuation">,</span> <span class="token string">&#x27;month&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    result<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">setSearchTerm</span><span class="token punctuation">(</span><span class="token string">&#x27;주간&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>current<span class="token punctuation">.</span>filteredEvents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">&#x27;주간 회의&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> description<span class="token operator">:</span> <span class="token string">&#x27;주간 스터디&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> location<span class="token operator">:</span> <span class="token string">&#x27;주간 회의장&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="it(&#x27;검색어가 제목, 설명, 위치 중 하나라도 일치하면 해당 이벤트를 반환해야 한다&#x27;, () =&gt; {
  const currentDate = new Date(2025, 9, 12); // 2025-10-12

  const uncontainedEvent = makeEvent({ title: &#x27;월간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedTitleEvent = makeEvent({ title: &#x27;주간 회의&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedDescriptionEvent = makeEvent({ description: &#x27;주간 스터디&#x27;, date: &#x27;2025-10-15&#x27; });
  const containedLocationEvent = makeEvent({ location: &#x27;주간 회의장&#x27;, date: &#x27;2025-10-15&#x27; });

  const initialEvents = [
    containedTitleEvent,
    containedDescriptionEvent,
    containedLocationEvent,
    uncontainedEvent,
  ];

  const { result } = renderHook(() =&gt; useSearch(initialEvents, currentDate, &#x27;month&#x27;));
  expect(result.current.filteredEvents).toHaveLength(4);

  act(() =&gt; {
    result.current.setSearchTerm(&#x27;주간&#x27;);
  });

  expect(result.current.filteredEvents).toHaveLength(3);
  expect(result.current.filteredEvents).toMatchObject([
    { title: &#x27;주간 회의&#x27; },
    { description: &#x27;주간 스터디&#x27; },
    { location: &#x27;주간 회의장&#x27; },
  ]);
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>구체적인 변수명을 통해 테스트 코드를 읽을 때 직관적으로 이해할 수 있도록 했습니다.</p>
<h4 id="날짜-생성하는-방식"><a class="anchor" aria-hidden="true" tabindex="-1" href="#날짜-생성하는-방식"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>날짜 생성하는 방식</h4>
<p>관련해서 고민했던 부분이 날짜 생성을 어떻게 할 것인지 였습니다.</p>
<p>옵션은 다음과 같습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">07</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token function">toDate</span><span class="token punctuation">(</span>&#x27;<span class="token number">2025</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">22</span><span class="token punctuation">)</span>
</span></code><div class="copied" data-code="new Date(&#x27;2025-08-22&#x27;)
new Date(2025, 07, 22)
toDate(&#x27;2025-08-22)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>단순하게 보면 toDate를 사용하는 것이 안정적이었지만 직접 작성한 유틸함수의 경우 배제하고자 했습니다.
<code>new Date(2025, 07, 22)</code> 형식을 쓰고 싶었지만 month값이 실제보다 1이 작아 인지에 부하를 준다고 느꼈습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span> <span class="token number">07</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span> <span class="token comment">// 2025-08-22</span>
</span></code><div class="copied" data-code="new Date(2025, 07, 22) // 2025-08-22
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>결론적으로 이와같이 안전한 인자 + 주석으로 가독성을 보장하고자 했습니다.</p>
<h4 id="데이터-관리"><a class="anchor" aria-hidden="true" tabindex="-1" href="#데이터-관리"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>데이터 관리</h4>
<p>앞서 언급한 기준들과 모두 연관이 되어있는 부분이 입력 데이터를 비교하는 것이었습니다.</p>
<p>테스트에 입력될 데이터를 각 테스트 환경 별로 선언해야 하며 이는 테스트 코드 안에 정의되어있어야 바람직하다 생각합니다.
동시에 모든 데이터들을 테스트마다 선언하면 가독성이 떨어지고 복잡도가 높아집니다.</p>
<p>이 부분은 팀원들이 같이 고민하던 부분이고, 멘토링 및 qna 시간을 통해 대안을 얻어낼 수 있었습니다.</p>
<p>독립적인 테스트를 위해 동적으로 바꿔야 하는 데이터 속성 중 일부만을 노출하는 것이 테스트 코드에 적합합니다.
Event라는 인터페이스에서 startTime에 대한 테스트를 할 때 굳이 title, description을 전부 선언하는 것은 여러 문제점을 가집니다</p>
<ul>
<li>필요없는 코드를 작성해야 하기에 생산성이 떨어집니다.</li>
<li>해당 영역에서의 잘못된 입력 혹은 동작으로 본 테스트에서 원하지 않은 에러가 발생할 수 있습니다.</li>
<li>읽을 때 필요없는 코드로 가독성이 하락합니다.</li>
</ul>
<p>이를 해결하기 위해 필요한 속성만을 노출하여 테스트를 할 수 있는 수단은 다음과 같습니다.</p>
<ul>
<li>팩토리 함수를 통한 완성된 데이터 구성</li>
<li>데이터의 일부분만을 선언한 후 타입 체킹을 이용하기</li>
</ul>
<p>먼저 보다 완성된 객체가 필요한 경우에는 팩토리 함수를 이용했습니다.
객체의 일부분만을 인자로 입력하면 다른 값들은 변수를 최소화한 기본값을 넣어주고 입력한 값만 변동된 객체를 반환합니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-10-15&#x27;</span><span class="token punctuation">,</span> startTime<span class="token operator">:</span> <span class="token string">&#x27;09:00&#x27;</span><span class="token punctuation">,</span> notificationTime<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> initialEvents <span class="token operator">=</span> <span class="token function">makeEvents</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  const event = makeEvent({ date: &#x27;2025-10-15&#x27;, startTime: &#x27;09:00&#x27;, notificationTime: 10 });
  const initialEvents = makeEvents(1);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이로써 이 테스트에서 테스트하고자 하는 속성 데이터가 어떤건지 명시할 수 있습니다.
또한 코드의 길이를 줄일 수 있습니다.</p>
<p>보다 간단한 방식은 속성의 일부만을 정의한 후 타입 단언을 통해 자동으로 다른 속성에 대해서는 생략할 수 있는 방식입니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;새 이벤트와 겹치는 모든 이벤트를 반환한다&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> newEvent <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      date<span class="token operator">:</span> <span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      startTime<span class="token operator">:</span> <span class="token string">&#x27;10:00&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      endTime<span class="token operator">:</span> <span class="token string">&#x27;16:00&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">as</span> Event<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> notOverlappedEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;firstNotOverlapped&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">,</span> startTime<span class="token operator">:</span> <span class="token string">&#x27;09:00&#x27;</span><span class="token punctuation">,</span> endTime<span class="token operator">:</span> <span class="token string">&#x27;09:30&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;secondNotOverlapped&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">,</span> startTime<span class="token operator">:</span> <span class="token string">&#x27;17:00&#x27;</span><span class="token punctuation">,</span> endTime<span class="token operator">:</span> <span class="token string">&#x27;18:00&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span> <span class="token keyword">as</span> Event<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> overlappedEvents <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;firstOverlapped&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">,</span> startTime<span class="token operator">:</span> <span class="token string">&#x27;14:00&#x27;</span><span class="token punctuation">,</span> endTime<span class="token operator">:</span> <span class="token string">&#x27;18:00&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;secondOverlapped&#x27;</span><span class="token punctuation">,</span> date<span class="token operator">:</span> <span class="token string">&#x27;2025-08-22&#x27;</span><span class="token punctuation">,</span> startTime<span class="token operator">:</span> <span class="token string">&#x27;06:00&#x27;</span><span class="token punctuation">,</span> endTime<span class="token operator">:</span> <span class="token string">&#x27;12:00&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span> <span class="token keyword">as</span> Event<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token function">findOverlappingEvents</span><span class="token punctuation">(</span>newEvent<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>notOverlappedEvents<span class="token punctuation">,</span> <span class="token operator">...</span>overlappedEvents<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchObject</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;firstOverlapped&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;secondOverlapped&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="  it(&#x27;새 이벤트와 겹치는 모든 이벤트를 반환한다&#x27;, () =&gt; {
    const newEvent = {
      date: &#x27;2025-08-22&#x27;,
      startTime: &#x27;10:00&#x27;,
      endTime: &#x27;16:00&#x27;,
    } as Event;

    const notOverlappedEvents = [
      { id: &#x27;firstNotOverlapped&#x27;, date: &#x27;2025-08-22&#x27;, startTime: &#x27;09:00&#x27;, endTime: &#x27;09:30&#x27; },
      { id: &#x27;secondNotOverlapped&#x27;, date: &#x27;2025-08-22&#x27;, startTime: &#x27;17:00&#x27;, endTime: &#x27;18:00&#x27; },
    ] as Event[];

    const overlappedEvents = [
      { id: &#x27;firstOverlapped&#x27;, date: &#x27;2025-08-22&#x27;, startTime: &#x27;14:00&#x27;, endTime: &#x27;18:00&#x27; },
      { id: &#x27;secondOverlapped&#x27;, date: &#x27;2025-08-22&#x27;, startTime: &#x27;06:00&#x27;, endTime: &#x27;12:00&#x27; },
    ] as Event[];

    expect(
      findOverlappingEvents(newEvent, [...notOverlappedEvents, ...overlappedEvents])
    ).toMatchObject([{ id: &#x27;firstOverlapped&#x27; }, { id: &#x27;secondOverlapped&#x27; }]);
  });
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>필요한 속성만 정의하고 as Event 혹은 as Event[]를 이용합니다.</p>
<p>마찬가지로 필요한 속성만을 사용할 수 있으며 무엇보다 간단합니다.</p>
<p>다른 속성이 정의되지 않은(undefined)된 속성으로 처리됩니다.
이 때문에 완성된 객체를 요구하는 상황에서 실패 지점을 찾지 못하는 문제가 발생할 수 있습니다.
다른 속성을 체크하지 않는 것이 보장된 상황에서 사용하며 그렇지 않은 경우에는 팩토리 함수를 이용합니다.</p>
<p>특히 특정 속성과 비교하는 toMatchObject와 같이 쓸때 효율적으로 사용할 수 있었습니다.</p>
<h4 id="타이머와-렌더링"><a class="anchor" aria-hidden="true" tabindex="-1" href="#타이머와-렌더링"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>타이머와 렌더링</h4>
<p>날짜 데이터를 사용하고 디지털 시간을 이용한 기능들을 구현한 경우 faketimer를 사용해야 합니다.
타이머에 대한 이해도를 높여서, 적절한 시기에 faketimer와 realtimer를 교체하고 시간을 진행시켜야 합니다.</p>
<p>날짜와 관련된 ui 렌더링이 있을 경우 그 중 알맞는 시점에 데이터를 렌더링해야합니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;notificationTime=10이면 10분 전 실제 알림 토스트가 뜬다&#x27;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">...</span><span class="token function">setupMockHandlerCreation</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token function">makeEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        id<span class="token operator">:</span> <span class="token string">&#x27;n1&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        title<span class="token operator">:</span> <span class="token string">&#x27;알림 이벤트&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        date<span class="token operator">:</span> <span class="token string">&#x27;2025-09-01&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        startTime<span class="token operator">:</span> <span class="token string">&#x27;09:00&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        endTime<span class="token operator">:</span> <span class="token string">&#x27;10:00&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        notificationTime<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token function">useFakeTimers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> shouldAdvanceTime<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token function">setSystemTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#x27;2025-09-01T08:49:00&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">render</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">createTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>SnackbarProvider<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>SnackbarProvider<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">within</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">&#x27;event-list&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">await</span> list<span class="token punctuation">.</span><span class="token function">findByText</span><span class="token punctuation">(</span><span class="token string">&#x27;알림 이벤트&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">await</span> <span class="token function">act</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    vi<span class="token punctuation">.</span><span class="token function">advanceTimersByTime</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> alert <span class="token operator">=</span> <span class="token keyword">await</span> screen<span class="token punctuation">.</span><span class="token function">findByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;alert&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveTextContent</span><span class="token punctuation">(</span><span class="token string">&#x27;10분 후 알림 이벤트 일정이 시작됩니다.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">expect</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">&#x27;알림: 10분 전&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token function">clearAllTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  vi<span class="token punctuation">.</span><span class="token function">useRealTimers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="it(&#x27;notificationTime=10이면 10분 전 실제 알림 토스트가 뜬다&#x27;, async () =&gt; {
  server.use(
    ...setupMockHandlerCreation([
      makeEvent({
        id: &#x27;n1&#x27;,
        title: &#x27;알림 이벤트&#x27;,
        date: &#x27;2025-09-01&#x27;,
        startTime: &#x27;09:00&#x27;,
        endTime: &#x27;10:00&#x27;,
        notificationTime: 10,
      }),
    ])
  );

  vi.useFakeTimers({ shouldAdvanceTime: true });
  vi.setSystemTime(new Date(&#x27;2025-09-01T08:49:00&#x27;));

  render(
    &lt;ThemeProvider theme={createTheme()}&gt;
      &lt;SnackbarProvider&gt;
        &lt;App /&gt;
      &lt;/SnackbarProvider&gt;
    &lt;/ThemeProvider&gt;
  );

  const list = within(screen.getByTestId(&#x27;event-list&#x27;));
  await list.findByText(&#x27;알림 이벤트&#x27;);

  await act(async () =&gt; {
    vi.advanceTimersByTime(60000);
  });

  const alert = await screen.findByRole(&#x27;alert&#x27;);
  expect(alert).toHaveTextContent(&#x27;10분 후 알림 이벤트 일정이 시작됩니다.&#x27;);

  expect(list.getByText(&#x27;알림: 10분 전&#x27;)).toBeInTheDocument();

  vi.clearAllTimers();
  vi.useRealTimers();
});

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h4 id="mui의-select를-찾는-이슈"><a class="anchor" aria-hidden="true" tabindex="-1" href="#mui의-select를-찾는-이슈"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>MUI의 select를 찾는 이슈</h4>
<p>중간에 select를 테스트 환경에서 get/find하는 과정에서 어려움이 있었습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line">    <span class="token keyword">const</span> categoryContainer <span class="token operator">=</span> <span class="token keyword">await</span> screen<span class="token punctuation">.</span><span class="token function">findByLabelText</span><span class="token punctuation">(</span><span class="token string">&#x27;카테고리&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> categorySelect <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">within</span><span class="token punctuation">(</span>categoryContainer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;combobox&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>categorySelect<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> workingSelectItem <span class="token operator">=</span> screen<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;option&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#x27;개인-option&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>workingSelectItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> notifyLabel <span class="token operator">=</span> <span class="token keyword">await</span> screen<span class="token punctuation">.</span><span class="token function">findByText</span><span class="token punctuation">(</span><span class="token string">&#x27;알림 설정&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> selector<span class="token operator">:</span> <span class="token string">&#x27;label&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> notifySelect <span class="token operator">=</span> <span class="token function">within</span><span class="token punctuation">(</span>notifyLabel<span class="token punctuation">.</span>parentElement<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;combobox&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>notifySelect<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> notiListbox <span class="token operator">=</span> <span class="token keyword">await</span> screen<span class="token punctuation">.</span><span class="token function">findByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;listbox&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">within</span><span class="token punctuation">(</span>notiListbox<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">&#x27;option&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#x27;1시간 전&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">expect</span><span class="token punctuation">(</span>notifySelect<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveTextContent</span><span class="token punctuation">(</span><span class="token string">&#x27;1시간 전&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="    const categoryContainer = await screen.findByLabelText(&#x27;카테고리&#x27;);
    const categorySelect = await within(categoryContainer).findByRole(&#x27;combobox&#x27;);
    await user.click(categorySelect);
    const workingSelectItem = screen.getByRole(&#x27;option&#x27;, { name: &#x27;개인-option&#x27; });
    await user.click(workingSelectItem);

    const notifyLabel = await screen.findByText(&#x27;알림 설정&#x27;, { selector: &#x27;label&#x27; });
    const notifySelect = within(notifyLabel.parentElement!).getByRole(&#x27;combobox&#x27;);
    await user.click(notifySelect);
    const notiListbox = await screen.findByRole(&#x27;listbox&#x27;);
    await user.click(within(notiListbox).getByRole(&#x27;option&#x27;, { name: &#x27;1시간 전&#x27; }));
    expect(notifySelect).toHaveTextContent(&#x27;1시간 전&#x27;);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>MUI는 포탈을 통해 전역으로 select 아이템을 생성합니다.
그래서 기존의 ui 요소를 찾는 방식으로 findByRole을 했을때 ui를 찾지 못했습니다.</p>
<p>컴포넌트 측에서 labelId–aria-labelledby–id를 엄격히 연결해두면 테스트가 더 단단해지고, within(listbox) 패턴의 안정성이 올라가지만 테스트 코드 내에서 해결하고자 했습니다.</p>
<p>그 대안으로 label을 추적해서 Select 옵션을 생성시킨 후에 전역에서 찾는 방식으로 탐색했습니다.
해당 방식에 대해서는 실제 mui 구현과 비교해봤을 때 들어맞지 않는 부분도 있어서 더 찾아보고자 합니다.</p>
<h3 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h3>
<p>vitest에서 제공하는 다양하고 유연한 메소드들을 많이 사용하지 못했습니다.
쓰던 것만 사용한 느낌이라 더 알고 사용하고자 합니다.</p>
<p>리팩토링과 리팩토링한 부분에 대해 추가 테스트 코드를 작성하는 부분은 시간이 촉박하여 많은 부분 llm을 통해 생성했습니다.
다른 관점으로는 llm으로 생성한 코드를 테스트 코드를 통해 검증하는 앞으로 자주 하게될 작업을 했다고 볼 수 있지만, 직접 해보는 경험도 필요하다 생각해 다른 기회가 된다면 직접 해보고 싶습니다.</p>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
<ul>
<li>중간 선언의 정도
전체적인 테스트의 맥락을 담고 싶은 방향과 필요하지 않은 내용을 최소화하고 싶은 방향이 충돌하는 부분이라고 생각합니다.
테스트에서 주가 되는 부분이 아니라면 중간 선언을 최소화하고 한줄에 많은 동작이 이뤄나게 하고 싶습니다.
동시에 드는 우려는, 그럴 경우 테스트를 읽어나갈 때 흐름을 잃을 수 있지 않을까 하는 것입니다.</li>
</ul>
<p>관련해서 어떻게 생각하시는지 궁금합니다. 또한 이 과제 코드에서 해당 관점에서의 피드백을 주신다면 감사하겠습니다.</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>Q. 중간 선언의 정도 전체적인 테스트의 맥락을 담고 싶은 방향과 필요하지 않은 내용을 최소화하고 싶은 방향이 충돌하는 부분이라고 생각합니다. 테스트에서 주가 되는 부분이 아니라면 중간 선언을 최소화하고 한줄에 많은 동작이 이뤄나게 하고 싶습니다. 동시에 드는 우려는, 그럴 경우 테스트를 읽어나갈 때 흐름을 잃을 수 있지 않을까 하는 것입니다.</p>
<p>A. 두현님 의견이 동의합니다~ 사실 저는 해당테스트에서 중요하거나 생략이 가능한 부분은 실제 코드와 다르더라도 생략을 하는 경우가 많습니다.
예를들어 어떤 함수 5개의 프로퍼티를 인자로 받아서 어떤 결과를 만드는 함수라고 하고,
이번 테스트에서는 프로퍼티중 2개만 필요한 상황이라면 저는 과감하게 필요한 프로퍼티만 넘기고 as 로 캐스팅해버립니다.
중간선언은 아니지만 비슷한 맥락이라고 생각해요.
테스트의 중요한 부분이 더 부각 되서  리더빌리티를 높일 수 있다면 그것이 제일 좋은 것 같습니다.
expect(sum(1,2)).toEqual(3) 과 같이 좀더 실제 테스트 코드가 대상 모듈(함수)의 기능과 역할을 최대한 좁은 영역에서 보여주는게 테스트의 의도를 더 잘 표현한다고 생각합니다.
이 부분이 중요한 것이니까요.</p>
<p>그만큼  리더빌리티는 테스트 대상 모듈 못지 않게 테스트코드에서도 중요합니다.
그래서 반대로 목데이터가 큰 경우 그것을 이번 테스트에서 의미있는 변수명에 담아 씀으로 리더빌리티를 높일 수도 있을 것 같아요.</p>
<p>리더빌리티의 관점에서 그때 그때마다 옳은 것을 선택하면 좋을 것 같습니다~</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
