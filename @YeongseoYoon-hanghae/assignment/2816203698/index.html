<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
    <title>[5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 - 윤영서 | 항해플러스 프론트엔드 6기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 6기] 윤영서님이 제출한 [5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 윤영서, [5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 - 윤영서 | 항해플러스 프론트엔드 6기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 6기] 윤영서님이 제출한 [5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 - 윤영서 | 항해플러스 프론트엔드 6기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 6기] 윤영서님이 제출한 [5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6J8QP7YK1E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6J8QP7YK1E');
  </script>
  <script type="module" crossorigin src="/front_6th/assets/index-B12XiTr6.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><link rel="preload" as="image" href="https://github.com/user-attachments/assets/53f12e81-3ae3-47da-81fb-d863db214872"/><link rel="preload" as="image" href="https://github.com/user-attachments/assets/c4dda679-ce7b-4a68-b06f-ddd55c0ebdf4"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@YeongseoYoon-hanghae/" data-discover="true">YeongseoYoon-hanghae<!-- --> 님의 상세페이지</a> ＞ <!-- -->[5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter4-2/pull/27" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[5팀 윤영서] Chapter 4-2 코드 관점의 성능 최적화</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->YeongseoYoon-hanghae</span><span>2025. 9. 11.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h1 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h1>
<p><a href="https://yeongseoyoon-hanghae.github.io/front_6th_chapter4-2/">마지막 배포링크!!!｡₍ᐢ. .ᐢ₎</a></p>
<h2 id="과제-요구사항"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-요구사항"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 요구사항</h2>
<ul class="contains-task-list">
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 배포 후 url 제출</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> API 호출 최적화(<code>Promise.all</code> 이해)</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> SearchDialog 불필요한 연산 최적화</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> SearchDialog 불필요한 리렌더링 최적화</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 시간표 블록 드래그시 렌더링 최적화</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 시간표 블록 드롭시 렌더링 최적화</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p>아!!! 최적화를 평소에 너무 안해봤다는걸 깨달은 주차...4기땐 진짜 10주차 과제 대충해서... 이번에 너무 힘들었슴다... 10주차까지 이렇게 계속해서 일이 있을줄은....우하하 그래도 뭔가 10주동안 열심히 해온것 같아서 뿌듯하기도 하고 그렇습니당..~
오프코치님은 당연히 보실테고... 준일님도 보시겠죠??
롤링페이퍼에도 썼지만... 코치님들 덕분에 10주 재밌고 알차게 보냈던 것 같습니다. 물론 빡빡한 일정에 포기하고 싶을때도 많았지만.. 준일님이 옆에서 계속 채찍질 해주시고 많이 도와주신 덕분에 정말 많이 배웠어요! 감사했습니다.</p>
<!-- -->
<h3 id="기술적-성장"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기술적-성장"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기술적 성장</h3>
<!-- -->
<h4 id="memo를-슬기롭게-잘-쓰는-법"><a class="anchor" aria-hidden="true" tabindex="-1" href="#memo를-슬기롭게-잘-쓰는-법"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>memo를 슬기롭게 잘 쓰는 법</h4>
<p>memo는 컴포넌트를 메모이제이션 할때 사용하는데, 프로퍼티의 얕은 비교를 통해 리렌더링이 필요한지 판단합니다.</p>
<p>memo를 사용할때의 실수는 부모 컴포넌트에서 객체나 배열, 함수를 직접 생성해서 props로 전달하는 것입니다. 예를 들어
<code>&lt;MyComponent data={{name: &#x27;John&#x27;}} onClick={() =&gt; console.log(&#x27;clicked&#x27;)} /&gt;</code>처럼 작성하면, memo로 감싸놨음에도 불구하고 부모가 리렌더링될 때마다 새로운 객체와 함수가 생성되어 자식 컴포넌트도 항상 리렌더링됩니다.</p>
<p>이 문제를 해결하는 첫 번째 방법은 <code>useMemo</code>와 <code>useCallback</code>을 적절히 활용하는 것입니다. 위의 예시를 올바르게 고치면 <code>const data = useMemo(() =&gt; ({name: &#x27;John&#x27;}), [])</code>와 <code>const handleClick = useCallback(() =&gt; console.log(&#x27;clicked&#x27;), [])</code>로 작성할 수 있습니다. 더 근본적인 해결책은 컴포넌트 설계 자체를 개선하는 것입니다. 복잡한 객체를 통째로 전달하는 대신 필요한 원시값들만 개별적으로 전달하면 memo가 훨씬 효과적으로 작동합니다. <code>&lt;UserCard user={userObject} /&gt;</code>보다는 <code>&lt;UserCard name={user.name} age={user.age} email={user.email} /&gt;</code>처럼 작성하는 게 좋습니다. 이렇게 하면 실제로 변경된 값이 있을 때만 리렌더링이 발생합니다.</p>
<p>함수 props의 경우에는 좀 더 신중하게 접근해야 합니다. 이벤트 핸들러를 부모에서 정의해서 전달하는 경우가 많은데, 이때 <code>useCallback</code>을 무분별하게 사용하기보다는 자식 컴포넌트 내부에서 처리할 수 있는 로직은 최대한 자식에게 맡기는 것이 좋습니다. 단순히 상태를 토글하는 함수라면 자식 컴포넌트에서 직접 구현하고, 부모는 상태값만 전달하는 방식으로 설계하면 불필요한 함수 전달을 피할 수 있게 됩니다.</p>
<p>memo의 두 번째 매개변수인 비교 함수(arePropsEqual)를 커스터마이징하는 것도 유용한 기법입니다. 기본적인 얕은 비교로는 충분하지 않은 경우, 예를 들어 배열의 내용이 같은지 확인하거나 특정 프로퍼티만 비교하고 싶을 때 사용할 수 있습니다.</p>
<p>솔직하게 말해서...시간이 별로 없기도 했고 이번에는 최적화가 주제였어서..^^ 잘 써볼일 없는 arePropsEqual 옵션 좀 써보자!하는 생각에 냅다 arePropsEqual를 갖다 박았습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">BasicFilter</span> <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token punctuation">{</span> query<span class="token punctuation">,</span> credits<span class="token punctuation">,</span> onChangeSearchOption <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">Props</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HStack</span></span> <span class="token attr-name">spacing</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">검색어</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>과목명 또는 과목코드<span class="token punctuation">&quot;</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>query<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">onChangeSearchOption</span><span class="token punctuation">(</span><span class="token string">&quot;query&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormControl</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">학점</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>credits<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">onChangeSearchOption</span><span class="token punctuation">(</span><span class="token string">&quot;credits&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">          <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">전체</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1학점</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2학점</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">3학점</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormControl</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">HStack</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> nextProps<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      prevProps<span class="token punctuation">.</span><span class="token property-access">query</span> <span class="token operator">===</span> nextProps<span class="token punctuation">.</span><span class="token property-access">query</span> <span class="token operator">&amp;&amp;</span>
</span><span class="code-line">      prevProps<span class="token punctuation">.</span><span class="token property-access">credits</span> <span class="token operator">===</span> nextProps<span class="token punctuation">.</span><span class="token property-access">credits</span> <span class="token operator">&amp;&amp;</span>
</span><span class="code-line">      prevProps<span class="token punctuation">.</span><span class="token property-access">onChangeSearchOption</span> <span class="token operator">===</span> nextProps<span class="token punctuation">.</span><span class="token property-access">onChangeSearchOption</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">BasicFilter</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const BasicFilter = memo(
  ({ query, credits, onChangeSearchOption }: Props) =&gt; {
    return (
      &lt;HStack spacing={4}&gt;
        &lt;FormControl&gt;
          &lt;FormLabel&gt;검색어&lt;/FormLabel&gt;
          &lt;Input
            placeholder=&quot;과목명 또는 과목코드&quot;
            value={query}
            onChange={(e) =&gt; onChangeSearchOption(&quot;query&quot;, e.target.value)}
          /&gt;
        &lt;/FormControl&gt;

        &lt;FormControl&gt;
          &lt;FormLabel&gt;학점&lt;/FormLabel&gt;
          &lt;Select
            value={credits}
            onChange={(e) =&gt; onChangeSearchOption(&quot;credits&quot;, e.target.value)}
          &gt;
            &lt;option value=&quot;&quot;&gt;전체&lt;/option&gt;
            &lt;option value=&quot;1&quot;&gt;1학점&lt;/option&gt;
            &lt;option value=&quot;2&quot;&gt;2학점&lt;/option&gt;
            &lt;option value=&quot;3&quot;&gt;3학점&lt;/option&gt;
          &lt;/Select&gt;
        &lt;/FormControl&gt;
      &lt;/HStack&gt;
    );
  },
  (prevProps, nextProps) =&gt; {
    return (
      prevProps.query === nextProps.query &amp;&amp;
      prevProps.credits === nextProps.credits &amp;&amp;
      prevProps.onChangeSearchOption === nextProps.onChangeSearchOption
    );
  }
);

export default BasicFilter;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>이렇게 하니까 렌더링 최적화 관련해서는 그냥 별 생각안하고 메모이제이션 해버리자!는 생각해 편하더라고요..ㅎㅎ..</p>
<h4 id="chakra-vs-직접-스타일링하기"><a class="anchor" aria-hidden="true" tabindex="-1" href="#chakra-vs-직접-스타일링하기"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Chakra vs 직접 스타일링하기</h4>
<p>처음엔 Chakra로 되어있는 코드의 일부를 최대한 원본과 동일하게 스타일링해보았습니다.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token constant">BASE_CELL_STYLE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  paddingInlineStart<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-4, 1rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingInlineEnd<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-4, 1rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingTop<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-2, 0.5rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingBottom<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-2, 0.5rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  fontSize<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-fontSizes-sm, 0.875rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  verticalAlign<span class="token operator">:</span> <span class="token string">&quot;middle&quot;</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line">  textAlign<span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">BUTTON_STYLE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  transition<span class="token operator">:</span> <span class="token string">&quot;all 0.15s ease&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  fontSize<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-fontSizes-sm, 0.875rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  background<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-colors-green-500, #38A169)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  color<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-colors-white, #FFFFFF)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingInlineStart<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-4, 1rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingInlineEnd<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-4, 1rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingTop<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-2, 0.5rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  paddingBottom<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-space-2, 0.5rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  borderRadius<span class="token operator">:</span> <span class="token string">&quot;var(--chakra-radii-md, 0.375rem)&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 중략</span>
</span><span class="code-line">    <span class="token keyword">const</span> cellStyles <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        id<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;100px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        grade<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;50px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        title<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;200px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        credits<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;50px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        major<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;150px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        schedule<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;150px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        button<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token constant">BASE_CELL_STYLE</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;80px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>grade<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>grade<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>credits<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>credits<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td
</span><span class="code-line">          style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>major<span class="token punctuation">}</span>
</span><span class="code-line">          dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> major <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td
</span><span class="code-line">          style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>schedule<span class="token punctuation">}</span>
</span><span class="code-line">          dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token operator">:</span> schedule <span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>td style<span class="token operator">=</span><span class="token punctuation">{</span>cellStyles<span class="token punctuation">.</span>button<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>button
</span><span class="code-line">            className<span class="token operator">=</span><span class="token string">&quot;chakra-button&quot;</span>
</span><span class="code-line">            style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token constant">BUTTON_STYLE</span><span class="token punctuation">}</span>
</span><span class="code-line">            onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleAddClick<span class="token punctuation">}</span>
</span><span class="code-line">          <span class="token operator">&gt;</span>
</span><span class="code-line">            추가
</span><span class="code-line">          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">
</span><span class="code-line">
</span></code><div class="copied" data-code="const BASE_CELL_STYLE = {
  paddingInlineStart: &quot;var(--chakra-space-4, 1rem)&quot;,
  paddingInlineEnd: &quot;var(--chakra-space-4, 1rem)&quot;,
  paddingTop: &quot;var(--chakra-space-2, 0.5rem)&quot;,
  paddingBottom: &quot;var(--chakra-space-2, 0.5rem)&quot;,
  fontSize: &quot;var(--chakra-fontSizes-sm, 0.875rem)&quot;,
  verticalAlign: &quot;middle&quot; as const,
  textAlign: &quot;left&quot; as const,
};

const BUTTON_STYLE = {
  transition: &quot;all 0.15s ease&quot;,
  fontSize: &quot;var(--chakra-fontSizes-sm, 0.875rem)&quot;,
  background: &quot;var(--chakra-colors-green-500, #38A169)&quot;,
  color: &quot;var(--chakra-colors-white, #FFFFFF)&quot;,
  paddingInlineStart: &quot;var(--chakra-space-4, 1rem)&quot;,
  paddingInlineEnd: &quot;var(--chakra-space-4, 1rem)&quot;,
  paddingTop: &quot;var(--chakra-space-2, 0.5rem)&quot;,
  paddingBottom: &quot;var(--chakra-space-2, 0.5rem)&quot;,
  borderRadius: &quot;var(--chakra-radii-md, 0.375rem)&quot;,
} as const;


// 중략
    const cellStyles = useMemo(
      () =&gt; ({
        id: { ...BASE_CELL_STYLE, width: &quot;100px&quot; },
        grade: { ...BASE_CELL_STYLE, width: &quot;50px&quot; },
        title: { ...BASE_CELL_STYLE, width: &quot;200px&quot; },
        credits: { ...BASE_CELL_STYLE, width: &quot;50px&quot; },
        major: { ...BASE_CELL_STYLE, width: &quot;150px&quot; },
        schedule: { ...BASE_CELL_STYLE, width: &quot;150px&quot; },
        button: { ...BASE_CELL_STYLE, width: &quot;80px&quot; },
      }),
      []
    );

    return (
      &lt;tr&gt;
        &lt;td style={cellStyles.id}&gt;{id}&lt;/td&gt;
        &lt;td style={cellStyles.grade}&gt;{grade}&lt;/td&gt;
        &lt;td style={cellStyles.title}&gt;{title}&lt;/td&gt;
        &lt;td style={cellStyles.credits}&gt;{credits}&lt;/td&gt;
        &lt;td
          style={cellStyles.major}
          dangerouslySetInnerHTML={{ __html: major }}
        /&gt;
        &lt;td
          style={cellStyles.schedule}
          dangerouslySetInnerHTML={{ __html: schedule }}
        /&gt;
        &lt;td style={cellStyles.button}&gt;
          &lt;button
            className=&quot;chakra-button&quot;
            style={BUTTON_STYLE}
            onClick={handleAddClick}
          &gt;
            추가
          &lt;/button&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    );
  },


"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><code>useMemo</code>로 스타일 객체를 한 번만 계산해서 캐싱하도록 구현했는데요, 상위 코드처럼 직접 스타일링 방식에서는 스타일 객체들이 컴포넌트 마운트 시점에 한 번만 계산되고, 이후 렌더링에서는 단순히 참조만 전달하면 됩니다. 하지만 Chakra UI의 Td,Tr 등의 컴포넌트는 매번 렌더링될 때마다 theme 값들을 참조하고, props를 처리하고, 스타일을 계산하는 과정을 거쳐야 하고, 이런 계산은 행의 수가 늘어나면 늘어날 수록 무거워집니다.</p>
<p>또 Chakra UI 컴포넌트들은 각각이 React 컴포넌트 인스턴스를 생성하고, 내부적으로 여러 hooks를 사용하면서 추가적인 메모리를 소비하는데 직접 스타일링은 순수한 DOM 요소만 생성하므로 메모리 효율성이 높습니다.</p>
<p>물론 제가 만드는 프로덕트에서는 DX관점에서 생각해보았을때 이미 디자인 시스템이 존재하기때문에 굳이 라이브러리를 사용할 필요가 없기도하고, 이미 런타임 계산 비용등으로 인해 테일윈드로 전환해가고 있어서 Chakra를 사용하고 있진 않지만 간단하게 만들 수 있다는 점을 고려하면 Chakra를 고려해봄직 하다고는 생각이 듭니다.(노가다로 똑같은 스타일을 만들기 위해서 해보니...할만한게 못된다 생각...)</p>
<h4 id="dnd--popover컨텍스트-ui의-상호작용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dnd--popover컨텍스트-ui의-상호작용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>DnD × Popover(컨텍스트 UI)의 상호작용</h4>
<p>Popover 컴포넌트는 내부적으로 Context를 사용하고 있는데요. <a href="https://github.com/chakra-ui/chakra-ui/blob/main/packages/react/src/components/popover/popover.tsx">https://github.com/chakra-ui/chakra-ui/blob/main/packages/react/src/components/popover/popover.tsx</a></p>
<pre><code class="code-highlight"><span class="code-line">export const PopoverAnchor = withContext&lt;HTMLDivElement, PopoverAnchorProps&gt;(
</span><span class="code-line">  ArkPopover.Anchor,
</span><span class="code-line">  undefined,
</span><span class="code-line">  { forwardAsChild: true },
</span><span class="code-line">)
</span><span class="code-line">
</span><span class="code-line">////////////////////////////////////////////////////////////////////////////////////
</span><span class="code-line">
</span><span class="code-line">export const PopoverContext = ArkPopover.Context
</span></code><div class="copied" data-code="export const PopoverAnchor = withContext&lt;HTMLDivElement, PopoverAnchorProps&gt;(
  ArkPopover.Anchor,
  undefined,
  { forwardAsChild: true },
)

////////////////////////////////////////////////////////////////////////////////////

export const PopoverContext = ArkPopover.Context
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>문제는 이렇게 context를 사용하면 상위 컴포넌트가 리렌더될 때마다 Provider의 모든 소비자들이 함께 리렌더된다는 점입니다.</p>
<p><a href="https://github.com/user-attachments/assets/04fc46c7-e345-46ad-aa94-80114a183de9">https://github.com/user-attachments/assets/04fc46c7-e345-46ad-aa94-80114a183de9</a></p>
<p>영상에 보이는 것처럼, 좌측 상단에 popover가 계속해서 렌더링 되고있는 것을 확인할 수 있는데요. DnD 중 transform이 자주 바뀌어 상위가 리렌더되는 상황과 충돌하기 때문에 해당 popover가 보이는게 아닌데도 계속해서 저렇게 렌더링 되는..고런 상황이 되어부렀습니다...</p>
<p>그래서 이를 해결하기 위해서 다음과 같은 방법을 사용했습니다.</p>
<pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> onOpen<span class="token punctuation">,</span> onClose <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDisclosure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Popover</span></span> <span class="token attr-name">isOpen</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span></span> <span class="token attr-name">onOpen</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onOpen<span class="token punctuation">}</span></span> <span class="token attr-name">onClose</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span> <span class="token attr-name">isLazy</span> <span class="token attr-name">lazyBehavior</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>unmount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PopoverTrigger</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ... </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">PopoverTrigger</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token punctuation">{</span>isOpen <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DeleteConfirmation</span></span> <span class="token attr-name">onConfirm</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleConfirm<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Popover</span></span><span class="token punctuation">&gt;</span></span>
</span></code><div class="copied" data-code="const { isOpen, onOpen, onClose } = useDisclosure();

&lt;Popover isOpen={isOpen} onOpen={onOpen} onClose={onClose} isLazy lazyBehavior=&quot;unmount&quot;&gt;
  &lt;PopoverTrigger&gt; ... &lt;/PopoverTrigger&gt;
  {isOpen &amp;&amp; &lt;DeleteConfirmation onConfirm={handleConfirm} /&gt;}
&lt;/Popover&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>Chakra가 제공하는 <code>useDisclosure</code>로 열림/닫힘을 제어하고, <code>isLazy + lazyBehavior=&quot;unmount&quot; + {isOpen &amp;&amp; &lt;Content/&gt;}</code> 조합으로 닫히면 완전 언마운트하도록 구현했습니다. 그래서 닫혀 있을 때는 DOM/컨텍스트 자체가 존재하지 않아 리렌더가 되지 않기를 기대하고 구현했는데요.</p>
<p><a href="https://github.com/user-attachments/assets/5de951f9-3376-402d-8d58-533c2f3ad3df">https://github.com/user-attachments/assets/5de951f9-3376-402d-8d58-533c2f3ad3df</a></p>
<p>보이는 것처럼 좌측 상단의 popover가 보이지 않는 것을 확인할 수 있었습니다!!!! 🥹 사실 단순하게 그냥 isOpen 상태만 둬도 될뻔했는데, 상위에서 전달되는 값때문에 계속 렌더링이 일어나는 줄 알고 엄청난 삽질을 한...</p>
<h4 id="key의-불안정성을-없애자"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key의-불안정성을-없애자"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>key의 불안정성을 없애자</h4>
<p>react를 사용하는 개발자라면 &quot;리스트 렌더링 시 key를 잘 부여해야 한다&quot;는 사실은 잘 알고 있을 텐데요. 이번 과제 같은 경우에는 DnD가 있어 예상치 못한 성능 문제가 발생했습니다. 특히 index를 key로 사용한 리스트에서 순서 변경이 일어나니 엄청난 리렌더링이 발생하는것을 확인했습니다.</p>
<pre><code class="code-highlight"><span class="code-line">// 드래그 전 상태
</span><span class="code-line">const schedules = [
</span><span class="code-line">  { id: &#x27;A&#x27;, title: &#x27;수학&#x27; },     // key=0
</span><span class="code-line">  { id: &#x27;B&#x27;, title: &#x27;영어&#x27; },     // key=1  ← 이것을 드래그
</span><span class="code-line">  { id: &#x27;C&#x27;, title: &#x27;과학&#x27; },     // key=2
</span><span class="code-line">  { id: &#x27;D&#x27;, title: &#x27;역사&#x27; },     // key=3
</span><span class="code-line">];
</span><span class="code-line">
</span><span class="code-line">// 드래그 후 상태  
</span><span class="code-line">const newSchedules = [
</span><span class="code-line">  { id: &#x27;A&#x27;, title: &#x27;수학&#x27; },     // key=0 (변화없음)
</span><span class="code-line">  { id: &#x27;C&#x27;, title: &#x27;과학&#x27; },     // key=1 ← 🚨 이전에 key=2였던 컴포넌트
</span><span class="code-line">  { id: &#x27;D&#x27;, title: &#x27;역사&#x27; },     // key=2 ← 🚨 이전에 key=3이었던 컴포넌트  
</span><span class="code-line">  { id: &#x27;B&#x27;, title: &#x27;영어&#x27; },     // key=3 ← 🚨 이전에 key=1이었던 컴포넌트
</span><span class="code-line">];
</span></code><div class="copied" data-code="// 드래그 전 상태
const schedules = [
  { id: &#x27;A&#x27;, title: &#x27;수학&#x27; },     // key=0
  { id: &#x27;B&#x27;, title: &#x27;영어&#x27; },     // key=1  ← 이것을 드래그
  { id: &#x27;C&#x27;, title: &#x27;과학&#x27; },     // key=2
  { id: &#x27;D&#x27;, title: &#x27;역사&#x27; },     // key=3
];

// 드래그 후 상태  
const newSchedules = [
  { id: &#x27;A&#x27;, title: &#x27;수학&#x27; },     // key=0 (변화없음)
  { id: &#x27;C&#x27;, title: &#x27;과학&#x27; },     // key=1 ← 🚨 이전에 key=2였던 컴포넌트
  { id: &#x27;D&#x27;, title: &#x27;역사&#x27; },     // key=2 ← 🚨 이전에 key=3이었던 컴포넌트  
  { id: &#x27;B&#x27;, title: &#x27;영어&#x27; },     // key=3 ← 🚨 이전에 key=1이었던 컴포넌트
];
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>위처럼 두번째의 값을 네번째로 옮기게되면, key값이 달라지게 되는데요.
React는</p>
<ul>
<li>key=1 컴포넌트가 &quot;영어&quot;에서 &quot;과학&quot;으로 바뀌었다고 생각</li>
<li>key=2 컴포넌트가 &quot;과학&quot;에서 &quot;역사&quot;로 바뀌었다고 생각</li>
<li>key=3 컴포넌트가 &quot;역사&quot;에서 &quot;영어&quot;로 바뀌었다고 생각
위처럼 생각하게 됩니다. 실제로는 컴포넌트들이 위치만 바뀌었을 뿐인데, 내용이 변경된 것으로 잘못 인식합니다. 이번 과제에서도 index를 통해서 key값을 지정하는 부분이 있어 이를 고유한 키값을 가질 수 있도록 변경하였습니다.</li>
</ul>
<h3 id="코드-품질"><a class="anchor" aria-hidden="true" tabindex="-1" href="#코드-품질"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>코드 품질</h3>
<!-- -->
<p>코드의 전체적인 품질은 사실...최적화를 정말 무거운 계산에만 useMemo를 하는게 아니면 잘 해보지 않아서...마음에 들진 않습니다. 그리고 항상 논란이 되는 주제인 &#x27;메모를 언제 해야하는가&#x27;에 대해서도 의문이 있는 편이라, 이번에는 최적화 과제이니 만큼 열심히 메모이제이션 하긴했지만 리렌더링이 그렇게까지 나쁜가? 얼마나 최적화를 해야하는가? 에 대해서는 계속 궁금합니다.</p>
<p>암튼 코드 품질 보다는 계속해서 해결하려고 했던 리렌더를 잘 해결한 것 같아서 뿌듯합니다.</p>
<h4 id="모달이-닫힐때-리렌더가-일어나는-부분-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#모달이-닫힐때-리렌더가-일어나는-부분-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>모달이 닫힐때 리렌더가 일어나는 부분 해소</h4>
<p><a href="https://github.com/user-attachments/assets/4edeed59-037a-4e38-836c-17cd17fc2676">https://github.com/user-attachments/assets/4edeed59-037a-4e38-836c-17cd17fc2676</a></p>
<h4 id="시간표-추가시-해당-테이블에만-리렌더-발생하도록-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#시간표-추가시-해당-테이블에만-리렌더-발생하도록-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>시간표 추가시 해당 테이블에만 리렌더 발생하도록 해소</h4>
<p><a href="https://github.com/user-attachments/assets/2f1302e2-7c70-48f8-87f0-ea4407ade2f6">https://github.com/user-attachments/assets/2f1302e2-7c70-48f8-87f0-ea4407ade2f6</a></p>
<h4 id="시간표-복제시-불필요한-리렌더-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#시간표-복제시-불필요한-리렌더-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>시간표 복제시 불필요한 리렌더 해소</h4>
<p><a href="https://github.com/user-attachments/assets/011c2265-8f6d-4c7b-b0c0-802daa966d52">https://github.com/user-attachments/assets/011c2265-8f6d-4c7b-b0c0-802daa966d52</a></p>
<h4 id="시간표-삭제시-불필요한-리렌더-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#시간표-삭제시-불필요한-리렌더-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>시간표 삭제시 불필요한 리렌더 해소</h4>
<p><a href="https://github.com/user-attachments/assets/464e378f-2888-4bdc-a99e-897add85fb2d">https://github.com/user-attachments/assets/464e378f-2888-4bdc-a99e-897add85fb2d</a></p>
<h4 id="dnd-시-불필요한-리렌더-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#dnd-시-불필요한-리렌더-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>dnd 시 불필요한 리렌더 해소</h4>
<p><a href="https://github.com/user-attachments/assets/5c076571-acf8-43bb-9d43-b4e8fe86abda">https://github.com/user-attachments/assets/5c076571-acf8-43bb-9d43-b4e8fe86abda</a></p>
<h4 id="시간표-모달내에서-상태-변경시-불필요한-리렌더-해소"><a class="anchor" aria-hidden="true" tabindex="-1" href="#시간표-모달내에서-상태-변경시-불필요한-리렌더-해소"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>시간표 모달내에서 상태 변경시 불필요한 리렌더 해소</h4>
<p><a href="https://github.com/user-attachments/assets/a414c10e-0dbe-462f-adad-c7cce95c7f52">https://github.com/user-attachments/assets/a414c10e-0dbe-462f-adad-c7cce95c7f52</a></p>
<h3 id="학습-효과-분석"><a class="anchor" aria-hidden="true" tabindex="-1" href="#학습-효과-분석"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>학습 효과 분석</h3>
<!-- -->
<h4 id="중복-제거와-promiseall-올바른-활용법"><a class="anchor" aria-hidden="true" tabindex="-1" href="#중복-제거와-promiseall-올바른-활용법"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>중복 제거와 Promise.all 올바른 활용법</h4>
<p>처음 api의 호출부분은 다음과 같이 되어있었는데요.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">fetchAllLectures</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 1&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 2&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchLiberalArts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 3&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 4&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchLiberalArts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 5&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">(</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;API Call 6&#x27;</span><span class="token punctuation">,</span> <span class="token dom variable">performance</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchLiberalArts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const fetchAllLectures = async () =&gt; await Promise.all([
  (console.log(&#x27;API Call 1&#x27;, performance.now()), await fetchMajors()),
  (console.log(&#x27;API Call 2&#x27;, performance.now()), await fetchLiberalArts()),
  (console.log(&#x27;API Call 3&#x27;, performance.now()), await fetchMajors()),
  (console.log(&#x27;API Call 4&#x27;, performance.now()), await fetchLiberalArts()),
  (console.log(&#x27;API Call 5&#x27;, performance.now()), await fetchMajors()),
  (console.log(&#x27;API Call 6&#x27;, performance.now()), await fetchLiberalArts()),
]);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>겉보기에는 Promise.all을 사용해 병렬 처리를 하는 것처럼 보이지만, 실제로는 두 가지 문제를 가지고 있습니다.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// await를 Promise.all 내부에서 사용</span>
</span><span class="code-line"><span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">fetchLiberalArts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
</span><span class="code-line">  <span class="token keyword control-flow">await</span> <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Promise 객체들을 배열로 전달</span>
</span><span class="code-line"><span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      
</span><span class="code-line">  <span class="token function">fetchLiberalArts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
</span><span class="code-line">  <span class="token function">fetchMajors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// await를 Promise.all 내부에서 사용
await Promise.all([
  await fetchMajors(),      
  await fetchLiberalArts(), 
  await fetchMajors(),    
  // ...
]);

// Promise 객체들을 배열로 전달
await Promise.all([
  fetchMajors(),      
  fetchLiberalArts(), 
  fetchMajors(),      
  // ...
]);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>지금은 내부적으로 await 키워드를 사용하고 있는데, 내부적으로 await을 사용하는게 아니라 외부에만 선언하고, 내부적으로는 Promise 객체들을 배열로 전달하는것이 옳은 사용방식입니다. 잘못 사용한 방식은 각 API가 순차 실행되고, 올바르게 사용하면 모든 API가 병렬적으로 실행됩니다.</p>
<p>또한 지금과 같은 경우에는 의도적으로 동일한 데이터를 여러 번 요청하고 있는데요.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">createCachedFetch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> promiseCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token generic-function"><span class="token function">async</span> <span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
</span><span class="code-line">    key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function-variable function">fetchFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">    callNumber<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>promiseCache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">API Call </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>callNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">return</span> promiseCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">API Call </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>callNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">fetchFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        promiseCache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    promiseCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> promise <span class="token keyword">as</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code><div class="copied" data-code="export const createCachedFetch = () =&gt; {
  const promiseCache = new Map&lt;string, Promise&lt;unknown&gt;&gt;();

  return async &lt;T&gt;(
    key: string,
    fetchFn: () =&gt; Promise&lt;T&gt;,
    callNumber: number
  ): Promise&lt;T&gt; =&gt; {
    if (promiseCache.has(key)) {
      console.log(`API Call ${callNumber}`, performance.now());
      return promiseCache.get(key) as Promise&lt;T&gt;;
    }

    console.log(`API Call ${callNumber}`, performance.now());
    const promise = fetchFn()
      .then((result) =&gt; {
        return result;
      })
      .catch((error) =&gt; {
        promiseCache.delete(key);
        throw error;
      });

    promiseCache.set(key, promise as Promise&lt;unknown&gt;);
    return promise;
  };
};

"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>때문에 이미 호출했는지를 Promise 객체 자체로 캐싱해두고 다음번에 캐싱된 데이터를 제공하기 위한 유틸을 구현했습니다.</p>
<p><strong>before</strong>
<img width="531" height="184" alt="Pasted Graphic 2" src="https://github.com/user-attachments/assets/53f12e81-3ae3-47da-81fb-d863db214872"/></p>
<p><strong>after</strong>
<img width="534" height="182" alt="Pasted Graphic 3" src="https://github.com/user-attachments/assets/c4dda679-ce7b-4a68-b06f-ddd55c0ebdf4"/></p>
<h3 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h3>
<!-- -->
<p>최적화를 통해 리렌더를 적게 발생시켜라라는 과제의 목표가 너무 명확해서..딱히 없는 것 같습니다!</p>
<h2 id="리뷰-받고-싶은-내용"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용</h2>
<ol>
<li>코치님은 실무에서 메모이제이션을 자주 하시는 편이신가요? 그에 대해서도 갑론을박이 있는데, 코치님은 dx 비용을 위해 전체적으로 다 메모이션하는 것을 선택하시는 편인지, 아니면 최소한의 부분에 대해서만 메모이제이션 하시는 편이신지도 궁금합니다.</li>
<li>이전에 코치님께서 번역하신 글중에 <a href="https://junghan92.medium.com/%EC%98%A4%EB%8A%98-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B4%A4%EB%8A%94%EB%8D%B0-%EC%96%B4%EB%95%A0%EC%9D%84-%EA%B2%83-%EA%B0%99%EB%82%98%EC%9A%94-ece57f076b02">리액트 컴파일러에 대해서 번역하신 글</a>을 본적 있는데요. 실무에서 컴파일러 사용하고 계신가요??? 이번에 메모이제이션하면서 너무 애를 먹었는데...컴파일러가 이런 부분에 대해서 해소할 수 있을 것이라고 기대하시는지도..궁금합니다.(리액트 팀은 그러하다고 말하긴 하지만요)</li>
</ol>
</div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>고생하셨습니다~ 벌써 마지막 과제네요.
모든 일에 있어서 처음부터 끝까지 한결같이 열심히 하기 어려운데, 정말 잘 마무리 해주신 것 같습니다. 멋져요.
과제 전반에 있어서는 당연히 잘 해주셨고, 성능 최적화 관점에서 잘 주셨습니다. 말씀해주신것처럼 성능 최적화라는건 늘 예방을 위해 하는 작업이 아니라 문제가 발생했을 때 해야하는 세부적인 작업이라고 생각해요. 그리고 늘 이런 작업들이 하나하나 개별로 봤을때는 엄청난 작업은 아니지만 티끌모아태산이 되는 작업이 성능 최적화라고 생각합니다. 단순히 1~2ms 가 줄어들더라도 그런 관점에서 FE개발자는 계속 고민을 해야 하는 직군인것 같아요.</p>
<blockquote>
<p>코치님은 실무에서 메모이제이션을 자주 하시는 편이신가요? 그에 대해서도 갑론을박이 있는데, 코치님은 dx 비용을 위해 전체적으로 다 메모이션하는 것을 선택하시는 편인지, 아니면 최소한의 부분에 대해서만 메모이제이션 하시는 편이신지도 궁금합니다.</p>
</blockquote>
<p>늘 이야기하지만 성능 최적화 관점에서는 명확하게 성능적인 이슈가 발생하는 것이 자명하지 않으면 문제가 발생하기 전에는 최적화를 진행하지 않는 편인것 같아요. 메모이제이션 관점에 있어서도 이미 리액트 측에서 최적화를 제공해주는 부분이 있고 이미 알고 있겠지만 디버깅이 어려워지는 명확한 부분이 있기 때문에 최소화 하는 편입니다.</p>
<blockquote>
<p>이전에 코치님께서 번역하신 글중에 리액트 컴파일러에 대해서 번역하신 글을 본적 있는데요. 실무에서 컴파일러 사용하고 계신가요??? 이번에 메모이제이션하면서 너무 애를 먹었는데...컴파일러가 이런 부분에 대해서 해소할 수 있을 것이라고 기대하시는지도..궁금합니다.(리액트 팀은 그러하다고 말하긴 하지만요)</p>
</blockquote>
<p>프로덕션 레벨에 이걸 적용할 수 있는 용기있는 회사가 있을까 싶네요 ㅎㅎ
당연히 리액트 팀에서는 그걸 목표로 달리고 있지만, 초기 발표에서는 저는 대체할 수 없는 별도의 프로젝트라고 생각했습니다. 근데 그 이후 지속적인 발표에 있어서는 어느정도 커버가 가능할 수 있겠다라는 생각은 드는것 같아요. 그럼에도 각각 어떤 목적에서 써야하는지 이해하는건 계속되지 않을까..라고 예측만 하고 있습니다. 관련해서 아직 정식 배포가 아니기 때문에 추적하면서 공부를 해보는건 좋은것 같아요.</p>
<p>고생하셨고 앞으로의 개발 인생도 화이팅하세요!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
