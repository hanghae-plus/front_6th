<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
    <title>[8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 - 현지수 | 항해플러스 프론트엔드 6기</title>
    <meta name="description" content=" [항해플러스 프론트엔드 6기] 현지수님이 제출한 [8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="keywords" content="항해플러스, 프론트엔드, 개발자교육, React, TypeScript, JavaScript, 기술면접, 웹개발, 현지수, [8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍, 과제상세, 코드리뷰, 피드백, Pull Request" />
    <meta property="og:title" content="[8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 - 현지수 | 항해플러스 프론트엔드 6기" />
    <meta property="og:description" content=" [항해플러스 프론트엔드 6기] 현지수님이 제출한 [8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta property="og:image" content="/defaultThumbnail.jpg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="[8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 - 현지수 | 항해플러스 프론트엔드 6기" />
    <meta name="twitter:description" content=" [항해플러스 프론트엔드 6기] 현지수님이 제출한 [8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍 과제를 확인하세요. 코드 구현, 문제 해결 과정, 피드백 내용을 상세히 살펴볼 수 있습니다." />
    <meta name="twitter:image" content="/defaultThumbnail.jpg" />
  
  <script type="module" crossorigin src="/front_6th/assets/index-DtEqFcg_.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-BXO68frB.css">
</head>
<body>
<div id="root"><link rel="preload" as="image" href="https://github.com/user-attachments/assets/649f21c1-30d6-4221-9a57-381235dc1c95"/><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@hyunzsu/" data-discover="true">hyunzsu<!-- --> 님의 상세페이지</a> ＞ <!-- -->[8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-2/pull/35" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[8팀 현지수] Chapter 2-2. 디자인 패턴과 함수형 프로그래밍</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->hyunzsu</span><span>2025. 8. 5.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제의-핵심취지"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제의-핵심취지"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제의 핵심취지</h2>
<ul>
<li>React의 hook 이해하기</li>
<li>함수형 프로그래밍에 대한 이해</li>
<li>액션과 순수함수의 분리</li>
</ul>
<h2 id="과제에서-꼭-알아가길-바라는-점"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제에서-꼭-알아가길-바라는-점"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제에서 꼭 알아가길 바라는 점</h2>
<ul>
<li>엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup</li>
<li>엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()</li>
<li>엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등</li>
<li>엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)</li>
</ul>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li>
<p>Component에서 비즈니스 로직을 분리하기</p>
</li>
<li>
<p>비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기</p>
</li>
<li>
<p>뷰데이터와 엔티티데이터의 분리에 대한 이해</p>
</li>
<li>
<p>entities -&gt; features -&gt; UI 계층에 대한 이해</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 계산함수는 순수함수로 작성이 되었나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 함수는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?</p>
</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li>
<p>재사용 가능한 Custom UI 컴포넌트를 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 라이브러리 Hook을 만들어 보기</p>
</li>
<li>
<p>재사용 가능한 Custom 유틸 함수를 만들어 보기</p>
</li>
<li>
<p>그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled="" checked=""/> 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?</p>
</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p><a href="https://hyunzsu.github.io/front_6th_chapter2-2/">https://hyunzsu.github.io/front_6th_chapter2-2/</a></p>
<!-- -->
<h2 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h2>
<h3 id="기본-과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본-과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본 과제</h3>
<details>
<summary>📍 <strong>기본 과제</strong>
</summary>
<h2 id="1-전체-아키텍처-개요"><a aria-hidden="true" tabindex="-1" href="#1-전체-아키텍처-개요"><span class="icon icon-link"></span></a>1. 전체 아키텍처 개요</h2>
<pre><code class="code-highlight"><span class="code-line">src/basic/
</span><span class="code-line">├── main.tsx       
</span><span class="code-line">├── App.tsx        
</span><span class="code-line">├── __tests__/    
</span><span class="code-line">├── entities/                # 비즈니스 엔티티
</span><span class="code-line">│   ├── cart/               # 장바구니 계산 로직
</span><span class="code-line">│   ├── coupon/             # 쿠폰 데이터 및 로직
</span><span class="code-line">│   └── product/            # 상품 데이터
</span><span class="code-line">├── features/               # 도메인별 기능 모듈
</span><span class="code-line">│   ├── cart/              # 장바구니 기능
</span><span class="code-line">│   ├── coupon/            # 쿠폰 관리/선택
</span><span class="code-line">│   ├── order/             # 주문 처리
</span><span class="code-line">│   └── product/           # 상품 관리/표시
</span><span class="code-line">├── widgets/               # 복합 위젯
</span><span class="code-line">│   └── ShoppingSidebar/   # 쇼핑 사이드바
</span><span class="code-line">├── pages/                 # 페이지 컴포넌트
</span><span class="code-line">│   ├── ShoppingPage.tsx
</span><span class="code-line">│   └── AdminPage.tsx
</span><span class="code-line">└── shared/                # 공통 모듈
</span><span class="code-line">    ├── hooks/             # 범용 커스텀 훅
</span><span class="code-line">    ├── ui/                # 공통 UI 컴포넌트
</span><span class="code-line">    └── utils/             # 유틸리티 함수
</span></code><div class="copied" data-code="src/basic/
├── main.tsx       
├── App.tsx        
├── __tests__/    
├── entities/                # 비즈니스 엔티티
│   ├── cart/               # 장바구니 계산 로직
│   ├── coupon/             # 쿠폰 데이터 및 로직
│   └── product/            # 상품 데이터
├── features/               # 도메인별 기능 모듈
│   ├── cart/              # 장바구니 기능
│   ├── coupon/            # 쿠폰 관리/선택
│   ├── order/             # 주문 처리
│   └── product/           # 상품 관리/표시
├── widgets/               # 복합 위젯
│   └── ShoppingSidebar/   # 쇼핑 사이드바
├── pages/                 # 페이지 컴포넌트
│   ├── ShoppingPage.tsx
│   └── AdminPage.tsx
└── shared/                # 공통 모듈
    ├── hooks/             # 범용 커스텀 훅
    ├── ui/                # 공통 UI 컴포넌트
    └── utils/             # 유틸리티 함수
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="2-메인-엔트리-포인트-분석"><a aria-hidden="true" tabindex="-1" href="#2-메인-엔트리-포인트-분석"><span class="icon icon-link"></span></a>2. 메인 엔트리 포인트 분석</h2>
<h3 id="apptsx"><a aria-hidden="true" tabindex="-1" href="#apptsx"><span class="icon icon-link"></span></a>App.tsx</h3>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 1. localStorage와 연동된 데이터 상태들</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>products<span class="token punctuation">,</span> setProducts<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useLocalStorage</span><span class="token punctuation">(</span><span class="token string">&#x27;products&#x27;</span><span class="token punctuation">,</span> initialProducts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>cart<span class="token punctuation">,</span> setCart<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useLocalStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;cart&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>coupons<span class="token punctuation">,</span> setCoupons<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useLocalStorage</span><span class="token punctuation">(</span><span class="token string">&#x27;coupons&#x27;</span><span class="token punctuation">,</span> initialCoupons<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 2. UI 상태 관리</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedCoupon<span class="token punctuation">,</span> setSelectedCoupon<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Coupon <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>isAdmin<span class="token punctuation">,</span> setIsAdmin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>searchTerm<span class="token punctuation">,</span> setSearchTerm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 3. 알림 시스템</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> notifications<span class="token punctuation">,</span> addNotification<span class="token punctuation">,</span> removeNotification <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 4. 장바구니 전체 금액 계산 (쿠폰 할인 포함)</span>
</span><span class="code-line">  <span class="token keyword">const</span> calculateCartTotalWithCoupon <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token function">calculateCartTotal</span><span class="token punctuation">(</span>cart<span class="token punctuation">,</span> selectedCoupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cart<span class="token punctuation">,</span> selectedCoupon<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 5. 렌더링: 헤더 + 메인 컨텐츠 (쇼핑/관리자 모드)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const App = () =&gt; {
  // 1. localStorage와 연동된 데이터 상태들
  const [products, setProducts] = useLocalStorage(&#x27;products&#x27;, initialProducts);
  const [cart, setCart] = useLocalStorage&lt;CartItem[]&gt;(&#x27;cart&#x27;, []);
  const [coupons, setCoupons] = useLocalStorage(&#x27;coupons&#x27;, initialCoupons);

  // 2. UI 상태 관리
  const [selectedCoupon, setSelectedCoupon] = useState&lt;Coupon | null&gt;(null);
  const [isAdmin, setIsAdmin] = useState(false);
  const [searchTerm, setSearchTerm] = useState(&#x27;&#x27;);

  // 3. 알림 시스템
  const { notifications, addNotification, removeNotification } = useNotification();

  // 4. 장바구니 전체 금액 계산 (쿠폰 할인 포함)
  const calculateCartTotalWithCoupon = useCallback(() =&gt; {
    return calculateCartTotal(cart, selectedCoupon);
  }, [cart, selectedCoupon]);

  // 5. 렌더링: 헤더 + 메인 컨텐츠 (쇼핑/관리자 모드)
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="3-공통-모듈-분석-shared"><a aria-hidden="true" tabindex="-1" href="#3-공통-모듈-분석-shared"><span class="icon icon-link"></span></a>3. 공통 모듈 분석 (shared/)</h2>
<h3 id="a-상태-관리-핵심-hooks"><a aria-hidden="true" tabindex="-1" href="#a-상태-관리-핵심-hooks"><span class="icon icon-link"></span></a>A. 상태 관리 핵심 (hooks/)</h3>
<p><strong>useLocalStorage.ts</strong> - localStorage와 연동된 상태 관리</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useLocalStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
</span><span class="code-line">  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
</span><span class="code-line">  defaultValue<span class="token operator">:</span> <span class="token constant">T</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> React<span class="token punctuation">.</span>Dispatch<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>SetStateAction<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// localStorage에서 초기값 복원</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> saved <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">return</span> saved <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>saved<span class="token punctuation">)</span> <span class="token operator">:</span> defaultValue<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> defaultValue<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상태 변경 시 localStorage에 자동 저장</span>
</span><span class="code-line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> state<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useLocalStorage&lt;T&gt;(
  key: string,
  defaultValue: T
): [T, React.Dispatch&lt;React.SetStateAction&lt;T&gt;&gt;] {
  // localStorage에서 초기값 복원
  const [state, setState] = useState&lt;T&gt;(() =&gt; {
    try {
      const saved = localStorage.getItem(key);
      return saved ? JSON.parse(saved) : defaultValue;
    } catch (error) {
      return defaultValue;
    }
  });

  // 상태 변경 시 localStorage에 자동 저장
  useEffect(() =&gt; {
    localStorage.setItem(key, JSON.stringify(state));
  }, [key, state]);

  return [state, setState];
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-ui-컴포넌트-ui"><a aria-hidden="true" tabindex="-1" href="#b-ui-컴포넌트-ui"><span class="icon icon-link"></span></a>B. UI 컴포넌트 (ui/)</h3>
<p><strong>Button.tsx</strong> - 재사용 가능한 버튼 컴포넌트</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">const</span> Button<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>ButtonProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> 
</span><span class="code-line">  variant <span class="token operator">=</span> <span class="token string">&#x27;primary&#x27;</span><span class="token punctuation">,</span> 
</span><span class="code-line">  size<span class="token punctuation">,</span> 
</span><span class="code-line">  children<span class="token punctuation">,</span> 
</span><span class="code-line">  <span class="token operator">...</span>props 
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> variantClasses <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    primary<span class="token operator">:</span> <span class="token string">&#x27;bg-gray-900 text-white hover:bg-gray-800&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    secondary<span class="token operator">:</span> <span class="token string">&#x27;bg-indigo-600 text-white hover:bg-indigo-700&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    danger<span class="token operator">:</span> <span class="token string">&#x27;text-red-600 hover:text-red-800&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token comment">// ...</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="const Button: React.FC&lt;ButtonProps&gt; = ({ 
  variant = &#x27;primary&#x27;, 
  size, 
  children, 
  ...props 
}) =&gt; {
  const variantClasses = {
    primary: &#x27;bg-gray-900 text-white hover:bg-gray-800&#x27;,
    secondary: &#x27;bg-indigo-600 text-white hover:bg-indigo-700&#x27;,
    danger: &#x27;text-red-600 hover:text-red-800&#x27;,
    // ...
  };
  
  return &lt;button className={classes} {...props}&gt;{children}&lt;/button&gt;;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-유틸리티-함수-utils"><a aria-hidden="true" tabindex="-1" href="#c-유틸리티-함수-utils"><span class="icon icon-link"></span></a>C. 유틸리티 함수 (utils/)</h3>
<p><strong>stockUtils.ts</strong> - 재고 관련 계산</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getRemainingStock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> stock<span class="token punctuation">,</span> cartQuantity <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> stock <span class="token operator">-</span> cartQuantity<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getProductStockStatus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> stock<span class="token punctuation">,</span> cartQuantity <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">getRemainingStock</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stock<span class="token punctuation">,</span> cartQuantity <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&#x27;SOLD OUT&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const getRemainingStock = ({ stock, cartQuantity }) =&gt; {
  return stock - cartQuantity;
};

export const getProductStockStatus = ({ stock, cartQuantity }) =&gt; {
  return getRemainingStock({ stock, cartQuantity }) &lt;= 0 ? &#x27;SOLD OUT&#x27; : &#x27;&#x27;;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="4-도메인별-기능-분석-features---product-도메인"><a aria-hidden="true" tabindex="-1" href="#4-도메인별-기능-분석-features---product-도메인"><span class="icon icon-link"></span></a>4. 도메인별 기능 분석 (features/) - Product 도메인</h2>
<h3 id="product-도메인-구조"><a aria-hidden="true" tabindex="-1" href="#product-도메인-구조"><span class="icon icon-link"></span></a>Product 도메인 구조</h3>
<pre><code class="code-highlight"><span class="code-line">features/product/
</span><span class="code-line">├── admin/                  # 관리자용 상품 관리
</span><span class="code-line">│   ├── hooks/
</span><span class="code-line">│   │   ├── index.ts
</span><span class="code-line">│   │   └── useProducts.ts  # 상품 CRUD 로직
</span><span class="code-line">│   └── ui/
</span><span class="code-line">│       ├── index.ts
</span><span class="code-line">│       ├── ProductForm.tsx      # 상품 추가/수정 폼
</span><span class="code-line">│       ├── ProductManagement.tsx # 관리자 메인 컴포넌트
</span><span class="code-line">│       └── ProductTable.tsx     # 상품 목록 테이블
</span><span class="code-line">└── shop/                   # 고객용 상품 표시
</span><span class="code-line">    ├── hooks/
</span><span class="code-line">    │   ├── index.ts
</span><span class="code-line">    │   └── useProductSearch.tsx # 상품 검색/필터링
</span><span class="code-line">    └── ui/
</span><span class="code-line">        ├── index.ts
</span><span class="code-line">        ├── ProductCard.tsx      # 개별 상품 카드
</span><span class="code-line">        └── ProductList.tsx      # 상품 목록 그리드
</span></code><div class="copied" data-code="features/product/
├── admin/                  # 관리자용 상품 관리
│   ├── hooks/
│   │   ├── index.ts
│   │   └── useProducts.ts  # 상품 CRUD 로직
│   └── ui/
│       ├── index.ts
│       ├── ProductForm.tsx      # 상품 추가/수정 폼
│       ├── ProductManagement.tsx # 관리자 메인 컴포넌트
│       └── ProductTable.tsx     # 상품 목록 테이블
└── shop/                   # 고객용 상품 표시
    ├── hooks/
    │   ├── index.ts
    │   └── useProductSearch.tsx # 상품 검색/필터링
    └── ui/
        ├── index.ts
        ├── ProductCard.tsx      # 개별 상품 카드
        └── ProductList.tsx      # 상품 목록 그리드
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="a-admin-도메인-상세-분석"><a aria-hidden="true" tabindex="-1" href="#a-admin-도메인-상세-분석"><span class="icon icon-link"></span></a>A. Admin 도메인 상세 분석</h3>
<pre><code class="code-highlight"><span class="code-line">┌─────────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                   Product Admin Domain Structure                │
</span><span class="code-line">├─────────────────────────────────────────────────────────────────┤
</span><span class="code-line">│                                                                 │
</span><span class="code-line">│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
</span><span class="code-line">│  │ProductManage-│───▶│ useProducts  │───▶│ Product      │       │
</span><span class="code-line">│  │ment.tsx      │    │ Hook         │    │ Entity       │       │
</span><span class="code-line">│  │              │    │              │    │              │       │
</span><span class="code-line">│  │ • 탭 관리     │    │ • addProduct │    │ • validation │       │
</span><span class="code-line">│  │ • 폼 토글     │    │ • updateProd │    │ • formatting │       │
</span><span class="code-line">│  │ • 상태 관리   │    │ • deleteProd │    │ • business   │       │
</span><span class="code-line">│  │              │    │              │    │   rules      │       │
</span><span class="code-line">│  └──────────────┘    └──────────────┘    └──────────────┘       │
</span><span class="code-line">│          │                   │                   │               │
</span><span class="code-line">│          ▼                   ▼                   ▼               │
</span><span class="code-line">│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
</span><span class="code-line">│  │ProductTable  │    │ProductForm   │    │Product State │       │
</span><span class="code-line">│  │              │    │              │    │              │       │
</span><span class="code-line">│  │ • 목록 표시   │    │ • 입력 검증   │    │ • products[] │       │
</span><span class="code-line">│  │ • 수정/삭제   │    │ • 폼 제출     │    │ • editing    │       │
</span><span class="code-line">│  │ • 정렬/필터   │    │ • 할인 관리   │    │   state      │       │
</span><span class="code-line">│  └──────────────┘    └──────────────┘    └──────────────┘       │
</span><span class="code-line">│                                                                 │
</span><span class="code-line">└─────────────────────────────────────────────────────────────────┘
</span></code><div class="copied" data-code="┌─────────────────────────────────────────────────────────────────┐
│                   Product Admin Domain Structure                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
│  │ProductManage-│───▶│ useProducts  │───▶│ Product      │       │
│  │ment.tsx      │    │ Hook         │    │ Entity       │       │
│  │              │    │              │    │              │       │
│  │ • 탭 관리     │    │ • addProduct │    │ • validation │       │
│  │ • 폼 토글     │    │ • updateProd │    │ • formatting │       │
│  │ • 상태 관리   │    │ • deleteProd │    │ • business   │       │
│  │              │    │              │    │   rules      │       │
│  └──────────────┘    └──────────────┘    └──────────────┘       │
│          │                   │                   │               │
│          ▼                   ▼                   ▼               │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
│  │ProductTable  │    │ProductForm   │    │Product State │       │
│  │              │    │              │    │              │       │
│  │ • 목록 표시   │    │ • 입력 검증   │    │ • products[] │       │
│  │ • 수정/삭제   │    │ • 폼 제출     │    │ • editing    │       │
│  │ • 정렬/필터   │    │ • 할인 관리   │    │   state      │       │
│  └──────────────┘    └──────────────┘    └──────────────┘       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>useProducts.ts</strong> - 관리자용 상품 관리 훅</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useProducts</span><span class="token punctuation">(</span><span class="token punctuation">{</span> products<span class="token punctuation">,</span> setProducts<span class="token punctuation">,</span> addNotification <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 상품 추가</span>
</span><span class="code-line">  <span class="token keyword">const</span> addProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>newProduct<span class="token operator">:</span> Omit<span class="token operator">&lt;</span>ProductWithUI<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> product<span class="token operator">:</span> ProductWithUI <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token operator">...</span>newProduct<span class="token punctuation">,</span>
</span><span class="code-line">      id<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">p</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// 고유 ID 생성</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">setProducts</span><span class="token punctuation">(</span>prev <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>prev<span class="token punctuation">,</span> product<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 추가되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상품 업데이트</span>
</span><span class="code-line">  <span class="token keyword">const</span> updateProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> updates<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ProductWithUI<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setProducts</span><span class="token punctuation">(</span>prev <span class="token operator">=&gt;</span>
</span><span class="code-line">      prev<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>product <span class="token operator">=&gt;</span>
</span><span class="code-line">        product<span class="token punctuation">.</span>id <span class="token operator">===</span> productId <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>product<span class="token punctuation">,</span> <span class="token operator">...</span>updates <span class="token punctuation">}</span> <span class="token operator">:</span> product
</span><span class="code-line">      <span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 수정되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상품 삭제</span>
</span><span class="code-line">  <span class="token keyword">const</span> deleteProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">setProducts</span><span class="token punctuation">(</span>prev <span class="token operator">=&gt;</span> prev<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">!==</span> productId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 삭제되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> products<span class="token punctuation">,</span> addProduct<span class="token punctuation">,</span> updateProduct<span class="token punctuation">,</span> deleteProduct <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useProducts({ products, setProducts, addNotification }) {
  // 상품 추가
  const addProduct = useCallback((newProduct: Omit&lt;ProductWithUI, &#x27;id&#x27;&gt;) =&gt; {
    const product: ProductWithUI = {
      ...newProduct,
      id: `p${Date.now()}`, // 고유 ID 생성
    };
    setProducts(prev =&gt; [...prev, product]);
    addNotification(&#x27;상품이 추가되었습니다.&#x27;, &#x27;success&#x27;);
  }, [setProducts, addNotification]);

  // 상품 업데이트
  const updateProduct = useCallback((productId: string, updates: Partial&lt;ProductWithUI&gt;) =&gt; {
    setProducts(prev =&gt;
      prev.map(product =&gt;
        product.id === productId ? { ...product, ...updates } : product
      )
    );
    addNotification(&#x27;상품이 수정되었습니다.&#x27;, &#x27;success&#x27;);
  }, [setProducts, addNotification]);

  // 상품 삭제
  const deleteProduct = useCallback((productId: string) =&gt; {
    setProducts(prev =&gt; prev.filter(p =&gt; p.id !== productId));
    addNotification(&#x27;상품이 삭제되었습니다.&#x27;, &#x27;success&#x27;);
  }, [setProducts, addNotification]);

  return { products, addProduct, updateProduct, deleteProduct };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-shop-도메인-상세-분석"><a aria-hidden="true" tabindex="-1" href="#b-shop-도메인-상세-분석"><span class="icon icon-link"></span></a>B. Shop 도메인 상세 분석</h3>
<pre><code class="code-highlight"><span class="code-line">┌─────────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                    Product Shop Domain Structure                │
</span><span class="code-line">├─────────────────────────────────────────────────────────────────┤
</span><span class="code-line">│                                                                 │
</span><span class="code-line">│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
</span><span class="code-line">│  │ProductList   │───▶│useProductSea-│───▶│ Search/Filter│       │
</span><span class="code-line">│  │              │    │rch Hook      │    │ Logic        │       │
</span><span class="code-line">│  │ • 그리드 레이 │    │              │    │              │       │
</span><span class="code-line">│  │   아웃       │    │ • debounced  │    │ • name match │       │
</span><span class="code-line">│  │ • 반응형     │    │   search     │    │ • description│       │
</span><span class="code-line">│  │ • 빈 상태    │    │ • filtering  │    │   match      │       │
</span><span class="code-line">│  │              │    │              │    │              │       │
</span><span class="code-line">│  └──────────────┘    └──────────────┘    └──────────────┘       │
</span><span class="code-line">│          │                   │                   │               │
</span><span class="code-line">│          ▼                   ▼                   ▼               │
</span><span class="code-line">│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
</span><span class="code-line">│  │ProductCard   │    │Stock Utils   │    │Filtered      │       │
</span><span class="code-line">│  │              │    │              │    │Products      │       │
</span><span class="code-line">│  │ • 상품 이미지 │    │ • remaining  │    │              │       │
</span><span class="code-line">│  │ • 가격 표시   │    │   stock      │    │ • real-time  │       │
</span><span class="code-line">│  │ • 할인 뱃지   │    │ • stock      │    │   search     │       │
</span><span class="code-line">│  │ • 재고 상태   │    │   status     │    │ • debounced  │       │
</span><span class="code-line">│  │ • 장바구니    │    │              │    │   results    │       │
</span><span class="code-line">│  │   버튼       │    │              │    │              │       │
</span><span class="code-line">│  └──────────────┘    └──────────────┘    └──────────────┘       │
</span><span class="code-line">│                                                                 │
</span><span class="code-line">└─────────────────────────────────────────────────────────────────┘
</span></code><div class="copied" data-code="┌─────────────────────────────────────────────────────────────────┐
│                    Product Shop Domain Structure                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
│  │ProductList   │───▶│useProductSea-│───▶│ Search/Filter│       │
│  │              │    │rch Hook      │    │ Logic        │       │
│  │ • 그리드 레이 │    │              │    │              │       │
│  │   아웃       │    │ • debounced  │    │ • name match │       │
│  │ • 반응형     │    │   search     │    │ • description│       │
│  │ • 빈 상태    │    │ • filtering  │    │   match      │       │
│  │              │    │              │    │              │       │
│  └──────────────┘    └──────────────┘    └──────────────┘       │
│          │                   │                   │               │
│          ▼                   ▼                   ▼               │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐       │
│  │ProductCard   │    │Stock Utils   │    │Filtered      │       │
│  │              │    │              │    │Products      │       │
│  │ • 상품 이미지 │    │ • remaining  │    │              │       │
│  │ • 가격 표시   │    │   stock      │    │ • real-time  │       │
│  │ • 할인 뱃지   │    │ • stock      │    │   search     │       │
│  │ • 재고 상태   │    │   status     │    │ • debounced  │       │
│  │ • 장바구니    │    │              │    │   results    │       │
│  │   버튼       │    │              │    │              │       │
│  └──────────────┘    └──────────────┘    └──────────────┘       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>useProductSearch.ts</strong> - 상품 검색 및 필터링 훅</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useProductSearch</span><span class="token punctuation">(</span>products<span class="token operator">:</span> ProductWithUI<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> searchTerm<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 디바운스된 검색어 (500ms 지연)</span>
</span><span class="code-line">  <span class="token keyword">const</span> debouncedSearchTerm <span class="token operator">=</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span>searchTerm<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 필터링된 상품 목록</span>
</span><span class="code-line">  <span class="token keyword">const</span> filteredProducts <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>debouncedSearchTerm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> products<span class="token punctuation">;</span> <span class="token comment">// 검색어가 없으면 전체 상품 반환</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>product <span class="token operator">=&gt;</span>
</span><span class="code-line">      <span class="token comment">// 상품명 또는 설명에서 검색어 매칭</span>
</span><span class="code-line">      product<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>debouncedSearchTerm<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
</span><span class="code-line">      <span class="token punctuation">(</span>product<span class="token punctuation">.</span>description <span class="token operator">&amp;&amp;</span> 
</span><span class="code-line">       product<span class="token punctuation">.</span>description<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>debouncedSearchTerm<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>products<span class="token punctuation">,</span> debouncedSearchTerm<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    debouncedSearchTerm<span class="token punctuation">,</span> <span class="token comment">// 실제 검색에 사용된 검색어</span>
</span><span class="code-line">    filteredProducts<span class="token punctuation">,</span>    <span class="token comment">// 필터링된 결과</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useProductSearch(products: ProductWithUI[], searchTerm: string) {
  // 디바운스된 검색어 (500ms 지연)
  const debouncedSearchTerm = useDebounce(searchTerm, 500);

  // 필터링된 상품 목록
  const filteredProducts = useMemo(() =&gt; {
    if (!debouncedSearchTerm) {
      return products; // 검색어가 없으면 전체 상품 반환
    }

    return products.filter(product =&gt;
      // 상품명 또는 설명에서 검색어 매칭
      product.name.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||
      (product.description &amp;&amp; 
       product.description.toLowerCase().includes(debouncedSearchTerm.toLowerCase()))
    );
  }, [products, debouncedSearchTerm]);

  return {
    debouncedSearchTerm, // 실제 검색에 사용된 검색어
    filteredProducts,    // 필터링된 결과
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="5-엔티티-계층-분석-entities---cart-도메인"><a aria-hidden="true" tabindex="-1" href="#5-엔티티-계층-분석-entities---cart-도메인"><span class="icon icon-link"></span></a>5. 엔티티 계층 분석 (entities/) - Cart 도메인</h2>
<h3 id="a-엔티티-구조-및-책임"><a aria-hidden="true" tabindex="-1" href="#a-엔티티-구조-및-책임"><span class="icon icon-link"></span></a>A. 엔티티 구조 및 책임</h3>
<pre><code class="code-highlight"><span class="code-line">entities/cart/
</span><span class="code-line">├── index.ts           # 외부 노출 인터페이스
</span><span class="code-line">├── types.ts           # 타입 정의
</span><span class="code-line">└── utils.ts           # 순수 비즈니스 로직 함수들
</span></code><div class="copied" data-code="entities/cart/
├── index.ts           # 외부 노출 인터페이스
├── types.ts           # 타입 정의
└── utils.ts           # 순수 비즈니스 로직 함수들
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>순수 함수만 포함: 사이드 이펙트가 없는 계산 로직만</li>
<li>프레임워크 독립: React, DOM API 등에 의존하지 않음</li>
<li>재사용성: 다른 프레임워크에서도 사용 가능한 비즈니스 로직</li>
</ul>
<h3 id="b-타입-정의-typests"><a aria-hidden="true" tabindex="-1" href="#b-타입-정의-typests"><span class="icon icon-link"></span></a>B. 타입 정의 (types.ts)</h3>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> CartItem<span class="token punctuation">,</span> Coupon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../types&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 장바구니 총액 계산 결과 타입</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CartTotal</span> <span class="token punctuation">{</span>
</span><span class="code-line">  totalBeforeDiscount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token comment">// 할인 전 총액</span>
</span><span class="code-line">  totalAfterDiscount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>   <span class="token comment">// 할인 후 총액</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 장바구니 계산에 필요한 옵션들</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CartCalculationOptions</span> <span class="token punctuation">{</span>
</span><span class="code-line">  cart<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  selectedCoupon<span class="token operator">?</span><span class="token operator">:</span> Coupon <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="import { CartItem, Coupon } from &#x27;../../../types&#x27;;

// 장바구니 총액 계산 결과 타입
export interface CartTotal {
  totalBeforeDiscount: number;  // 할인 전 총액
  totalAfterDiscount: number;   // 할인 후 총액
}

// 장바구니 계산에 필요한 옵션들
export interface CartCalculationOptions {
  cart: CartItem[];
  selectedCoupon?: Coupon | null;
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-핵심-비즈니스-로직-utilsts---상세-분석"><a aria-hidden="true" tabindex="-1" href="#c-핵심-비즈니스-로직-utilsts---상세-분석"><span class="icon icon-link"></span></a>C. 핵심 비즈니스 로직 (utils.ts) - 상세 분석</h3>
<ol>
<li><strong>개별 상품 할인율 계산</strong></li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getProductDiscount <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> CartItem<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> discounts <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>product<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> quantity <span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 상품의 모든 할인 정책을 검토하여 최대 적용 가능한 할인율 반환</span>
</span><span class="code-line">  <span class="token keyword">return</span> discounts<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>maxDiscount<span class="token punctuation">,</span> discount<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// 현재 수량이 할인 조건을 만족하고, 더 높은 할인율이면 적용</span>
</span><span class="code-line">    <span class="token keyword">return</span> quantity <span class="token operator">&gt;=</span> discount<span class="token punctuation">.</span>quantity <span class="token operator">&amp;&amp;</span> discount<span class="token punctuation">.</span>rate <span class="token operator">&gt;</span> maxDiscount
</span><span class="code-line">      <span class="token operator">?</span> discount<span class="token punctuation">.</span>rate
</span><span class="code-line">      <span class="token operator">:</span> maxDiscount<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const getProductDiscount = (item: CartItem): number =&gt; {
  const { discounts } = item.product;
  const { quantity } = item;

  // 상품의 모든 할인 정책을 검토하여 최대 적용 가능한 할인율 반환
  return discounts.reduce((maxDiscount, discount) =&gt; {
    // 현재 수량이 할인 조건을 만족하고, 더 높은 할인율이면 적용
    return quantity &gt;= discount.quantity &amp;&amp; discount.rate &gt; maxDiscount
      ? discount.rate
      : maxDiscount;
  }, 0);
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ol start="2">
<li><strong>대량구매 할인 체크</strong></li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getBulkPurchaseDiscount <span class="token operator">=</span> <span class="token punctuation">(</span>cart<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 장바구니에 10개 이상 구매한 상품이 하나라도 있으면 </span>
</span><span class="code-line">  <span class="token comment">// 모든 상품에 5% 추가 할인 적용</span>
</span><span class="code-line">  <span class="token keyword">const</span> hasBulkPurchase <span class="token operator">=</span> cart<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cartItem<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> cartItem<span class="token punctuation">.</span>quantity <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> hasBulkPurchase <span class="token operator">?</span> <span class="token number">0.05</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const getBulkPurchaseDiscount = (cart: CartItem[]): number =&gt; {
  // 장바구니에 10개 이상 구매한 상품이 하나라도 있으면 
  // 모든 상품에 5% 추가 할인 적용
  const hasBulkPurchase = cart.some((cartItem) =&gt; cartItem.quantity &gt;= 10);
  return hasBulkPurchase ? 0.05 : 0;
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ol start="3">
<li><strong>최대 적용 가능한 할인율 계산</strong></li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> getMaxApplicableDiscount <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">  item<span class="token operator">:</span> CartItem<span class="token punctuation">,</span>
</span><span class="code-line">  cart<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> baseDiscount <span class="token operator">=</span> <span class="token function">getProductDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 개별 상품 할인</span>
</span><span class="code-line">  <span class="token keyword">const</span> bulkDiscount <span class="token operator">=</span> <span class="token function">getBulkPurchaseDiscount</span><span class="token punctuation">(</span>cart<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 대량구매 할인</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token comment">// 최대 50% 할인까지만 적용 (비즈니스 룰)</span>
</span><span class="code-line">  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>baseDiscount <span class="token operator">+</span> bulkDiscount<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const getMaxApplicableDiscount = (
  item: CartItem,
  cart: CartItem[]
): number =&gt; {
  const baseDiscount = getProductDiscount(item);      // 개별 상품 할인
  const bulkDiscount = getBulkPurchaseDiscount(cart); // 대량구매 할인
  
  // 최대 50% 할인까지만 적용 (비즈니스 룰)
  return Math.min(baseDiscount + bulkDiscount, 0.5);
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ol start="4">
<li><strong>장바구니 전체 금액 계산</strong></li>
</ol>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> calculateCartTotal <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">  cart<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  selectedCoupon<span class="token operator">:</span> Coupon <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> CartTotal <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalBeforeDiscount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalAfterDiscount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Step 1: 대량구매 할인은 한 번만 계산</span>
</span><span class="code-line">  <span class="token keyword">const</span> bulkDiscount <span class="token operator">=</span> <span class="token function">getBulkPurchaseDiscount</span><span class="token punctuation">(</span>cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Step 2: 각 상품별 금액 계산 및 누적</span>
</span><span class="code-line">  cart<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> itemPrice <span class="token operator">=</span> item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price <span class="token operator">*</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">;</span>
</span><span class="code-line">    totalBeforeDiscount <span class="token operator">+=</span> itemPrice<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 개별 상품 할인 + 대량구매 할인 조합</span>
</span><span class="code-line">    <span class="token keyword">const</span> productDiscount <span class="token operator">=</span> <span class="token function">getProductDiscount</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> totalDiscount <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>productDiscount <span class="token operator">+</span> bulkDiscount<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> itemTotal <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>itemPrice <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> totalDiscount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    totalAfterDiscount <span class="token operator">+=</span> itemTotal<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Step 3: 쿠폰 할인 적용 (가장 마지막에 적용)</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedCoupon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedCoupon<span class="token punctuation">.</span>discountType <span class="token operator">===</span> <span class="token string">&#x27;amount&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// 정액 할인: 고정 금액 차감 (음수 방지)</span>
</span><span class="code-line">      totalAfterDiscount <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">        totalAfterDiscount <span class="token operator">-</span> selectedCoupon<span class="token punctuation">.</span>discountValue
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// 정율 할인: 퍼센트 할인 적용</span>
</span><span class="code-line">      totalAfterDiscount <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>
</span><span class="code-line">        totalAfterDiscount <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> selectedCoupon<span class="token punctuation">.</span>discountValue <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    totalBeforeDiscount<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>totalBeforeDiscount<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    totalAfterDiscount<span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>totalAfterDiscount<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const calculateCartTotal = (
  cart: CartItem[],
  selectedCoupon: Coupon | null = null
): CartTotal =&gt; {
  let totalBeforeDiscount = 0;
  let totalAfterDiscount = 0;

  // Step 1: 대량구매 할인은 한 번만 계산
  const bulkDiscount = getBulkPurchaseDiscount(cart);

  // Step 2: 각 상품별 금액 계산 및 누적
  cart.forEach((item) =&gt; {
    const itemPrice = item.product.price * item.quantity;
    totalBeforeDiscount += itemPrice;

    // 개별 상품 할인 + 대량구매 할인 조합
    const productDiscount = getProductDiscount(item);
    const totalDiscount = Math.min(productDiscount + bulkDiscount, 0.5);
    const itemTotal = Math.round(itemPrice * (1 - totalDiscount));

    totalAfterDiscount += itemTotal;
  });

  // Step 3: 쿠폰 할인 적용 (가장 마지막에 적용)
  if (selectedCoupon) {
    if (selectedCoupon.discountType === &#x27;amount&#x27;) {
      // 정액 할인: 고정 금액 차감 (음수 방지)
      totalAfterDiscount = Math.max(
        0,
        totalAfterDiscount - selectedCoupon.discountValue
      );
    } else {
      // 정율 할인: 퍼센트 할인 적용
      totalAfterDiscount = Math.round(
        totalAfterDiscount * (1 - selectedCoupon.discountValue / 100)
      );
    }
  }

  return {
    totalBeforeDiscount: Math.round(totalBeforeDiscount),
    totalAfterDiscount: Math.round(totalAfterDiscount),
  };
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="d-비즈니스-룰-및-제약사항"><a aria-hidden="true" tabindex="-1" href="#d-비즈니스-룰-및-제약사항"><span class="icon icon-link"></span></a>D. 비즈니스 룰 및 제약사항</h3>
<p><strong>할인 적용 우선순위:</strong></p>
<ol>
<li>개별 상품 할인 (수량별 할인율)</li>
<li>대량구매 할인 (10개 이상 시 5% 추가)</li>
<li>쿠폰 할인 (정액/정율)</li>
</ol>
<p><strong>할인 제한사항:</strong></p>
<ol>
<li>개별 상품 + 대량구매 할인 합계 최대 50%</li>
<li>쿠폰은 이미 할인된 금액에서 추가 적용</li>
<li>정액 할인 시 음수 결과 방지 (최소 0원)</li>
</ol>
<p><strong>계산 정확성:</strong></p>
<ol>
<li>모든 금액 계산 시 Math.round() 적용</li>
<li>부동소수점 오차 방지</li>
<li>일관된 반올림 정책</li>
</ol>
<h2 id="6-아키텍처-설계-원칙"><a aria-hidden="true" tabindex="-1" href="#6-아키텍처-설계-원칙"><span class="icon icon-link"></span></a>6. 아키텍처 설계 원칙</h2>
<h3 id="a-도메인-분리"><a aria-hidden="true" tabindex="-1" href="#a-도메인-분리"><span class="icon icon-link"></span></a>A. 도메인 분리</h3>
<ul>
<li><strong>Cart</strong>: 장바구니 상태와 계산 로직</li>
<li><strong>Product</strong>: 상품 정보와 재고 관리</li>
<li><strong>Coupon</strong>: 쿠폰 관리 및 적용</li>
<li><strong>Order</strong>: 주문 처리 및 완료</li>
</ul>
<h3 id="b-계층-분리-clean-architecture"><a aria-hidden="true" tabindex="-1" href="#b-계층-분리-clean-architecture"><span class="icon icon-link"></span></a>B. 계층 분리 (Clean Architecture)</h3>
<pre><code class="code-highlight"><span class="code-line">UI Components ← Props/Events ← Custom Hooks
</span><span class="code-line">     ↑                             ↑
</span><span class="code-line">   Render                       Side Effects
</span><span class="code-line">     ↓                             ↓
</span><span class="code-line">React State ← State Updates ← Entity Functions (Pure)
</span></code><div class="copied" data-code="UI Components ← Props/Events ← Custom Hooks
     ↑                             ↑
   Render                       Side Effects
     ↓                             ↓
React State ← State Updates ← Entity Functions (Pure)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-데이터-흐름"><a aria-hidden="true" tabindex="-1" href="#c-데이터-흐름"><span class="icon icon-link"></span></a>C. 데이터 흐름</h3>
<ol>
<li>사용자 인터랙션 → UI 컴포넌트에서 이벤트 발생</li>
<li>이벤트 핸들러 → 커스텀 훅의 함수 호출</li>
<li>비즈니스 로직 → Entity 순수 함수로 계산 처리</li>
<li>상태 업데이트 → React setState를 통한 상태 변경</li>
<li>UI 리렌더링 → 변경된 상태 기반으로 컴포넌트 재렌더링</li>
</ol>
<p>D. 핵심 설계 원칙</p>
<ul>
<li>순수 함수: entities 레이어는 사이드 이펙트 없는 순수 함수만</li>
<li>단방향 의존성: pages → widgets → features → entities</li>
<li>관심사 분리: 비즈니스 로직과 UI 로직의 명확한 분리</li>
<li>재사용성: 공통 로직은 커스텀 훅으로, 공통 UI는 컴포넌트로 분리</li>
</ul>
</details>
<h4 id="fsd-아키텍처-원칙에-따라-상품-관리-기능을-비즈니스-로직과-ui-로직을-분리했습니다"><a class="anchor" aria-hidden="true" tabindex="-1" href="#fsd-아키텍처-원칙에-따라-상품-관리-기능을-비즈니스-로직과-ui-로직을-분리했습니다"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>FSD 아키텍처 원칙에 따라 상품 관리 기능을 <strong>비즈니스 로직</strong>과 <strong>UI 로직</strong>을 분리했습니다.</h4>
<ul>
<li>과제 요구사항을 단순히 구현하는 것보다 &quot;왜 이렇게 구조화했는지?&quot;에 대한 명확한 답을 갖고 싶었습니다!</li>
</ul>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: 모든 로직이 컴포넌트에 혼재</span>
</span><span class="code-line"><span class="token comment">// After: 역할별로 명확히 분리</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 📁 features/product/admin/hooks/useProducts.ts</span>
</span><span class="code-line"><span class="token comment">// 상품 CRUD 비즈니스 로직만 담당</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useProducts</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> addProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span>newProduct<span class="token operator">:</span> Omit<span class="token operator">&lt;</span>ProductWithUI<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> product<span class="token operator">:</span> ProductWithUI <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>newProduct<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">p</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">setProducts</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span>prev<span class="token punctuation">,</span> product<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 추가되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> updateProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> updates<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ProductWithUI<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProducts</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">        prev<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">          product<span class="token punctuation">.</span>id <span class="token operator">===</span> productId <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>product<span class="token punctuation">,</span> <span class="token operator">...</span>updates <span class="token punctuation">}</span> <span class="token operator">:</span> product
</span><span class="code-line">        <span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 수정되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> deleteProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">setProducts</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>id <span class="token operator">!==</span> productId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token function">addNotification</span><span class="token punctuation">(</span><span class="token string">&#x27;상품이 삭제되었습니다.&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;success&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span>setProducts<span class="token punctuation">,</span> addNotification<span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> addProduct<span class="token punctuation">,</span> updateProduct<span class="token punctuation">,</span> deleteProduct <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 📁 features/product/admin/ui/ProductManagement.tsx  </span>
</span><span class="code-line"><span class="token comment">// UI 상태 관리와 사용자 인터랙션만 담당</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">ProductManagement</span><span class="token punctuation">(</span><span class="token punctuation">{</span> products<span class="token punctuation">,</span> setProducts<span class="token punctuation">,</span> addNotification <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 비즈니스 로직을 훅에서 가져와 사용</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> addProduct<span class="token punctuation">,</span> updateProduct<span class="token punctuation">,</span> deleteProduct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    products<span class="token punctuation">,</span>
</span><span class="code-line">    setProducts<span class="token punctuation">,</span>
</span><span class="code-line">    addNotification<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// UI 상태만 관리</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>showProductForm<span class="token punctuation">,</span> setShowProductForm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>editingProduct<span class="token punctuation">,</span> setEditingProduct<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>productForm<span class="token punctuation">,</span> setProductForm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Before: 모든 로직이 컴포넌트에 혼재
// After: 역할별로 명확히 분리

// 📁 features/product/admin/hooks/useProducts.ts
// 상품 CRUD 비즈니스 로직만 담당
export function useProducts(props) {
  const addProduct = useCallback(
    (newProduct: Omit&lt;ProductWithUI, &#x27;id&#x27;&gt;) =&gt; {
      const product: ProductWithUI = { ...newProduct, id: `p${Date.now()}` };
      setProducts((prev) =&gt; [...prev, product]);
      addNotification(&#x27;상품이 추가되었습니다.&#x27;, &#x27;success&#x27;);
    },
    [setProducts, addNotification]
  );

  const updateProduct = useCallback(
    (productId: string, updates: Partial&lt;ProductWithUI&gt;) =&gt; {
      setProducts((prev) =&gt;
        prev.map((product) =&gt;
          product.id === productId ? { ...product, ...updates } : product
        )
      );
      addNotification(&#x27;상품이 수정되었습니다.&#x27;, &#x27;success&#x27;);
    },
    [setProducts, addNotification]
  );

  const deleteProduct = useCallback(
    (productId: string) =&gt; {
      setProducts((prev) =&gt; prev.filter((p) =&gt; p.id !== productId));
      addNotification(&#x27;상품이 삭제되었습니다.&#x27;, &#x27;success&#x27;);
    },
    [setProducts, addNotification]
  );

  return { addProduct, updateProduct, deleteProduct };
}

// 📁 features/product/admin/ui/ProductManagement.tsx  
// UI 상태 관리와 사용자 인터랙션만 담당
export default function ProductManagement({ products, setProducts, addNotification }) {
  // 비즈니스 로직을 훅에서 가져와 사용
  const { addProduct, updateProduct, deleteProduct } = useProducts({
    products,
    setProducts,
    addNotification,
  });

  // UI 상태만 관리
  const [showProductForm, setShowProductForm] = useState(false);
  const [editingProduct, setEditingProduct] = useState&lt;string | null&gt;(null);
  const [productForm, setProductForm] = useState({...});
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="심화-과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화-과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화 과제</h3>
<details>
<summary><strong>1. Props Drilling 발생 지점</strong></summary>
<p><strong>1. 알림 시스템 (addNotification)</strong></p>
<pre><code class="code-highlight"><span class="code-line">App → AdminPage/ShoppingPage → 거의 모든 하위 컴포넌트
</span></code><div class="copied" data-code="App → AdminPage/ShoppingPage → 거의 모든 하위 컴포넌트
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>거의 모든 사용자 액션에서 피드백이 필요하기 때문에 addNotification 함수가 앱의 모든 깊은 컴포넌트까지 전달되어야 했습니다.</p>
<ul>
<li>ProductManagement → ProductForm</li>
<li>CouponManagement → CouponForm</li>
<li>ShoppingSidebar → CartItemsList, CouponSelector, OrderSummary</li>
<li>총 <strong>8단계 이상</strong>의 props 전달</li>
</ul>
<p><strong>2. 장바구니 상태 (cart, setCart)</strong></p>
<pre><code class="code-highlight"><span class="code-line">App → ShoppingPage → ShoppingSidebar → CartItemsList/OrderSummary
</span><span class="code-line">App → ShoppingPage → ProductList → ProductCard (cart 읽기용)
</span></code><div class="copied" data-code="App → ShoppingPage → ShoppingSidebar → CartItemsList/OrderSummary
App → ShoppingPage → ProductList → ProductCard (cart 읽기용)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>장바구니는 읽기와 쓰기가 여러 곳에서 필요한 전형적인 전역 상태입니다. 상품 카드에서는 재고 확인을 위해 읽기만 필요하지만 전체 상태를 props로 받아야 했습니다.</p>
<ul>
<li>장바구니 데이터가 <strong>4-5단계</strong>를 거쳐 전달</li>
<li>상품 카드에서도 재고 확인을 위해 cart 필요</li>
</ul>
<p><strong>3. 상품 데이터 (products, setProducts)</strong></p>
<pre><code class="code-highlight"><span class="code-line">App → AdminPage → ProductManagement → ProductTable/ProductForm
</span><span class="code-line">App → ShoppingPage → ShoppingSidebar (재고 확인용)
</span></code><div class="copied" data-code="App → AdminPage → ProductManagement → ProductTable/ProductForm
App → ShoppingPage → ShoppingSidebar (재고 확인용)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>상품 데이터는 관리자 페이지에서의 CRUD 작업과 쇼핑 페이지에서의 재고 확인이라는 서로 다른 목적으로 사용되지만 동일한 상태를 공유해야 했습니다.</p>
<ul>
<li>관리자 페이지: <strong>4단계</strong> 전달</li>
<li>쇼핑 페이지: 재고 확인을 위해 <strong>3단계</strong> 전달</li>
</ul>
<p><strong>4. 쿠폰 상태 (coupons, selectedCoupon, setCoupons, setSelectedCoupon)</strong></p>
<pre><code class="code-highlight"><span class="code-line">App → AdminPage → CouponManagement → CouponTable/CouponForm
</span><span class="code-line">App → ShoppingPage → ShoppingSidebar → CouponSelector
</span></code><div class="copied" data-code="App → AdminPage → CouponManagement → CouponTable/CouponForm
App → ShoppingPage → ShoppingSidebar → CouponSelector
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>쿠폰은 관리와 적용이라는 두 가지 다른 컨텍스트에서 사용되지만 상태를 공유해야 해서 복잡한 props 전달이 필요했습니다.</p>
<ul>
<li>쿠폰 관련 상태가 <strong>4단계</strong>씩 전달</li>
<li>쿠폰 선택 로직까지 props로 전달</li>
</ul>
<p><strong>5. 계산 함수 (calculateCartTotalWithCoupon)</strong></p>
<pre><code class="code-highlight"><span class="code-line">App → ShoppingPage → ShoppingSidebar → CouponSelector
</span></code><div class="copied" data-code="App → ShoppingPage → ShoppingSidebar → CouponSelector
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li><strong>함수까지 props로 전달</strong>하는 상황</li>
</ul>
</details>
<details>
<summary><strong>2. 전역 상태 설계</strong></summary>
#### 각 도메인별로 atom을 설계하여 관심사를 명확히 분리했습니다. localStorage 연동이 필요한 상태와 세션별 상태를 구분하여 적용했습니다.
<p><strong>Atom 구조 설계</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 핵심 상태 Atoms</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> cartAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atomWithStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;cart&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> productsAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atomWithStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>ProductWithUI<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;products&#x27;</span><span class="token punctuation">,</span> initialProducts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> couponsAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atomWithStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>Coupon<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;coupons&#x27;</span><span class="token punctuation">,</span> initialCoupons<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> selectedCouponAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span>Coupon <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> searchTermAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> notificationsAtom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">atom</span><span class="token generic class-name"><span class="token operator">&lt;</span>Notification<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 핵심 상태 Atoms
export const cartAtom = atomWithStorage&lt;CartItem[]&gt;(&#x27;cart&#x27;, []);
export const productsAtom = atomWithStorage&lt;ProductWithUI[]&gt;(&#x27;products&#x27;, initialProducts);
export const couponsAtom = atomWithStorage&lt;Coupon[]&gt;(&#x27;coupons&#x27;, initialCoupons);
export const selectedCouponAtom = atom&lt;Coupon | null&gt;(null);
export const searchTermAtom = atom&lt;string&gt;(&#x27;&#x27;);
export const notificationsAtom = atom&lt;Notification[]&gt;([]);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>localStorage 연동 (atomWithStorage)</strong>
atomWithStorage를 사용하여 자동으로 localStorage와 동기화되도록 했습니다. 이를 통해 페이지 새로고침 후에도 사용자의 작업 상태가 유지됩니다.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 자동 localStorage 동기화</span>
</span><span class="code-line"><span class="token operator">-</span> cartAtom → <span class="token string">&#x27;cart&#x27;</span> 키
</span><span class="code-line"><span class="token operator">-</span> productsAtom → <span class="token string">&#x27;products&#x27;</span> 키
</span><span class="code-line"><span class="token operator">-</span> couponsAtom → <span class="token string">&#x27;coupons&#x27;</span> 키
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 세션별 상태 (동기화 제외)</span>
</span><span class="code-line"><span class="token operator">-</span> <span class="token function">selectedCouponAtom</span> <span class="token punctuation">(</span>선택된 쿠폰<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token operator">-</span> <span class="token function">searchTermAtom</span> <span class="token punctuation">(</span>검색어<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token operator">-</span> <span class="token function">notificationsAtom</span> <span class="token punctuation">(</span>알림<span class="token punctuation">)</span>
</span></code><div class="copied" data-code="// 자동 localStorage 동기화
- cartAtom → &#x27;cart&#x27; 키
- productsAtom → &#x27;products&#x27; 키
- couponsAtom → &#x27;coupons&#x27; 키

// 세션별 상태 (동기화 제외)
- selectedCouponAtom (선택된 쿠폰)
- searchTermAtom (검색어)
- notificationsAtom (알림)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>파생 상태 (cartTotalsAtom)</strong>
복잡한 계산 로직을 파생 상태로 분리하여 의존성이 변경될 때만 자동으로 재계산되도록 구현했습니다.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// 장바구니 총액 자동 계산</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> cartTotalsAtom <span class="token operator">=</span> <span class="token function">atom</span><span class="token punctuation">(</span><span class="token punctuation">(</span>get<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> selectedCoupon <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>selectedCouponAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">calculateCartTotal</span><span class="token punctuation">(</span>cart<span class="token punctuation">,</span> selectedCoupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// 장바구니 총액 자동 계산
export const cartTotalsAtom = atom((get) =&gt; {
  const cart = get(cartAtom);
  const selectedCoupon = get(selectedCouponAtom);
  return calculateCartTotal(cart, selectedCoupon);
});
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</details>
<details>
<summary><strong>3. Props Drilling 제거</strong></summary>
<p><strong>Before - ShoppingSidebar (8개 props)</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token operator">&lt;</span>ShoppingSidebar
</span><span class="code-line">  cart<span class="token operator">=</span><span class="token punctuation">{</span>cart<span class="token punctuation">}</span>
</span><span class="code-line">  setCart<span class="token operator">=</span><span class="token punctuation">{</span>setCart<span class="token punctuation">}</span>
</span><span class="code-line">  coupons<span class="token operator">=</span><span class="token punctuation">{</span>coupons<span class="token punctuation">}</span>
</span><span class="code-line">  selectedCoupon<span class="token operator">=</span><span class="token punctuation">{</span>selectedCoupon<span class="token punctuation">}</span>
</span><span class="code-line">  setSelectedCoupon<span class="token operator">=</span><span class="token punctuation">{</span>setSelectedCoupon<span class="token punctuation">}</span>
</span><span class="code-line">  products<span class="token operator">=</span><span class="token punctuation">{</span>products<span class="token punctuation">}</span>
</span><span class="code-line">  addNotification<span class="token operator">=</span><span class="token punctuation">{</span>addNotification<span class="token punctuation">}</span>  <span class="token comment">// 8단계 전달</span>
</span><span class="code-line">  calculateCartTotalWithCoupon<span class="token operator">=</span><span class="token punctuation">{</span>calculateCartTotalWithCoupon<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token operator">/</span><span class="token operator">&gt;</span>
</span></code><div class="copied" data-code="&lt;ShoppingSidebar
  cart={cart}
  setCart={setCart}
  coupons={coupons}
  selectedCoupon={selectedCoupon}
  setSelectedCoupon={setSelectedCoupon}
  products={products}
  addNotification={addNotification}  // 8단계 전달
  calculateCartTotalWithCoupon={calculateCartTotalWithCoupon}
/&gt;
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>After - ShoppingSidebar (0개 props)</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token operator">&lt;</span>ShoppingSidebar <span class="token operator">/</span><span class="token operator">&gt;</span>  <span class="token comment">// 독립적인 컴포넌트</span>
</span></code><div class="copied" data-code="&lt;ShoppingSidebar /&gt;  // 독립적인 컴포넌트
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>NotificationToast 컴포넌트</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: Props 의존</span>
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">NotificationToastProps</span> <span class="token punctuation">{</span>
</span><span class="code-line">  notifications<span class="token operator">:</span> Notification<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function-variable function">onRemove</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After: Atom 직접 사용</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">NotificationToast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>notifications<span class="token punctuation">,</span> setNotifications<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAtom</span><span class="token punctuation">(</span>notificationsAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// props 없이 독립적으로 동작</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Before: Props 의존
interface NotificationToastProps {
  notifications: Notification[];
  onRemove: (id: string) =&gt; void;
}

// After: Atom 직접 사용
export default function NotificationToast() {
  const [notifications, setNotifications] = useAtom(notificationsAtom);
  // props 없이 독립적으로 동작
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>useCart Hook</strong>
장바구니 로직을 캡슐화하여 어떤 컴포넌트에서든 일관된 방식으로 장바구니 기능을 사용할 수 있도록 구현했습니다.</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> addNotification <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>cart<span class="token punctuation">,</span> setCart<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAtom</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token function">useAtomValue</span><span class="token punctuation">(</span>productsAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> addToCart <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token operator">:</span> ProductWithUI<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// 재고 확인 및 장바구니 추가 로직</span>
</span><span class="code-line">    <span class="token comment">// props 없이 atom에서 직접 상태 접근</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token comment">/* atom 의존성만 */</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> cart<span class="token punctuation">,</span> addToCart<span class="token punctuation">,</span> removeFromCart<span class="token punctuation">,</span> updateQuantity<span class="token punctuation">,</span> getCartQuantity <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useCart() {
  const { addNotification } = useNotification();
  const [cart, setCart] = useAtom(cartAtom);
  const products = useAtomValue(productsAtom);

  const addToCart = useCallback((product: ProductWithUI) =&gt; {
    // 재고 확인 및 장바구니 추가 로직
    // props 없이 atom에서 직접 상태 접근
  }, [/* atom 의존성만 */]);

  return { cart, addToCart, removeFromCart, updateQuantity, getCartQuantity };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</details>
<details>
<summary><strong>4. useAtom vs useAtomValue vs useSetAtom</strong></summary>
<p>Jotai의 세분화된 훅을 활용하여 컴포넌트가 실제로 필요한 기능에만 구독하도록 최적화했습니다.
<strong>읽기 전용 최적화</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// After: 읽기만 필요한 곳에서 최적화</span>
</span><span class="code-line"><span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useAtomValue</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 읽기 전용</span>
</span><span class="code-line"><span class="token keyword">const</span> setCart <span class="token operator">=</span> <span class="token function">useSetAtom</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 쓰기 전용</span>
</span></code><div class="copied" data-code="// After: 읽기만 필요한 곳에서 최적화
const cart = useAtomValue(cartAtom);  // 읽기 전용
const setCart = useSetAtom(cartAtom); // 쓰기 전용
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>파생 상태를 통한 계산 최적화</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Before: 매번 계산 함수 호출</span>
</span><span class="code-line"><span class="token keyword">const</span> calculateCartTotalWithCoupon <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">calculateCartTotal</span><span class="token punctuation">(</span>cart<span class="token punctuation">,</span> selectedCoupon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cart<span class="token punctuation">,</span> selectedCoupon<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// After: 자동 메모이제이션</span>
</span><span class="code-line"><span class="token keyword">const</span> totals <span class="token operator">=</span> <span class="token function">useAtomValue</span><span class="token punctuation">(</span>cartTotalsAtom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 의존성 변경시만 재계산</span>
</span></code><div class="copied" data-code="// Before: 매번 계산 함수 호출
const calculateCartTotalWithCoupon = useCallback(() =&gt; {
  return calculateCartTotal(cart, selectedCoupon);
}, [cart, selectedCoupon]);

// After: 자동 메모이제이션
const totals = useAtomValue(cartTotalsAtom); // 의존성 변경시만 재계산
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>컴포넌트별 구독 최적화</strong></p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// ProductCard: cart 읽기만 필요</span>
</span><span class="code-line"><span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useAtomValue</span><span class="token punctuation">(</span>cartAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// CartItemsList: cart 업데이트만 필요</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> removeFromCart<span class="token punctuation">,</span> updateQuantity <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// OrderSummary: 계산 결과만 필요</span>
</span><span class="code-line"><span class="token keyword">const</span> totals <span class="token operator">=</span> <span class="token function">useAtomValue</span><span class="token punctuation">(</span>cartTotalsAtom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="// ProductCard: cart 읽기만 필요
const cart = useAtomValue(cartAtom);

// CartItemsList: cart 업데이트만 필요
const { removeFromCart, updateQuantity } = useCart();

// OrderSummary: 계산 결과만 필요
const totals = useAtomValue(cartTotalsAtom);
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
</details>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<ul>
<li>태그 내부에 인라인으로 함수 들어가는 부분을 분리하는 것</li>
<li>컴포넌트를 분리할 때 더 작은 단위로 분리하는 것</li>
</ul>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<h2 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문</h2>
<h4 id="1-fsdfeature-sliced-design-폴더-구조에-대한-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-fsdfeature-sliced-design-폴더-구조에-대한-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. FSD(Feature-Sliced Design) 폴더 구조에 대한 피드백</h4>
<pre><code class="code-highlight"><span class="code-line">features/product/
</span><span class="code-line">├── admin/          # 관리자용 기능
</span><span class="code-line">│   ├── hooks/      # useProducts (CRUD)
</span><span class="code-line">│   └── ui/         # ProductManagement, ProductForm, ProductTable
</span><span class="code-line">└── shop/           # 고객용 기능  
</span><span class="code-line">    ├── hooks/      # useProductSearch
</span><span class="code-line">    └── ui/         # ProductList, ProductCard
</span></code><div class="copied" data-code="features/product/
├── admin/          # 관리자용 기능
│   ├── hooks/      # useProducts (CRUD)
│   └── ui/         # ProductManagement, ProductForm, ProductTable
└── shop/           # 고객용 기능  
    ├── hooks/      # useProductSearch
    └── ui/         # ProductList, ProductCard
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>의도:</strong></p>
<ul>
<li>Product 도메인이 쇼핑몰/관리자 페이지 양쪽에서 사용됨</li>
<li>역할이 다르기 때문에 admin/shop으로 대분류를 나누어 구분</li>
<li>각각 다른 hooks와 UI 컴포넌트를 가짐</li>
</ul>
<p><strong>질문:</strong></p>
<ol>
<li>이런 방식의 도메인 내 컨텍스트별 분리가 FSD 관점에서 적절한가요?</li>
<li>더 나은 폴더 구조나 네이밍 컨벤션이 있을까요?</li>
</ol>
<h4 id="2-widgets-레이어-사용에-대한-검토"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-widgets-레이어-사용에-대한-검토"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. Widgets 레이어 사용에 대한 검토</h4>
<img width="635" height="384" alt="image" src="https://github.com/user-attachments/assets/649f21c1-30d6-4221-9a57-381235dc1c95"/>
<pre><code class="code-highlight"><span class="code-line">widgets/ShoppingSidebar/
</span><span class="code-line">└── ui/
</span><span class="code-line">    └── ShoppingSidebar.tsx  # 복합 위젯
</span><span class="code-line">
</span><span class="code-line">구성 요소:
</span><span class="code-line">├── CartItemsList     (cart 도메인)
</span><span class="code-line">├── CouponSelector    (coupon 도메인)  
</span><span class="code-line">└── OrderSummary      (order 도메인)
</span></code><div class="copied" data-code="widgets/ShoppingSidebar/
└── ui/
    └── ShoppingSidebar.tsx  # 복합 위젯

구성 요소:
├── CartItemsList     (cart 도메인)
├── CouponSelector    (coupon 도메인)  
└── OrderSummary      (order 도메인)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>의도:</strong></p>
<ul>
<li>쇼핑몰 페이지 우측 사이드바는 3개 도메인(cart, coupon, order)이 조합된 복합 UI</li>
<li>Features 레이어는 단일 도메인 책임이므로 다중 도메인 조합은 widgets에 위치</li>
<li>각 도메인별 features를 조합하여 하나의 사용자 시나리오 완성</li>
</ul>
<p><strong>질문:</strong></p>
<ol>
<li>여러 도메인을 조합한 복합 컴포넌트를 widgets 레이어에 두는 것이 FSD 설계 원칙에 맞나요?</li>
<li>ShoppingSidebar처럼 특정 페이지에서만 사용되는 위젯의 위치가 적절한가요?</li>
<li>다른 대안적 구조(예: pages 레이어에서 직접 조합)와 비교했을 때 어떤 장단점이 있을까요?</li>
</ol></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>FSD관점으로 분리하는 과제를 미리 경험해주셨군요 :+1
각 레이어를 구분하고 레이어를 이렇게 분리했을 때 얻을 수 있는 장점들이 명확하게 있으셨으면 좋았겠네요!
과제도 잘 정리해주셨는데, 본격적인 규칙이나 FSD에 관련된 구체적인 내용들은 다음 주에 더 깊게 이야기 해보면 좋을 것 같네요.</p>
<p>질문 주신 부분 보면</p>
<blockquote>
<ol>
<li>FSD(Feature-Sliced Design) 폴더 구조에 대한 피드백</li>
</ol>
</blockquote>
<p>좋은 접근인것 같아요. 해당 폴더에 대한 명확한 규칙은 사실 정하기 나름이라고 알고 있어요. 실제로 그냥 product로 묶어서 한 곳에 로직을 묶을수도 있고, admin을 파일 명에 붙이거나 하는 형태로 구분할 수 있겠죠. (사실 저라면 따로 구분을 하지 않고 적었을 것 같은데 ㅎㅎ) 추후에 공통 로직 같은 것들을 명확하게 할 수 있다면 지금의 방식도 명확하고 좋은 것 같아요 ㅎㅎ</p>
<blockquote>
<ol start="2">
<li>Widgets 레이어 사용에 대한 검토</li>
</ol>
</blockquote>
<p>&quot;여러 도메인을 조합한 복합 컴포넌트를 widgets 레이어에 두는 것이 FSD 설계 원칙에 맞나요?&quot;라는 질문에 있어서는 넵 입니다. 실제로 FSD설명을 보다보면 위젯에 대한 사용성이 약간 모호한 측면이 있는데, 해당 목적으로도 저희회사에서 많이 사용하는 편이에요! 결국 레이어간 간섭이 안되어야 하기 때문에 끌어올려서 조합해서 사용하고 페이지에 두기 애매한 경우 위젯에 두기 때문인데요. 그럼에도 대부분은 페이지에 위치시키는 경우가 적합한 경우가 많아 이 부분도 함께 생각해보시면 좋을것 같아요.</p>
<p>결국 위젯에서 조합을 하면 다른 페이지에서도 재사용을 할 수 있다는 장점이 생기니 이 부분도 같이 고려해보면 좋지 않을까 싶습니다!</p>
<p>고생하셨고 다음주차 과제는 쉬우실 것 같네요 ㅎㅎㅎ 화이팅입니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
