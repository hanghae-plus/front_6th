<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>항해플러스 프론트엔드 6기 기술블로그</title>
  <link rel="icon" href="/front_6th/favicon.ico"/>
  
  <script type="module" crossorigin src="/front_6th/assets/index-Drf7uASk.js"></script>
  <link rel="stylesheet" crossorigin href="/front_6th/assets/index-Dvjhel9t.css">
</head>
<body>
<div id="root"><div data-slot="sidebar-wrapper" style="--sidebar-width:16rem;--sidebar-width-icon:3rem" class="group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full"><div class="min-h-screen flex w-full"><div class="group peer text-sidebar-foreground hidden md:block" data-state="expanded" data-collapsible="" data-variant="sidebar" data-side="left" data-slot="sidebar"><div data-slot="sidebar-gap" class="relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear group-data-[collapsible=offcanvas]:w-0 group-data-[side=right]:rotate-180 group-data-[collapsible=icon]:w-(--sidebar-width-icon)"></div><div data-slot="sidebar-container" class="fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)] group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l w-64"><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><div data-slot="sidebar-content" data-sidebar="content" class="flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden bg-card border-r border-border"><a class="p-4" href="/front_6th/" data-discover="true"><div class="flex items-center space-x-2 mb-6"><div class="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">6기</span></div><h4 class="text-lg font-bold text-primary">항해플러스 프론트엔드</h4></div></a><div data-slot="sidebar-group" data-sidebar="group" class="relative flex w-full min-w-0 flex-col p-2"><div data-slot="sidebar-group-label" data-sidebar="group-label" class="ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0 text-muted-foreground px-4">학습 관리</div><div data-slot="sidebar-group-content" data-sidebar="group-content" class="w-full text-sm"><ul data-slot="sidebar-menu" data-sidebar="menu" class="flex w-full min-w-0 flex-col gap-1 px-2"><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg><span class="ml-3">수강생 목록</span></a></li><li data-slot="sidebar-menu-item" data-sidebar="menu-item" class="group/menu-item relative"><a data-slot="sidebar-menu-button" data-sidebar="menu-button" data-size="default" data-active="false" class="peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left outline-hidden ring-sidebar-ring transition-[width,height,padding] focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-sm h-12 text-foreground hover:bg-secondary hover:text-secondary-foreground rounded-lg transition-all duration-300" href="/front_6th/assignments" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open h-5 w-5" aria-hidden="true"><path d="M12 7v14"></path><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"></path></svg><span class="ml-3">과제 목록</span></a></li></ul></div></div></div></div></div></div><div class="flex-1 min-w-0"><header class="h-12 flex items-center border-b border-border bg-card px-4"><button data-slot="sidebar-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-7 mr-4 text-white" data-sidebar="trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left" aria-hidden="true"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg><span class="sr-only">Toggle Sidebar</span></button><h4 class="text-lg font-semibold "><a href="/front_6th/@hyunzsu/" data-discover="true">hyunzsu<!-- --> 님의 상세페이지</a> ＞ <!-- -->[8팀 현지수] Chapter 2-1. 클린코드와 리팩토링</h4></header><main class="p-6"><div><div class="card-wrap"><div data-slot="card" class="card text-card-foreground flex flex-col gap-6 shadow-sm mb-6 p-6 border border-gray-700 bg-gray-800 rounded-lg"><a href="https://github.com/hanghae-plus/front_6th_chapter2-1/pull/46" target="_blank"><div class="flex items-start gap-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" height="32" aria-hidden="true" viewBox="0 0 24 24" width="32" fill="white" class="w-8 h-8"><path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path></svg></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><h3 class="text-lg font-semibold text-white truncate">[8팀 현지수] Chapter 2-1. 클린코드와 리팩토링</h3></div><div class="flex items-center gap-4 text-xs text-gray-500"><span>by <!-- -->hyunzsu</span><span>2025. 7. 30.</span></div></div></div></a></div></div><div class="overflow-auto"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-체크포인트"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-체크포인트"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 체크포인트</h2>
<h3 id="기본과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#기본과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>기본과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드가 Prettier를 통해 일관된 포맷팅이 적용되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 적절한 줄바꿈과 주석을 사용하여 코드의 논리적 단위를 명확히 구분했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변수명과 함수명이 그 역할을 명확히 나타내며, 일관된 네이밍 규칙을 따르는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 매직 넘버와 문자열을 의미 있는 상수로 추출했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 중복 코드를 제거하고 재사용 가능한 형태로 리팩토링했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 함수가 단일 책임 원칙을 따르며, 한 가지 작업만 수행하는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 조건문과 반복문이 간결하고 명확한가? 복잡한 조건을 함수로 추출했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드의 배치가 의존성과 실행 흐름에 따라 논리적으로 구성되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 연관된 코드를 의미 있는 함수나 모듈로 그룹화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> ES6+ 문법을 활용하여 코드를 더 간결하고 명확하게 작성했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 전역 상태와 부수 효과(side effects)를 최소화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 에러 처리와 예외 상황을 명확히 고려하고 처리했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드 자체가 자기 문서화되어 있어, 주석 없이도 의도를 파악할 수 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 비즈니스 로직과 UI 로직이 적절히 분리되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드의 각 부분이 테스트 가능하도록 구조화되어 있는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 성능 개선을 위해 불필요한 연산이나 렌더링을 제거했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 새로운 기능 추가나 변경이 기존 코드에 미치는 영향을 최소화했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 코드 리뷰를 통해 다른 개발자들의 피드백을 반영하고 개선했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> (핵심!) 리팩토링 시 기존 기능을 그대로 유지하면서 점진적으로 개선했는가?</li>
</ul>
<h3 id="심화과제"><a class="anchor" aria-hidden="true" tabindex="-1" href="#심화과제"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>심화과제</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 가독성이 높고 이해하기 쉬운가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 기능을 수정하거나 확장하기에 용이한가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 코드보다 테스트를 하기에 더 용이한가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> 변경한 구조와 코드가 기존의 모든 기능은 그대로 유지했는가?</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""/> (핵심!) 변경한 구조와 코드를 새로운 한번에 새로만들지 않고 점진적으로 개선했는가?</li>
</ul>
<h2 id="과제-셀프회고"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-셀프회고"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 셀프회고</h2>
<p><a href="https://hyunzsu.github.io/front_6th_chapter2-1/">https://hyunzsu.github.io/front_6th_chapter2-1/</a></p>
<!-- -->
<h3 id="과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-하면서-내가-제일-신경-쓴-부분은-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?</h3>



































<table><thead><tr><th>구분</th><th>기본과제 (Vanilla JS)</th><th>심화과제 (React + TS)</th></tr></thead><tbody><tr><td>상태관리</td><td>전역 상태 객체</td><td>useReducer + 도메인별 상태</td></tr><tr><td>UI 렌더링</td><td>DOM 직접 조작</td><td>React 컴포넌트</td></tr><tr><td>타입 안정성</td><td>JSDoc 주석</td><td>TypeScript</td></tr><tr><td>패턴</td><td>MVC (Controller)</td><td>Flux (Hooks + Reducers)</td></tr><tr><td>데이터 흐름</td><td>명령형</td><td>선언형</td></tr></tbody></table>
<details>
<summary>📍 <strong>기본 과제</strong></summary>
<h2 id="1-전체-아키텍처-개요"><a aria-hidden="true" tabindex="-1" href="#1-전체-아키텍처-개요"><span class="icon icon-link"></span></a>1. 전체 아키텍처 개요</h2>
<pre><code class="code-highlight"><span class="code-line">src/basic/
</span><span class="code-line">├── main.basic.js            
</span><span class="code-line">├── __tests__/              
</span><span class="code-line">├── features/               # 도메인별 기능 모듈
</span><span class="code-line">│   ├── cart/              
</span><span class="code-line">│   ├── order/             
</span><span class="code-line">│   ├── product/           
</span><span class="code-line">│   ├── promotion/         
</span><span class="code-line">│   └── index.js           
</span><span class="code-line">└── shared/                # 공통 모듈
</span><span class="code-line">    ├── components/  
</span><span class="code-line">    ├── constants/      
</span><span class="code-line">    ├── core/             
</span><span class="code-line">    ├── utils/            
</span><span class="code-line">    └── index.js
</span></code><div class="copied" data-code="src/basic/
├── main.basic.js            
├── __tests__/              
├── features/               # 도메인별 기능 모듈
│   ├── cart/              
│   ├── order/             
│   ├── product/           
│   ├── promotion/         
│   └── index.js           
└── shared/                # 공통 모듈
    ├── components/  
    ├── constants/      
    ├── core/             
    ├── utils/            
    └── index.js
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="2-메인-엔트리-포인트-분석"><a aria-hidden="true" tabindex="-1" href="#2-메인-엔트리-포인트-분석"><span class="icon icon-link"></span></a>2. 메인 엔트리 포인트 분석</h2>
<h3 id="mainbasicjs"><a aria-hidden="true" tabindex="-1" href="#mainbasicjs"><span class="icon icon-link"></span></a>main.basic.js</h3>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 앱 데이터 초기화</span>
</span><span class="code-line">  <span class="token function">initializeAppData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// DOM 구조 생성</span>
</span><span class="code-line">  <span class="token function">createDOMStructure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 초기 UI 업데이트</span>
</span><span class="code-line">  <span class="token maybe-class-name">ProductController</span><span class="token punctuation">.</span><span class="token method function property-access">updateSelectOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token maybe-class-name">CartController</span><span class="token punctuation">.</span><span class="token method function property-access">updateCartDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 이벤트 핸들러 초기화</span>
</span><span class="code-line">  <span class="token function">initializeEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 프로모션 시스템 시작</span>
</span><span class="code-line">  <span class="token maybe-class-name">LightningSaleService</span><span class="token punctuation">.</span><span class="token method function property-access">startLightningSaleSystem</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token maybe-class-name">SuggestedSaleService</span><span class="token punctuation">.</span><span class="token method function property-access">startSuggestedSaleSystem</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="function main() {
  // 앱 데이터 초기화
  initializeAppData();

  // DOM 구조 생성
  createDOMStructure();

  // 초기 UI 업데이트
  ProductController.updateSelectOptions();
  CartController.updateCartDisplay();

  // 이벤트 핸들러 초기화
  initializeEvents();

  // 프로모션 시스템 시작
  LightningSaleService.startLightningSaleSystem(/* ... */);
  SuggestedSaleService.startSuggestedSaleSystem(/* ... */);
}

main();
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li>절차적 초기화: 순서대로 앱을 초기화</li>
<li>전역 상태 기반: 비즈니스 상태를 전역으로 관리</li>
<li>DOM 직접 조작: React 없이 순수 DOM API 사용</li>
</ul>
<h2 id="3-공통-모듈-분석-shared"><a aria-hidden="true" tabindex="-1" href="#3-공통-모듈-분석-shared"><span class="icon icon-link"></span></a>3. 공통 모듈 분석 (shared/)</h2>
<h3 id="a-상태-관리-핵심-core"><a aria-hidden="true" tabindex="-1" href="#a-상태-관리-핵심-core"><span class="icon icon-link"></span></a>A. 상태 관리 핵심 (core/)</h3>
<p><strong>business-state.js</strong> - 전역 상태 저장소</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> businessState <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">bonusPoints</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">itemCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">totalAmount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">lastSelectedProductId</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> businessState<span class="token punctuation">.</span><span class="token property-access">products</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">getProductById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> businessState<span class="token punctuation">.</span><span class="token property-access">products</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">product</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> product<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export const businessState = {
  products: [],
  bonusPoints: 0,
  itemCount: 0,
  totalAmount: 0,
  lastSelectedProductId: null,
};

export function getProducts() {
  return businessState.products;
}

export function getProductById(id) {
  return businessState.products.find((product) =&gt; product.id === id);
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>dom-refs.js</strong> - DOM 요소 참조 관리</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> domRefs <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">stockInfo</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">productSelect</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">addButton</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">cartDisplay</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">totalDisplay</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// ... 기타 DOM 요소들</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">initializeDOMReferences</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  domRefs<span class="token punctuation">.</span><span class="token property-access">stockInfo</span> <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;stock-status&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  domRefs<span class="token punctuation">.</span><span class="token property-access">productSelect</span> <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;product-select&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ... DOM 요소 참조 설정</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export const domRefs = {
  stockInfo: null,
  productSelect: null,
  addButton: null,
  cartDisplay: null,
  totalDisplay: null,
  // ... 기타 DOM 요소들
};

export function initializeDOMReferences() {
  domRefs.stockInfo = document.getElementById(&#x27;stock-status&#x27;);
  domRefs.productSelect = document.getElementById(&#x27;product-select&#x27;);
  // ... DOM 요소 참조 설정
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-dom-구조-생성-core"><a aria-hidden="true" tabindex="-1" href="#b-dom-구조-생성-core"><span class="icon icon-link"></span></a>B. DOM 구조 생성 (core/)</h3>
<p><strong>dom.js</strong> - 전체 DOM 구조를 프로그래밍 방식으로 생성</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">createDOMStructure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;app&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 컴포넌트 생성</span>
</span><span class="code-line">  <span class="token keyword">const</span> header <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Header</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> mainGrid <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">MainGrid</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> leftColumn <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">LeftColumn</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> productPanel <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">ProductPanel</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token comment">// DOM 조립</span>
</span><span class="code-line">  productPanel<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token function"><span class="token maybe-class-name">ProductSelect</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  productPanel<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token function"><span class="token maybe-class-name">AddToCartButton</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  leftColumn<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>productPanel<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  leftColumn<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token function"><span class="token maybe-class-name">CartContainer</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  root<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  root<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>mainGrid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function createDOMStructure() {
  const root = document.getElementById(&#x27;app&#x27;);

  // 컴포넌트 생성
  const header = Header();
  const mainGrid = MainGrid();
  const leftColumn = LeftColumn();
  const productPanel = ProductPanel();
  
  // DOM 조립
  productPanel.appendChild(ProductSelect());
  productPanel.appendChild(AddToCartButton());
  leftColumn.appendChild(productPanel);
  leftColumn.appendChild(CartContainer());
  
  root.appendChild(header);
  root.appendChild(mainGrid);
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-이벤트-관리-core"><a aria-hidden="true" tabindex="-1" href="#c-이벤트-관리-core"><span class="icon icon-link"></span></a>C. 이벤트 관리 (core/)</h3>
<p><strong>events.js</strong> - 중앙화된 이벤트 핸들러</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">initializeEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">setupAddButtonHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">setupCartClickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">setupHelpManualEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">setupAddButtonHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">getAddButtonElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#x27;click&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> selItem <span class="token operator">=</span> <span class="token function">getProductSelectElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> itemToAdd <span class="token operator">=</span> <span class="token function">getProductById</span><span class="token punctuation">(</span>selItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>itemToAdd <span class="token operator">||</span> itemToAdd<span class="token punctuation">.</span><span class="token property-access">stock</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 비즈니스 로직 실행</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>existingItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">updateExistingItemQuantity</span><span class="token punctuation">(</span>existingItem<span class="token punctuation">,</span> itemToAdd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">addNewItemToCart</span><span class="token punctuation">(</span>itemToAdd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token maybe-class-name">CartController</span><span class="token punctuation">.</span><span class="token method function property-access">updateCartDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function initializeEvents() {
  setupAddButtonHandler();
  setupCartClickHandler();
  setupHelpManualEvents();
}

function setupAddButtonHandler() {
  getAddButtonElement().addEventListener(&#x27;click&#x27;, () =&gt; {
    const selItem = getProductSelectElement().value;
    const itemToAdd = getProductById(selItem);

    if (!itemToAdd || itemToAdd.stock &lt;= 0) return;

    // 비즈니스 로직 실행
    if (existingItem) {
      updateExistingItemQuantity(existingItem, itemToAdd);
    } else {
      addNewItemToCart(itemToAdd);
    }

    CartController.updateCartDisplay();
  });
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="d-컴포넌트-components"><a aria-hidden="true" tabindex="-1" href="#d-컴포넌트-components"><span class="icon icon-link"></span></a>D. 컴포넌트 (components/)</h3>
<p>UI 컴포넌트를 함수로 생성</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// Header.js</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Header</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> header <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">&#x27;header&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  header<span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">&#x27;mb-8&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  header<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token html language-html">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token html language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>🛒 Hanghae Online Store<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token html language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-5xl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Shopping Cart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token html language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item-count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>🛍️ 0 items in cart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token html language-html">  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> header<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// Header.js
export function Header() {
  const header = document.createElement(&#x27;header&#x27;);
  header.className = &#x27;mb-8&#x27;;
  header.innerHTML = `
    &lt;h1&gt;🛒 Hanghae Online Store&lt;/h1&gt;
    &lt;div class=&quot;text-5xl&quot;&gt;Shopping Cart&lt;/div&gt;
    &lt;p id=&quot;item-count&quot;&gt;🛍️ 0 items in cart&lt;/p&gt;
  `;
  return header;
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="4-도메인별-기능-분석-features---cart-도메인"><a aria-hidden="true" tabindex="-1" href="#4-도메인별-기능-분석-features---cart-도메인"><span class="icon icon-link"></span></a>4. 도메인별 기능 분석 (features/) - Cart 도메인</h2>
<h3 id="cart-도메인-구조"><a aria-hidden="true" tabindex="-1" href="#cart-도메인-구조"><span class="icon icon-link"></span></a>Cart 도메인 구조</h3>
<pre><code class="code-highlight"><span class="code-line">features/cart/
</span><span class="code-line">├── CartController.js       # 장바구니 오케스트레이션
</span><span class="code-line">├── CartRenderer.js         # UI 렌더링 담당
</span><span class="code-line">├── CartService.js          # 비즈니스 로직
</span><span class="code-line">└── components/             # UI 컴포넌트 생성 함수
</span><span class="code-line">    ├── CartContainer.js
</span><span class="code-line">    ├── CartItem.js
</span><span class="code-line">    └── OrderSummary.js
</span></code><div class="copied" data-code="features/cart/
├── CartController.js       # 장바구니 오케스트레이션
├── CartRenderer.js         # UI 렌더링 담당
├── CartService.js          # 비즈니스 로직
└── components/             # UI 컴포넌트 생성 함수
    ├── CartContainer.js
    ├── CartItem.js
    └── OrderSummary.js
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="a-model-폴더-상세-분석"><a aria-hidden="true" tabindex="-1" href="#a-model-폴더-상세-분석"><span class="icon icon-link"></span></a>A. Model 폴더 상세 분석</h3>
<pre><code class="code-highlight"><span class="code-line">┌──────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                    Cart Domain Structure                     │
</span><span class="code-line">├──────────────────────────────────────────────────────────────┤
</span><span class="code-line">│                                                              │
</span><span class="code-line">│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
</span><span class="code-line">│  │Controller.js│───▶│ Service.js  │───▶│Renderer.js  │       │
</span><span class="code-line">│  │             │    │             │    │             │       │
</span><span class="code-line">│  │ • update    │    │ • calculate │    │ • render    │       │
</span><span class="code-line">│  │   Display   │    │   Cart      │    │   Items     │       │
</span><span class="code-line">│  │ • update    │    │ • extract   │    │ • render    │       │
</span><span class="code-line">│  │   Prices    │    │   Data      │    │   Summary   │       │
</span><span class="code-line">│  │ • render    │    │ • isEmpty   │    │ • render    │       │
</span><span class="code-line">│  │   Items     │    │             │    │   Points    │       │
</span><span class="code-line">│  └─────────────┘    └─────────────┘    └─────────────┘       │
</span><span class="code-line">│                              │                               │
</span><span class="code-line">│                              │                               │
</span><span class="code-line">│                              ▼                               │
</span><span class="code-line">│                  ┌─────────────────────────┐                 │
</span><span class="code-line">│                  │    Business State       │                 │
</span><span class="code-line">│                  │                         │                 │
</span><span class="code-line">│                  │ • products[]            │                 │
</span><span class="code-line">│                  │ • totalAmount           │                 │
</span><span class="code-line">│                  │ • itemCount             │                 │
</span><span class="code-line">│                  │ • bonusPoints           │                 │
</span><span class="code-line">│                  └─────────────────────────┘                 │
</span><span class="code-line">│                                                              │
</span><span class="code-line">└──────────────────────────────────────────────────────────────┘
</span></code><div class="copied" data-code="┌──────────────────────────────────────────────────────────────┐
│                    Cart Domain Structure                     │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│  │Controller.js│───▶│ Service.js  │───▶│Renderer.js  │       │
│  │             │    │             │    │             │       │
│  │ • update    │    │ • calculate │    │ • render    │       │
│  │   Display   │    │   Cart      │    │   Items     │       │
│  │ • update    │    │ • extract   │    │ • render    │       │
│  │   Prices    │    │   Data      │    │   Summary   │       │
│  │ • render    │    │ • isEmpty   │    │ • render    │       │
│  │   Items     │    │             │    │   Points    │       │
│  └─────────────┘    └─────────────┘    └─────────────┘       │
│                              │                               │
│                              │                               │
│                              ▼                               │
│                  ┌─────────────────────────┐                 │
│                  │    Business State       │                 │
│                  │                         │                 │
│                  │ • products[]            │                 │
│                  │ • totalAmount           │                 │
│                  │ • itemCount             │                 │
│                  │ • bonusPoints           │                 │
│                  └─────────────────────────┘                 │
│                                                              │
└──────────────────────────────────────────────────────────────┘
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>CartController.js</strong> - 장바구니 전체 오케스트레이션</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">updateCartDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartItems <span class="token operator">=</span> <span class="token function">getCartDisplayElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 1. 상태 초기화</span>
</span><span class="code-line">  <span class="token function">setTotalAmount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">setItemCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 2. DOM에서 장바구니 데이터 추출</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartData <span class="token operator">=</span> <span class="token maybe-class-name">CartService</span><span class="token punctuation">.</span><span class="token method function property-access">extractCartData</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 3. 장바구니 전체 계산</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartResult <span class="token operator">=</span> <span class="token maybe-class-name">CartService</span><span class="token punctuation">.</span><span class="token method function property-access">calculateCart</span><span class="token punctuation">(</span>cartData<span class="token punctuation">,</span> getProductById<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 4. 상태 업데이트</span>
</span><span class="code-line">  <span class="token function">setTotalAmount</span><span class="token punctuation">(</span>cartResult<span class="token punctuation">.</span><span class="token property-access">finalAmount</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">setItemCount</span><span class="token punctuation">(</span>cartResult<span class="token punctuation">.</span><span class="token property-access">totalQuantity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 5. UI 렌더링</span>
</span><span class="code-line">  <span class="token maybe-class-name">CartRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">renderOrderSummary</span><span class="token punctuation">(</span>cartResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token maybe-class-name">CartRenderer</span><span class="token punctuation">.</span><span class="token method function property-access">renderCartCount</span><span class="token punctuation">(</span>cartResult<span class="token punctuation">.</span><span class="token property-access">totalQuantity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token comment">// 6. 포인트 계산 및 표시</span>
</span><span class="code-line">  <span class="token function">updateBonusPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function updateCartDisplay() {
  const cartItems = getCartDisplayElement().children;

  // 1. 상태 초기화
  setTotalAmount(0);
  setItemCount(0);

  // 2. DOM에서 장바구니 데이터 추출
  const cartData = CartService.extractCartData(cartItems);

  // 3. 장바구니 전체 계산
  const cartResult = CartService.calculateCart(cartData, getProductById);

  // 4. 상태 업데이트
  setTotalAmount(cartResult.finalAmount);
  setItemCount(cartResult.totalQuantity);

  // 5. UI 렌더링
  CartRenderer.renderOrderSummary(cartResult);
  CartRenderer.renderCartCount(cartResult.totalQuantity);
  
  // 6. 포인트 계산 및 표시
  updateBonusPoints();
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-service-레이어-분석"><a aria-hidden="true" tabindex="-1" href="#b-service-레이어-분석"><span class="icon icon-link"></span></a>B. Service 레이어 분석</h3>
<p><strong>CartService.js</strong> - 순수 함수로 비즈니스 로직 처리</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">calculateCartSummary</span><span class="token punctuation">(</span><span class="token parameter">cartData<span class="token punctuation">,</span> getProductById</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> subtotal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalQuantity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> discountedTotal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> individualDiscountInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> cartData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token function">getProductById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">)</span> <span class="token keyword control-flow">continue</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> quantity <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token property-access">quantity</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">const</span> itemSubtotal <span class="token operator">=</span> product<span class="token punctuation">.</span><span class="token property-access">price</span> <span class="token operator">*</span> quantity<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    totalQuantity <span class="token operator">+=</span> quantity<span class="token punctuation">;</span>
</span><span class="code-line">    subtotal <span class="token operator">+=</span> itemSubtotal<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 개별 상품 할인 계산</span>
</span><span class="code-line">    <span class="token keyword">const</span> discountRate <span class="token operator">=</span> <span class="token function">getProductDiscount</span><span class="token punctuation">(</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>discountRate <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      individualDiscountInfo<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">name</span><span class="token operator">:</span> product<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">discountPercent</span><span class="token operator">:</span> discountRate <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    discountedTotal <span class="token operator">+=</span> itemSubtotal <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> discountRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> subtotal<span class="token punctuation">,</span> totalQuantity<span class="token punctuation">,</span> discountedTotal<span class="token punctuation">,</span> individualDiscountInfo <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function calculateCartSummary(cartData, getProductById) {
  let subtotal = 0;
  let totalQuantity = 0;
  let discountedTotal = 0;
  const individualDiscountInfo = [];

  for (const item of cartData) {
    const product = getProductById(item.id);
    if (!product) continue;

    const quantity = item.quantity;
    const itemSubtotal = product.price * quantity;

    totalQuantity += quantity;
    subtotal += itemSubtotal;

    // 개별 상품 할인 계산
    const discountRate = getProductDiscount(product.id, quantity);
    if (discountRate &gt; 0) {
      individualDiscountInfo.push({
        name: product.name,
        discountPercent: discountRate * 100,
      });
    }

    discountedTotal += itemSubtotal * (1 - discountRate);
  }

  return { subtotal, totalQuantity, discountedTotal, individualDiscountInfo };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-renderer-레이어-분석"><a aria-hidden="true" tabindex="-1" href="#c-renderer-레이어-분석"><span class="icon icon-link"></span></a>C. Renderer 레이어 분석</h3>
<p><strong>CartRenderer.js</strong> - DOM 조작을 통한 UI 렌더링</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">renderCartItems</span><span class="token punctuation">(</span><span class="token parameter">cartData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartDisplay <span class="token operator">=</span> <span class="token function">getCartDisplayElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cartDisplay<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cartData <span class="token operator">||</span> cartData<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cartDisplay<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  cartDisplay<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> cartData
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token function">getProductById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token function"><span class="token maybe-class-name">CartItem</span></span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> product<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function renderCartItems(cartData) {
  const cartDisplay = getCartDisplayElement();
  if (!cartDisplay) return;

  if (!cartData || cartData.length === 0) {
    cartDisplay.innerHTML = &#x27;&#x27;;
    return;
  }

  cartDisplay.innerHTML = cartData
    .map((item) =&gt; {
      const product = getProductById(item.id);
      return CartItem(item, product);
    })
    .join(&#x27;&#x27;);
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="d-components-폴더-분석"><a aria-hidden="true" tabindex="-1" href="#d-components-폴더-분석"><span class="icon icon-link"></span></a>D. Components 폴더 분석</h3>
<p><strong>CartItem.js</strong> - 장바구니 아이템 HTML 생성</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CartItem</span></span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> product</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 할인 아이콘 결정</span>
</span><span class="code-line">  <span class="token keyword">const</span> discountIcon <span class="token operator">=</span> product<span class="token punctuation">.</span><span class="token property-access">isOnSale</span> <span class="token operator">&amp;&amp;</span> product<span class="token punctuation">.</span><span class="token property-access">isSuggestedSale</span>
</span><span class="code-line">    <span class="token operator">?</span> <span class="token string">&#x27;⚡💝&#x27;</span> <span class="token operator">:</span> product<span class="token punctuation">.</span><span class="token property-access">isOnSale</span> <span class="token operator">?</span> <span class="token string">&#x27;⚡&#x27;</span> <span class="token operator">:</span> product<span class="token punctuation">.</span><span class="token property-access">isSuggestedSale</span> <span class="token operator">?</span> <span class="token string">&#x27;💝&#x27;</span> <span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 가격 표시 결정  </span>
</span><span class="code-line">  <span class="token keyword">const</span> priceDisplay <span class="token operator">=</span> product<span class="token punctuation">.</span><span class="token property-access">isOnSale</span> <span class="token operator">||</span> product<span class="token punctuation">.</span><span class="token property-access">isSuggestedSale</span>
</span><span class="code-line">    <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span class=&quot;line-through&quot;&gt;₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">originalPrice</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt; 
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">       &lt;span class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getDiscountColor</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">price</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">`</span></span>
</span><span class="code-line">    <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">₩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">price</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    &lt;div id=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; class=&quot;grid grid-cols-[80px_1fr_auto] gap-5 py-5&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;div class=&quot;w-20 h-20 bg-gradient-black&quot;&gt;&lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">        &lt;h3&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>discountIcon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h3&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">        &lt;p class=&quot;text-xs&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>priceDisplay<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">        &lt;!-- 수량 조절 버튼들... --&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;div class=&quot;text-right&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">        &lt;div class=&quot;text-lg&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>priceDisplay<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">        &lt;a class=&quot;remove-item&quot; data-product-id=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;Remove&lt;/a&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    &lt;/div&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function CartItem(item, product) {
  if (!product) return &#x27;&#x27;;

  // 할인 아이콘 결정
  const discountIcon = product.isOnSale &amp;&amp; product.isSuggestedSale
    ? &#x27;⚡💝&#x27; : product.isOnSale ? &#x27;⚡&#x27; : product.isSuggestedSale ? &#x27;💝&#x27; : &#x27;&#x27;;

  // 가격 표시 결정  
  const priceDisplay = product.isOnSale || product.isSuggestedSale
    ? `&lt;span class=&quot;line-through&quot;&gt;₩${product.originalPrice.toLocaleString()}&lt;/span&gt; 
       &lt;span class=&quot;${getDiscountColor(product)}&quot;&gt;₩${product.price.toLocaleString()}&lt;/span&gt;`
    : `₩${product.price.toLocaleString()}`;

  return `
    &lt;div id=&quot;${product.id}&quot; class=&quot;grid grid-cols-[80px_1fr_auto] gap-5 py-5&quot;&gt;
      &lt;div class=&quot;w-20 h-20 bg-gradient-black&quot;&gt;&lt;/div&gt;
      &lt;div&gt;
        &lt;h3&gt;${discountIcon}${product.name}&lt;/h3&gt;
        &lt;p class=&quot;text-xs&quot;&gt;${priceDisplay}&lt;/p&gt;
        &lt;!-- 수량 조절 버튼들... --&gt;
      &lt;/div&gt;
      &lt;div class=&quot;text-right&quot;&gt;
        &lt;div class=&quot;text-lg&quot;&gt;${priceDisplay}&lt;/div&gt;
        &lt;a class=&quot;remove-item&quot; data-product-id=&quot;${product.id}&quot;&gt;Remove&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  `;
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="5-아키텍처-설계-원칙"><a aria-hidden="true" tabindex="-1" href="#5-아키텍처-설계-원칙"><span class="icon icon-link"></span></a>5. 아키텍처 설계 원칙</h2>
<h3 id="a-도메인-분리"><a aria-hidden="true" tabindex="-1" href="#a-도메인-분리"><span class="icon icon-link"></span></a>A. 도메인 분리</h3>
<ul>
<li><strong>Cart</strong>: 장바구니 상태와 계산 로직</li>
<li><strong>Product</strong>: 상품 정보와 재고 관리</li>
<li><strong>Promotion</strong>: 번개세일, 추천할인 타이머</li>
<li><strong>Order</strong>: 할인율 계산, 포인트 적립 등</li>
</ul>
<h3 id="b-레이어-분리-mvc-패턴"><a aria-hidden="true" tabindex="-1" href="#b-레이어-분리-mvc-패턴"><span class="icon icon-link"></span></a>B. 레이어 분리 (MVC 패턴)</h3>
<pre><code class="code-highlight"><span class="code-line">View (DOM Elements) ← 렌더링 ← Renderer
</span><span class="code-line">     ↑                            ↑
</span><span class="code-line">   이벤트                         결과
</span><span class="code-line">     ↓                            ↓
</span><span class="code-line">Controller (오케스트레이션) → Service (비즈니스 로직)
</span><span class="code-line">     ↓                            ↓
</span><span class="code-line">Business State (전역 상태) ← 상태 변경 ←
</span></code><div class="copied" data-code="View (DOM Elements) ← 렌더링 ← Renderer
     ↑                            ↑
   이벤트                         결과
     ↓                            ↓
Controller (오케스트레이션) → Service (비즈니스 로직)
     ↓                            ↓
Business State (전역 상태) ← 상태 변경 ←
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-데이터-흐름"><a aria-hidden="true" tabindex="-1" href="#c-데이터-흐름"><span class="icon icon-link"></span></a>C. 데이터 흐름</h3>
<ol>
<li><strong>사용자 이벤트 발생</strong> → 이벤트 핸들러 실행</li>
<li><strong>Controller 메서드 호출</strong> → 비즈니스 로직 오케스트레이션</li>
<li><strong>Service 함수 실행</strong> → 순수 함수로 계산 처리</li>
<li><strong>Business State 업데이트</strong> → 전역 상태 변경</li>
<li><strong>Renderer 함수 호출</strong> → DOM 직접 조작으로 UI 업데이트</li>
</ol>
</details>
<details>
<summary>📍 <strong>심화 과제</strong></summary>
<h2 id="1-전체-아키텍처-개요-1"><a aria-hidden="true" tabindex="-1" href="#1-전체-아키텍처-개요-1"><span class="icon icon-link"></span></a>1. 전체 아키텍처 개요</h2>
<pre><code class="code-highlight"><span class="code-line">src/advanced/
</span><span class="code-line">├── App.tsx                 
</span><span class="code-line">├── main.tsx               
</span><span class="code-line">├── main.advanced.js      
</span><span class="code-line">├── __tests__/            
</span><span class="code-line">├── features/              # 도메인별 기능 모듈
</span><span class="code-line">│   ├── cart/             
</span><span class="code-line">│   ├── order/            
</span><span class="code-line">│   ├── product/       
</span><span class="code-line">│   └── promotion/     
</span><span class="code-line">└── shared/               # 공통 모듈
</span><span class="code-line">    ├── components/  
</span><span class="code-line">    ├── constants/      
</span><span class="code-line">    ├── core/            
</span><span class="code-line">    ├── hooks/          
</span><span class="code-line">    ├── services/      
</span><span class="code-line">    ├── types/          
</span><span class="code-line">    └── utils/          
</span></code><div class="copied" data-code="src/advanced/
├── App.tsx                 
├── main.tsx               
├── main.advanced.js      
├── __tests__/            
├── features/              # 도메인별 기능 모듈
│   ├── cart/             
│   ├── order/            
│   ├── product/       
│   └── promotion/     
└── shared/               # 공통 모듈
    ├── components/  
    ├── constants/      
    ├── core/            
    ├── hooks/          
    ├── services/      
    ├── types/          
    └── utils/          
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="2-메인-컴포넌트-분석"><a aria-hidden="true" tabindex="-1" href="#2-메인-컴포넌트-분석"><span class="icon icon-link"></span></a>2. 메인 컴포넌트 분석</h2>
<h3 id="apptsx"><a aria-hidden="true" tabindex="-1" href="#apptsx"><span class="icon icon-link"></span></a>App.tsx</h3>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> state<span class="token punctuation">,</span> actions<span class="token punctuation">,</span> getProductById <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useShoppingCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;flex flex-col h-full&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>Header itemCount<span class="token operator">=</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>itemCount<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>MainGrid<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>LeftColumn<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>ProductPanel<span class="token operator">&gt;</span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>ProductPanel<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>CartContainer <span class="token punctuation">{</span><span class="token operator">...</span>cartProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>LeftColumn<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>OrderSummary <span class="token punctuation">{</span><span class="token operator">...</span>orderProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>MainGrid<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>HelpToggleButton <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="function App() {
  const { state, actions, getProductById } = useShoppingCart();

  return (
    &lt;div className=&quot;flex flex-col h-full&quot;&gt;
      &lt;Header itemCount={state.itemCount} /&gt;
      &lt;MainGrid&gt;
        &lt;LeftColumn&gt;
          &lt;ProductPanel&gt;...&lt;/ProductPanel&gt;
          &lt;CartContainer {...cartProps} /&gt;
        &lt;/LeftColumn&gt;
        &lt;OrderSummary {...orderProps} /&gt;
      &lt;/MainGrid&gt;
      &lt;HelpToggleButton /&gt;
    &lt;/div&gt;
  );
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<ul>
<li><strong>단일 커스텀 훅 사용</strong>: <code>useShoppingCart()</code>로 모든 상태와 액션을 관리</li>
<li><strong>컴포넌트 조합</strong>: 작은 컴포넌트들을 조합해서 UI 구성</li>
<li><strong>Props Drilling 최소화</strong>: 필요한 props만 전달</li>
</ul>
<h2 id="3-공통-모듈-분석-shared-1"><a aria-hidden="true" tabindex="-1" href="#3-공통-모듈-분석-shared-1"><span class="icon icon-link"></span></a>3. 공통 모듈 분석 (shared/)</h2>
<h3 id="a-상태-관리-핵심-core-1"><a aria-hidden="true" tabindex="-1" href="#a-상태-관리-핵심-core-1"><span class="icon icon-link"></span></a>A. 상태 관리 핵심 (core/)</h3>
<p><strong>combinedReducer.ts</strong> - 모든 도메인의 리듀서를 하나로 결합</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">RootState</span> <span class="token punctuation">{</span>
</span><span class="code-line">  cart<span class="token operator">:</span> CartState<span class="token punctuation">;</span>
</span><span class="code-line">  product<span class="token operator">:</span> ProductState<span class="token punctuation">;</span>
</span><span class="code-line">  promotion<span class="token operator">:</span> PromotionState<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">RootAction</span> <span class="token operator">=</span> CartAction <span class="token operator">|</span> ProductAction <span class="token operator">|</span> PromotionAction<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">combinedReducer</span><span class="token punctuation">(</span>state<span class="token operator">:</span> RootState<span class="token punctuation">,</span> action<span class="token operator">:</span> RootAction<span class="token punctuation">)</span><span class="token operator">:</span> RootState <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cart<span class="token operator">:</span> <span class="token function">cartReducer</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">,</span> action <span class="token keyword">as</span> CartAction<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    product<span class="token operator">:</span> <span class="token function">productReducer</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>product<span class="token punctuation">,</span> action <span class="token keyword">as</span> ProductAction<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    promotion<span class="token operator">:</span> <span class="token function">promotionReducer</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>promotion<span class="token punctuation">,</span> action <span class="token keyword">as</span> PromotionAction<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export interface RootState {
  cart: CartState;
  product: ProductState;
  promotion: PromotionState;
}

export type RootAction = CartAction | ProductAction | PromotionAction;

export function combinedReducer(state: RootState, action: RootAction): RootState {
  return {
    cart: cartReducer(state.cart, action as CartAction),
    product: productReducer(state.product, action as ProductAction),
    promotion: promotionReducer(state.promotion, action as PromotionAction),
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-통합-훅-hooks"><a aria-hidden="true" tabindex="-1" href="#b-통합-훅-hooks"><span class="icon icon-link"></span></a>B. 통합 훅 (hooks/)</h3>
<p><strong>useShoppingCart.ts</strong> - 모든 도메인을 하나로 묶는 최상위 훅</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useShoppingCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>combinedReducer<span class="token punctuation">,</span> initialRootState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 각 도메인별 hook 사용</span>
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useCart</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> promotion <span class="token operator">=</span> <span class="token function">usePromotion</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 계산된 값들을 메모이제이션</span>
</span><span class="code-line">  <span class="token keyword">const</span> calculatedTotals <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">calculateTotals</span><span class="token punctuation">(</span>rootState<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>rootState<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 통합된 상태와 액션 반환</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> 
</span><span class="code-line">    state<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>cartState<span class="token punctuation">,</span> <span class="token operator">...</span>productState<span class="token punctuation">,</span> <span class="token operator">...</span>calculatedTotals <span class="token punctuation">}</span><span class="token punctuation">,</span> 
</span><span class="code-line">    actions<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>cartActions<span class="token punctuation">,</span> <span class="token operator">...</span>productActions <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    getProductById<span class="token operator">:</span> products<span class="token punctuation">.</span>getProductById 
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useShoppingCart() {
  const [rootState, dispatch] = useReducer(combinedReducer, initialRootState);

  // 각 도메인별 hook 사용
  const cart = useCart(rootState, dispatch);
  const products = useProducts(rootState, dispatch);
  const promotion = usePromotion(rootState, dispatch);

  // 계산된 값들을 메모이제이션
  const calculatedTotals = useMemo(() =&gt; calculateTotals(rootState), [rootState]);

  // 통합된 상태와 액션 반환
  return { 
    state: { ...cartState, ...productState, ...calculatedTotals }, 
    actions: { ...cartActions, ...productActions },
    getProductById: products.getProductById 
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-서비스-레이어"><a aria-hidden="true" tabindex="-1" href="#c-서비스-레이어"><span class="icon icon-link"></span></a>C. 서비스 레이어</h3>
<p><strong>stockService.ts</strong> - 재고 검증과 에러 처리:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">StockValidationError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#x27;StockValidationError&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> stockService <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  validateAddToCart<span class="token operator">:</span> <span class="token punctuation">(</span>product<span class="token operator">:</span> Product <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StockValidationError</span><span class="token punctuation">(</span><span class="token string">&#x27;상품을 찾을 수 없습니다.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>stock <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StockValidationError</span><span class="token punctuation">(</span><span class="token string">&#x27;재고가 부족합니다.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// ... 기타 검증 메서드들</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export class StockValidationError extends Error {
  constructor(message: string) {
    super(message);
    this.name = &#x27;StockValidationError&#x27;;
  }
}

export const stockService = {
  validateAddToCart: (product: Product | undefined): void =&gt; {
    if (!product) throw new StockValidationError(&#x27;상품을 찾을 수 없습니다.&#x27;);
    if (product.stock === 0) throw new StockValidationError(&#x27;재고가 부족합니다.&#x27;);
  },
  // ... 기타 검증 메서드들
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>calculationService.ts</strong> - 전체 주문 계산을 담당:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateTotals</span><span class="token punctuation">(</span>state<span class="token operator">:</span> RootState<span class="token punctuation">)</span><span class="token operator">:</span> CalculatedTotals <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartItems <span class="token operator">=</span> cartSelectors<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItems<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> itemCount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> totalAmount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> cartResult <span class="token operator">=</span> <span class="token function">calculateCart</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> getProductById<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> pointsResult <span class="token operator">=</span> <span class="token function">calculateTotalPoints</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    itemCount<span class="token operator">:</span> cartResult<span class="token punctuation">.</span>totalQuantity<span class="token punctuation">,</span>
</span><span class="code-line">    totalAmount<span class="token operator">:</span> cartResult<span class="token punctuation">.</span>finalAmount<span class="token punctuation">,</span>
</span><span class="code-line">    bonusPoints<span class="token operator">:</span> pointsResult<span class="token punctuation">.</span>finalPoints<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token comment">// ... 기타 계산 결과</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function calculateTotals(state: RootState): CalculatedTotals {
  const cartItems = cartSelectors.getItems(state.cart);
  
  if (cartItems.length === 0) {
    return { itemCount: 0, totalAmount: 0, /* ... */ };
  }

  const cartResult = calculateCart(cartItems, getProductById);
  const pointsResult = calculateTotalPoints(/* ... */);

  return {
    itemCount: cartResult.totalQuantity,
    totalAmount: cartResult.finalAmount,
    bonusPoints: pointsResult.finalPoints,
    // ... 기타 계산 결과
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="d-타입-시스템-types"><a aria-hidden="true" tabindex="-1" href="#d-타입-시스템-types"><span class="icon icon-link"></span></a>D. 타입 시스템 (types/)</h3>
<p>타입들을 도메인별로 분리하고 중앙에서 관리</p>
<pre><code class="code-highlight"><span class="code-line">types/
</span><span class="code-line">├── entities.ts      # Product, CartItem 등 기본 엔티티
</span><span class="code-line">├── calculations.ts  # 계산 관련 타입들
</span><span class="code-line">├── hooks.ts         # 훅들의 반환 타입
</span><span class="code-line">├── legacy.ts        # 기존 코드 호환용
</span><span class="code-line">└── index.ts      
</span></code><div class="copied" data-code="types/
├── entities.ts      # Product, CartItem 등 기본 엔티티
├── calculations.ts  # 계산 관련 타입들
├── hooks.ts         # 훅들의 반환 타입
├── legacy.ts        # 기존 코드 호환용
└── index.ts      
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>기본 엔티티 예시:</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// entities.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  originalPrice<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  stock<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  isOnSale<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</span><span class="code-line">  isSuggestedSale<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CartItem</span> <span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  quantity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// entities.ts
export interface Product {
  id: string;
  name: string;
  price: number;
  originalPrice: number;
  stock: number;
  isOnSale: boolean;
  isSuggestedSale: boolean;
}

export interface CartItem {
  id: string;
  quantity: number;
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="4-도메인별-기능-분석-features---cart-도메인-중심"><a aria-hidden="true" tabindex="-1" href="#4-도메인별-기능-분석-features---cart-도메인-중심"><span class="icon icon-link"></span></a>4. 도메인별 기능 분석 (features/) - Cart 도메인 중심</h2>
<h3 id="cart-도메인-구조-1"><a aria-hidden="true" tabindex="-1" href="#cart-도메인-구조-1"><span class="icon icon-link"></span></a>Cart 도메인 구조</h3>
<pre><code class="code-highlight"><span class="code-line">features/cart/
</span><span class="code-line">├── components/          # UI 컴포넌트
</span><span class="code-line">│   ├── CartContainer.tsx
</span><span class="code-line">│   ├── CartItem.tsx
</span><span class="code-line">│   ├── OrderSummary.tsx
</span><span class="code-line">│   └── index.ts
</span><span class="code-line">├── hooks/
</span><span class="code-line">│   └── useCart.ts      # 장바구니 비즈니스 로직
</span><span class="code-line">├── model/              # 상태 관리 
</span><span class="code-line">│   ├── actions.ts      # 액션 정의
</span><span class="code-line">│   ├── reducer.ts      # 리듀서
</span><span class="code-line">│   └── selectors.ts    # 상태 선택자
</span><span class="code-line">└── services/
</span><span class="code-line">    └── CartService.ts  # 장바구니 계산 로직
</span></code><div class="copied" data-code="features/cart/
├── components/          # UI 컴포넌트
│   ├── CartContainer.tsx
│   ├── CartItem.tsx
│   ├── OrderSummary.tsx
│   └── index.ts
├── hooks/
│   └── useCart.ts      # 장바구니 비즈니스 로직
├── model/              # 상태 관리 
│   ├── actions.ts      # 액션 정의
│   ├── reducer.ts      # 리듀서
│   └── selectors.ts    # 상태 선택자
└── services/
    └── CartService.ts  # 장바구니 계산 로직
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="a-model-폴더-상세-분석-1"><a aria-hidden="true" tabindex="-1" href="#a-model-폴더-상세-분석-1"><span class="icon icon-link"></span></a>A. Model 폴더 상세 분석</h3>
<pre><code class="code-highlight"><span class="code-line">┌──────────────────────────────────────────────────────────────┐
</span><span class="code-line">│                    Cart Domain Model                         │
</span><span class="code-line">├──────────────────────────────────────────────────────────────┤
</span><span class="code-line">│                                                              │
</span><span class="code-line">│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
</span><span class="code-line">│  │ actions.ts  │───▶│ reducer.ts  │───▶│selectors.ts │       │
</span><span class="code-line">│  │             │    │             │    │             │       │
</span><span class="code-line">│  │ • addToCart │    │ • ADD_TO_   │    │ • getItems  │       │
</span><span class="code-line">│  │ • updateQty │    │   CART      │    │ • getCount  │       │
</span><span class="code-line">│  │ • remove    │    │ • UPDATE_   │    │ • getById   │       │
</span><span class="code-line">│  │ • clear     │    │   QUANTITY  │    │ • isEmpty   │       │
</span><span class="code-line">│  │             │    │ • REMOVE    │    │ • hasItem   │       │
</span><span class="code-line">│  │             │    │ • CLEAR     │    │             │       │
</span><span class="code-line">│  └─────────────┘    └─────────────┘    └─────────────┘       │
</span><span class="code-line">│                              │                               │
</span><span class="code-line">│                              │                               │
</span><span class="code-line">│                              ▼                               │
</span><span class="code-line">│                     ┌─────────────┐                          │
</span><span class="code-line">│                     │ CartState   │                          │
</span><span class="code-line">│                     │             │                          │
</span><span class="code-line">│                     │ {           │                          │
</span><span class="code-line">│                     │   items: [] │                          │
</span><span class="code-line">│                     │ }           │                          │
</span><span class="code-line">│                     └─────────────┘                          │
</span><span class="code-line">│                                                              │
</span><span class="code-line">└──────────────────────────────────────────────────────────────┘
</span></code><div class="copied" data-code="┌──────────────────────────────────────────────────────────────┐
│                    Cart Domain Model                         │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│  │ actions.ts  │───▶│ reducer.ts  │───▶│selectors.ts │       │
│  │             │    │             │    │             │       │
│  │ • addToCart │    │ • ADD_TO_   │    │ • getItems  │       │
│  │ • updateQty │    │   CART      │    │ • getCount  │       │
│  │ • remove    │    │ • UPDATE_   │    │ • getById   │       │
│  │ • clear     │    │   QUANTITY  │    │ • isEmpty   │       │
│  │             │    │ • REMOVE    │    │ • hasItem   │       │
│  │             │    │ • CLEAR     │    │             │       │
│  └─────────────┘    └─────────────┘    └─────────────┘       │
│                              │                               │
│                              │                               │
│                              ▼                               │
│                     ┌─────────────┐                          │
│                     │ CartState   │                          │
│                     │             │                          │
│                     │ {           │                          │
│                     │   items: [] │                          │
│                     │ }           │                          │
│                     └─────────────┘                          │
│                                                              │
└──────────────────────────────────────────────────────────────┘
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>actions.ts</strong> - 장바구니에서 발생할 수 있는 모든 액션들</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">CartAction</span> <span class="token operator">=</span>
</span><span class="code-line">  <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;cart/ADD_TO_CART&#x27;</span><span class="token punctuation">;</span> payload<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;cart/UPDATE_QUANTITY&#x27;</span><span class="token punctuation">;</span> payload<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> quantity<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;cart/REMOVE_FROM_CART&#x27;</span><span class="token punctuation">;</span> payload<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">|</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;cart/CLEAR_CART&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> cartActions <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  addToCart<span class="token operator">:</span> <span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> CartAction <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    type<span class="token operator">:</span> <span class="token string">&#x27;cart/ADD_TO_CART&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    payload<span class="token operator">:</span> productId<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// ... 기타 액션 생성자들</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export type CartAction =
  | { type: &#x27;cart/ADD_TO_CART&#x27;; payload: string }
  | { type: &#x27;cart/UPDATE_QUANTITY&#x27;; payload: { id: string; quantity: number } }
  | { type: &#x27;cart/REMOVE_FROM_CART&#x27;; payload: string }
  | { type: &#x27;cart/CLEAR_CART&#x27; };

export const cartActions = {
  addToCart: (productId: string): CartAction =&gt; ({
    type: &#x27;cart/ADD_TO_CART&#x27;,
    payload: productId,
  }),
  // ... 기타 액션 생성자들
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>reducer.ts</strong> - 순수 함수로 상태 변화를 관리</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CartState</span> <span class="token punctuation">{</span>
</span><span class="code-line">  items<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">cartReducer</span><span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">,</span> action<span class="token operator">:</span> CartAction<span class="token punctuation">)</span><span class="token operator">:</span> CartState <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">case</span> <span class="token string">&#x27;cart/ADD_TO_CART&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> productId <span class="token operator">=</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token keyword">const</span> existingItemIndex <span class="token operator">=</span> state<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> productId
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>existingItemIndex <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// 기존 아이템 수량 증가</span>
</span><span class="code-line">        <span class="token keyword">const</span> newItems <span class="token operator">=</span> state<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">          index <span class="token operator">===</span> existingItemIndex
</span><span class="code-line">            <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>item<span class="token punctuation">,</span> quantity<span class="token operator">:</span> item<span class="token punctuation">.</span>quantity <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</span><span class="code-line">            <span class="token operator">:</span> item
</span><span class="code-line">        <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> items<span class="token operator">:</span> newItems <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// 새 아이템 추가</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> items<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> productId<span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token comment">// ... 기타 케이스들</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export interface CartState {
  items: CartItem[];
}

export function cartReducer(state: CartState, action: CartAction): CartState {
  switch (action.type) {
    case &#x27;cart/ADD_TO_CART&#x27;: {
      const productId = action.payload;
      const existingItemIndex = state.items.findIndex(
        (item) =&gt; item.id === productId
      );

      if (existingItemIndex &gt;= 0) {
        // 기존 아이템 수량 증가
        const newItems = state.items.map((item, index) =&gt;
          index === existingItemIndex
            ? { ...item, quantity: item.quantity + 1 }
            : item
        );
        return { ...state, items: newItems };
      } else {
        // 새 아이템 추가
        return { ...state, items: [...state.items, { id: productId, quantity: 1 }] };
      }
    }
    // ... 기타 케이스들
  }
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p><strong>selectors.ts</strong> - 상태에서 필요한 데이터를 효율적으로 추출</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> cartSelectors <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  getItems<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">)</span><span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>items<span class="token punctuation">,</span>
</span><span class="code-line">  
</span><span class="code-line">  getItemCount<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">    state<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> total <span class="token operator">+</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  
</span><span class="code-line">  getItemById<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> CartItem <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">    state<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  
</span><span class="code-line">  isEmpty<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>items<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">,</span>
</span><span class="code-line">  
</span><span class="code-line">  hasItem<span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> CartState<span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">    state<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code><div class="copied" data-code="export const cartSelectors = {
  getItems: (state: CartState): CartItem[] =&gt; state.items,
  
  getItemCount: (state: CartState): number =&gt;
    state.items.reduce((total, item) =&gt; total + item.quantity, 0),
  
  getItemById: (state: CartState, id: string): CartItem | undefined =&gt;
    state.items.find((item) =&gt; item.id === id),
  
  isEmpty: (state: CartState): boolean =&gt; state.items.length === 0,
  
  hasItem: (state: CartState, id: string): boolean =&gt;
    state.items.some((item) =&gt; item.id === id),
};
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="b-hooks-폴더-분석"><a aria-hidden="true" tabindex="-1" href="#b-hooks-폴더-분석"><span class="icon icon-link"></span></a>B. Hooks 폴더 분석</h3>
<p><strong>useCart.ts</strong> - 장바구니 비즈니스 로직</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useCart</span><span class="token punctuation">(</span>state<span class="token operator">:</span> RootState<span class="token punctuation">,</span> <span class="token function-variable function">dispatch</span><span class="token operator">:</span> <span class="token punctuation">(</span>action<span class="token operator">:</span> RootAction<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> addToCart <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span>productId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> product <span class="token operator">=</span> productSelectors<span class="token punctuation">.</span><span class="token function">getProductById</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>product<span class="token punctuation">,</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        stockService<span class="token punctuation">.</span><span class="token function">validateAddToCart</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// 트랜잭션처럼 두 액션을 함께 실행</span>
</span><span class="code-line">        <span class="token function">dispatch</span><span class="token punctuation">(</span>cartActions<span class="token punctuation">.</span><span class="token function">addToCart</span><span class="token punctuation">(</span>productId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token function">dispatch</span><span class="token punctuation">(</span>productActions<span class="token punctuation">.</span><span class="token function">updateStock</span><span class="token punctuation">(</span>productId<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">StockValidationError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          notificationService<span class="token punctuation">.</span><span class="token function">showError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span>state<span class="token punctuation">.</span>product<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// updateQuantity, removeFromCart 등 기타 메서드들...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cartItems<span class="token operator">:</span> cartSelectors<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    itemCount<span class="token operator">:</span> cartSelectors<span class="token punctuation">.</span><span class="token function">getItemCount</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    isEmpty<span class="token operator">:</span> cartSelectors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    addToCart<span class="token punctuation">,</span>
</span><span class="code-line">    updateQuantity<span class="token punctuation">,</span>
</span><span class="code-line">    removeFromCart<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function useCart(state: RootState, dispatch: (action: RootAction) =&gt; void) {
  const addToCart = useCallback(
    (productId: string) =&gt; {
      try {
        const product = productSelectors.getProductById(state.product, productId);
        stockService.validateAddToCart(product);

        // 트랜잭션처럼 두 액션을 함께 실행
        dispatch(cartActions.addToCart(productId));
        dispatch(productActions.updateStock(productId, -1));
      } catch (error) {
        if (error instanceof StockValidationError) {
          notificationService.showError(error.message);
        }
      }
    },
    [state.product, dispatch]
  );

  // updateQuantity, removeFromCart 등 기타 메서드들...

  return {
    cartItems: cartSelectors.getItems(state.cart),
    itemCount: cartSelectors.getItemCount(state.cart),
    isEmpty: cartSelectors.isEmpty(state.cart),
    addToCart,
    updateQuantity,
    removeFromCart,
  };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-services-폴더-분석"><a aria-hidden="true" tabindex="-1" href="#c-services-폴더-분석"><span class="icon icon-link"></span></a>C. Services 폴더 분석</h3>
<p><strong>CartService.ts</strong> - 순수 함수로 장바구니 계산 담당</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateCartSummary</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> getProductById<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> CartSummary <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> subtotal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> totalQuantity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> individualDiscountInfo<span class="token operator">:</span> DiscountInfo<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> cartItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token function">getProductById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">const</span> itemSubtotal <span class="token operator">=</span> product<span class="token punctuation">.</span>price <span class="token operator">*</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">;</span>
</span><span class="code-line">    totalQuantity <span class="token operator">+=</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">;</span>
</span><span class="code-line">    subtotal <span class="token operator">+=</span> itemSubtotal<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 개별 할인 계산 로직...</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> subtotal<span class="token punctuation">,</span> totalQuantity<span class="token punctuation">,</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calculateCart</span><span class="token punctuation">(</span>cartItems<span class="token operator">:</span> CartItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> getProductById<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span><span class="token operator">:</span> CartCalculation <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> cartSummary <span class="token operator">=</span> <span class="token function">calculateCartSummary</span><span class="token punctuation">(</span>cartItems<span class="token punctuation">,</span> getProductById<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> bulkDiscounts <span class="token operator">=</span> <span class="token function">applyBulkDiscounts</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token comment">/* 최종 계산 결과 */</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function calculateCartSummary(cartItems: CartItem[], getProductById: Function): CartSummary {
  let subtotal = 0;
  let totalQuantity = 0;
  const individualDiscountInfo: DiscountInfo[] = [];

  for (const item of cartItems) {
    const product = getProductById(item.id);
    if (!product) continue;

    const itemSubtotal = product.price * item.quantity;
    totalQuantity += item.quantity;
    subtotal += itemSubtotal;

    // 개별 할인 계산 로직...
  }

  return { subtotal, totalQuantity, /* ... */ };
}

export function calculateCart(cartItems: CartItem[], getProductById: Function): CartCalculation {
  const cartSummary = calculateCartSummary(cartItems, getProductById);
  const bulkDiscounts = applyBulkDiscounts(/* ... */);
  
  return { /* 최종 계산 결과 */ };
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="d-components-폴더-분석-1"><a aria-hidden="true" tabindex="-1" href="#d-components-폴더-분석-1"><span class="icon icon-link"></span></a>D. Components 폴더 분석</h3>
<p><strong>CartContainer.tsx</strong> - 장바구니 전체를 렌더링하는 컨테이너</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">CartContainer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> cartItems<span class="token punctuation">,</span> getProductById<span class="token punctuation">,</span> onUpdateQuantity<span class="token punctuation">,</span> onRemoveItem <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cartItems<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;cart-items&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;text-gray-500 text-center py-8&quot;</span><span class="token operator">&gt;</span>🛍️ <span class="token number">0</span> items <span class="token keyword">in</span> cart<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;cart-items&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">{</span>cartItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token function">getProductById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token operator">&lt;</span>CartItemComponent key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> <span class="token comment">/* props */</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="export function CartContainer({ cartItems, getProductById, onUpdateQuantity, onRemoveItem }) {
  if (cartItems.length === 0) {
    return (
      &lt;div id=&quot;cart-items&quot;&gt;
        &lt;p className=&quot;text-gray-500 text-center py-8&quot;&gt;🛍️ 0 items in cart&lt;/p&gt;
      &lt;/div&gt;
    );
  }

  return (
    &lt;div id=&quot;cart-items&quot;&gt;
      {cartItems.map((item) =&gt; {
        const product = getProductById(item.id);
        if (!product) return null;

        return &lt;CartItemComponent key={item.id} /* props */ /&gt;;
      })}
    &lt;/div&gt;
  );
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h2 id="5-아키텍처-설계-원칙-1"><a aria-hidden="true" tabindex="-1" href="#5-아키텍처-설계-원칙-1"><span class="icon icon-link"></span></a>5. 아키텍처 설계 원칙</h2>
<h3 id="a-도메인-분리-1"><a aria-hidden="true" tabindex="-1" href="#a-도메인-분리-1"><span class="icon icon-link"></span></a>A. 도메인 분리</h3>
<ul>
<li><strong>Cart</strong>: 장바구니 상태와 아이템 관리</li>
<li><strong>Product</strong>: 상품 정보와 재고 관리</li>
<li><strong>Promotion</strong>: 번개세일, 추천할인 등 프로모션</li>
<li><strong>Order</strong>: 할인율 계산, 포인트 적립 등</li>
</ul>
<h3 id="b-레이어-분리"><a aria-hidden="true" tabindex="-1" href="#b-레이어-분리"><span class="icon icon-link"></span></a>B. 레이어 분리</h3>
<pre><code class="code-highlight"><span class="code-line">UI Components (렌더링만 담당)
</span><span class="code-line">     ↓
</span><span class="code-line">Hooks (비즈니스 로직)
</span><span class="code-line">     ↓  
</span><span class="code-line">Services (도메인 로직)
</span><span class="code-line">     ↓
</span><span class="code-line">State Management (순수한 상태 관리)
</span></code><div class="copied" data-code="UI Components (렌더링만 담당)
     ↓
Hooks (비즈니스 로직)
     ↓  
Services (도메인 로직)
     ↓
State Management (순수한 상태 관리)
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<h3 id="c-데이터-흐름-1"><a aria-hidden="true" tabindex="-1" href="#c-데이터-흐름-1"><span class="icon icon-link"></span></a>C. 데이터 흐름</h3>
<ol>
<li><strong>UI에서 액션 발생</strong> → Hook 호출</li>
<li><strong>Hook에서 비즈니스 로직 처리</strong> → Service 호출 + Validation</li>
<li><strong>Service에서 도메인 로직 실행</strong> → 필요시 여러 액션 디스패치</li>
<li><strong>Reducer에서 상태 변경</strong> → 새로운 상태 반환</li>
<li><strong>Selector로 필요한 데이터 추출</strong> → UI 리렌더링</li>
</ol>
</details>
<h4 id="실제-개발하면서-가장-고민했던-부분들"><a class="anchor" aria-hidden="true" tabindex="-1" href="#실제-개발하면서-가장-고민했던-부분들"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>실제 개발하면서 가장 고민했던 부분들</h4>
<p><strong>1. 레거시 코드 점진적 개선</strong></p>
<p>270줄짜리 거대한 <code>main()</code> 함수를 보고 어디서부터 손대야 할지 막막했습니다.
테스트코드를 참고해 단계별로 접근했어요:</p>
<ul>
<li>1차: 전역변수들을 <code>appState</code> 객체로 모으기</li>
<li>2차: 큰 함수를 작은 함수들로 쪼개기</li>
<li>3차: 비슷한 기능끼리 폴더로 묶기</li>
</ul>
<p>매번 리팩토링 후 테스트가 모두 통과하는지 확인하는 게 필수였어요.. 🥲</p>
<p><strong>2. React 마이그레이션을 고려한 설계</strong></p>
<p>기본과제 진행 중에도 &quot;이 구조가 React로 전환할 때 자연스러울까?&quot;를 계속 고민했습니다.</p>
<ul>
<li><code>CartController.updateCartDisplay()</code> → <code>useCart()</code> 훅으로 바뀔 거고</li>
<li><code>CartRenderer.renderOrderSummary()</code> → <code>&lt;OrderSummary /&gt;</code> 컴포넌트가 될 거고</li>
<li><code>CartService.calculateCart()</code> → 그대로 비즈니스 로직으로 쓸 수 있고</li>
</ul>
<p>그래서 기본과제에서도 Controller-Service-Renderer 패턴으로 나누어서 React 전환이 쉽도록 했습니다.</p>
<p><strong>3. 상태관리 설계</strong></p>
<p>기존 코드의 10개 넘는 전역변수를 어떻게 정리할지가 큰 과제였습니다. appState 객체로 통합하고 접근자 함수를 만든 후, 심화과제에서 useReducer로 자연스럽게 전환할 수 있었습니다.
기본과제 단계에서 React 전환을 염두에 둔 구조 설계가 심화과제 진행에 큰 도움이 되었습니다.</p>
<h3 id="과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제를-다시-해보면-더-잘-할-수-있었겠다-아쉬운-점이-있다면-무엇인가요"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?</h3>
<ul>
<li>타입스크립트를 제대로 활용하지 못했어요.</li>
<li>심화 과제에서 컴포넌트를 더 작고 명확하게 나누지 못한 점이 아쉬워요.</li>
</ul>
<h3 id="리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><a class="anchor" aria-hidden="true" tabindex="-1" href="#리뷰-받고-싶은-내용이나-궁금한-것에-대한-질문-편하게-남겨주세요-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)</h3>
<!-- -->
<h4 id="1-도메인-중심-설계--mvc-패턴의-적절성"><a class="anchor" aria-hidden="true" tabindex="-1" href="#1-도메인-중심-설계--mvc-패턴의-적절성"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1. 도메인 중심 설계 + MVC 패턴의 적절성</h4>
<pre><code class="code-highlight"><span class="code-line">src/basic/domains/
</span><span class="code-line">├── cart/
</span><span class="code-line">│   ├── CartController.js    # 오케스트레이션
</span><span class="code-line">│   ├── CartService.js       # 비즈니스 로직  
</span><span class="code-line">│   └── CartRenderer.js      # UI 렌더링
</span></code><div class="copied" data-code="src/basic/domains/
├── cart/
│   ├── CartController.js    # 오케스트레이션
│   ├── CartService.js       # 비즈니스 로직  
│   └── CartRenderer.js      # UI 렌더링
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>Controller-Service-Renderer 3계층으로 나눈 구조가 적절적절했는지, 그리고 React로 마이그레이션할 때 이런 레이어 분리가 도움이 되었는지 궁금합니다!</p>
<h4 id="2-react-상태-관리"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2-react-상태-관리"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2. React 상태 관리</h4>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// useShoppingCart.ts - 모든 도메인을 하나로 묶는 최상위 훅</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useShoppingCart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>combinedReducer<span class="token punctuation">,</span> initialRootState<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  
</span><span class="code-line">  <span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token function">useCart</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token function">useProducts</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> promotion <span class="token operator">=</span> <span class="token function">usePromotion</span><span class="token punctuation">(</span>rootState<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code><div class="copied" data-code="// useShoppingCart.ts - 모든 도메인을 하나로 묶는 최상위 훅
export function useShoppingCart() {
  const [rootState, dispatch] = useReducer(combinedReducer, initialRootState);
  
  const cart = useCart(rootState, dispatch);
  const products = useProducts(rootState, dispatch);
  const promotion = usePromotion(rootState, dispatch);
  // ...
}
"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
<p>하나의 combinedReducer로 모든 상태를 관리하는 방식이 적절한지 궁금합니다. 장바구니만 변경되어도 전체 상태가 업데이트되는데, Context 분리나 다른 상태 관리 패턴을 고려해야 할까요?</p>
<h4 id="3-전체적인-개선-방향"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3-전체적인-개선-방향"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3. 전체적인 개선 방향</h4>
<p>심화과제 React+TypeScript로 마이그레이션하면서 useReducer로 재설계했는데, 현재 구조가 React다운 설계인지 아니면 더 React스러운 패턴으로 개선할 부분이 있는지 피드백 받고 싶습니다! 🤔
그리고 Javascript → React 마이그레이션 과정에서 놓친 React 베스트 프랙티스가 있다면 알고 싶습니다!</p></div></div><div class="overflow-auto mt-9"><div data-color-mode="dark" class="wmde-markdown wmde-markdown-color p-6 max-w-full" style="word-wrap:break-word;overflow-wrap:break-word"><h2 id="과제-피드백"><a class="anchor" aria-hidden="true" tabindex="-1" href="#과제-피드백"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>과제 피드백</h2>
<p>지수님 고생하셨습니다.
작성하신 문서를 읽는데도 시간이 굉장히 오래걸렸는데요. 꼼꼼하게 잘 작성해주신걸 보니 과제를 어떤 방향으로 진행할 수 있었는지 명확하게 이해할 수 있었습니다.  시각화한 다이어그램도 좋았어요 :+1
과제는 전반적으로 매우 잘 작성해주셨어요! 크게 피드백 드릴만한 내용이 없는 것 같습니다.</p>
<p>궁금하셨던 내용 답변드려보고 마무리 해볼게요.</p>
<blockquote>
<p>도메인 중심 설계 + MVC 패턴의 적절성</p>
</blockquote>
<p>좋은 접근법이였어요! 비즈니스 로직들을 미리 나눠둔 덕분에 리액트로 마이그레이션 할 때 별도 분리를 진행하면서 코드를 재작성하지 않아도 되었던것으로 생각이 됩니다. :+1</p>
<blockquote>
<ol start="2">
<li>React 상태 관리</li>
</ol>
</blockquote>
<p>단일 진실 공급원 관점에서는 한 곳에서 관리를 하면 일관성이 보장된다는 점도 있고 상태 변화를 한 곳에서 추적할 수 있기 때문에 함께 업데이트 되어야 하는 값들이 자연스럽게 처리될 수 있긴 한 것 같아요.
지금의 단계에서는 상품의 양이나 성능 이슈가 발생할 만큼은 걱정하지 않아도 괜찮은 수준인 것 같고, 최적화는 문제가 발생하는 그 시점에 고민을 하면 되기 때문에 갠적으로는 분리를 하면 오히려 복잡도만 높아질수도 있을 것 같네요!</p>
<blockquote>
<p>전체적인 개선 방향</p>
</blockquote>
<p>걱정하실 필요없이 잘 작성해주셨어요. useReducer같은 것들을 사용해서 명확하게 상태를 관리해주시고 관심사의 분리나 훅을 구성하는 부분들도 너무 잘 해주셨습니다. 더 나아간다면 앞선 주차때 했던 메모이제이션이나 에러 바운더리, suspense, 합성 패턴 같은것들이나... 포탈같은 것들을 활용해보는것?들 정도이지 않을까 싶네요!</p>
<p>이번 주 과제 너무 잘해주셨고 다음주도 이번주처럼 잘 하시길 바랍니다!</p></div></div><div class="mt-9"></div></div></main></div></div></div></div>
</body>
</html>
